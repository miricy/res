openapi: 3.0.2
info:
  title: REST API
  version: '1.1'
  contact:
    name: izhiju Dev Team
    url: 'https://www.izhiju.cn/'
    email: co@izhiju.cn
  description: |
    # Introduction
    Rest API允许您构建使用HTTP调用来检索、修改或发布平台数据的应用程序。例如，通过api，您可以访问控制台的所有功能，或者从构建在api之上的应用程序控制设备。
    api平台遵循标准的表示状态传输（REST）协议来公开其应用程序编程接口（API）。在过去的几年中，REST作为Web服务的主流模式出现了。REST风格的体系结构由客户机和服务器组成。客户机向服务器发起请求，而服务器处理请求并返回适当的响应。请求和响应是围绕资源表示的转移而构建的。资源基本上可以是任何可以处理的连贯和有意义的概念。资源的表示通常是捕获资源当前或预期状态的文档。
    zhiju Restful API通过平台对象公开标准操作类型（创建、读取、更新、删除）。它们能够检索XML或JSON格式的资源表示。您可以使用http 的accept头来指定使用“application/xml”和“application/json”媒体类型请求的表示。作为Accept头的替代方法，您可以通过在请求url的路径部分附加“.xml”或“.json”后缀来指定请求的数据表示形式。
    # Authentication
    All REST API, except the Authentication endpoints that performs an Authentication, need an Authentication Token to be executed. You will retrieve such token as a response of one of the Authentication calls, in the form of a [JWT](https://jwt.io) as the value of the property `tokenId`. For every subsequent call, you need to pass such token in the `Authorization` HTTP Header, with the `Bearer` type.
servers:
  - description: zhiju wapi for test
    url: 'https://dev.izhiju.cn/wapi/v1'
  - description: zhiju api doc
    url: 'https://dev.izhiju.cn/api/v1'
  - description: Localhost test
    url: 'http://localhost:8080/api/v1'
  - description: cq cmcc test
    url: 'https://172.20.128.100:446/mapi/v1'
  - description: zhiju meeting api
    url: 'https://dev.izhiju.cn/mapi/v1'
  - description: zhiju REST API Dim
    url: '{scheme}://{host}:{port}/{basePath}'
    variables:
      scheme:
        default: https
        enum:
          - http
          - https
      host:
        description: Host name of the REST API Endpoint
        default: dev.izhiju.cn
      port:
        description: Port number of the REST API Endpoint
        default: '443'
      basePath:
        description: The Base path of the REST API Endpoint
        default: api/v1
paths:
  /authentication/user:
    post:
      tags:
        - Authentication
      summary: Login - User and Password
      operationId: authenticationUser
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  allOf:
                    - type: string
                      pattern: '^[a-zA-Z0-9\_\-]{3,}$'
                password:
                  allOf:
                    - type: string
                      pattern: '^.*(?=.{12,})(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!\"\#$%&''()*+,\-./:;<=>?@\[\]\\^_`{|}~]).*$'
              required:
                - username
                - password
            examples:
              default-user:
                description: Default kapua-sys login credentials
                value:
                  username: your-username
                  password: your-password
      responses:
        '200':
          description: The new AccessToken
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    properties:
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      tokenId:
                        allOf:
                          - type: string
                            pattern: '^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$'
                      expiresOn:
                        type: string
                        format: date-time
                      invalidatedOn:
                        type: string
                        format: date-time
                      refreshToken:
                        type: string
                        format: uuid
                      refreshExpiresOn:
                        type: string
                        format: date-time
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
      security: []
  /authentication/apikey:
    post:
      tags:
        - Authentication
      summary: Login - API Key
      operationId: authenticationApiKey
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                apiKey:
                  type: string
                  format: base64
                  example: z8PEVr4XdBS/KKEKbVG9tJzj6DNNpSVCDpW53CWm
              required:
                - apiKey
      responses:
        '200':
          description: The new AccessToken
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    properties:
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      tokenId:
                        allOf:
                          - type: string
                            pattern: '^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$'
                      expiresOn:
                        type: string
                        format: date-time
                      invalidatedOn:
                        type: string
                        format: date-time
                      refreshToken:
                        type: string
                        format: uuid
                      refreshExpiresOn:
                        type: string
                        format: date-time
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
      security: []
  /authentication/refresh:
    post:
      tags:
        - Authentication
      summary: Refresh an AccessToken
      description: |
        Creates a new AccessToken from an existing (even if expired) AccessToken and a Refresh Token that must be still valid.
        Regardless of the expiration date, the AccessToken provided to the refresh operation WILL be invalidated
      operationId: authenticationRefresh
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                refreshToken:
                  type: string
                  format: uuid
                tokenId:
                  type: string
                  pattern: '^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$'
              required:
                - refreshToken
                - tokenId
      responses:
        '200':
          description: The new AccessToken
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    properties:
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      tokenId:
                        allOf:
                          - type: string
                            pattern: '^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$'
                      expiresOn:
                        type: string
                        format: date-time
                      invalidatedOn:
                        type: string
                        format: date-time
                      refreshToken:
                        type: string
                        format: uuid
                      refreshExpiresOn:
                        type: string
                        format: date-time
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
      security: []
  /authentication/jwt:
    post:
      tags:
        - Authentication
      summary: Login - JWT
      operationId: authenticationJwt
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                jwt:
                  type: string
                  pattern: '^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$'
              required:
                - jwt
      responses:
        '200':
          description: The new AccessToken
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    properties:
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      tokenId:
                        allOf:
                          - type: string
                            pattern: '^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$'
                      expiresOn:
                        type: string
                        format: date-time
                      invalidatedOn:
                        type: string
                        format: date-time
                      refreshToken:
                        type: string
                        format: uuid
                      refreshExpiresOn:
                        type: string
                        format: date-time
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
      security: []
  /authentication/info:
    get:
      description: Returns all the Authentication and Authorization informations about the current session
      tags:
        - Authentication
      summary: Login Info
      operationId: authenticationLoginInfo
      responses:
        '200':
          description: An object conatining all the Authentication and Authorization informations about the current session
          content:
            application/json:
              schema:
                type: object
                properties:
                  accessPermission:
                    type: array
                    items:
                      allOf:
                        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                          type: object
                          properties:
                            id:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity
                                  readOnly: true
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Scope containing the Entity
                                  readOnly: true
                            createdOn:
                              description: The date and time when this entity was created
                              type: string
                              format: date-time
                              readOnly: true
                            createdBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who created this Entity
                                  readOnly: true
                        - description: An object that represents the link between an AccessInfo and a Permission
                          type: object
                          properties:
                            accessInfoId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the AccessInfo
                            permission:
                              description: The representation of a Permission
                              type: object
                              properties:
                                domain:
                                  description: The domain name in which the Permission acts. `*` means "Any Domains"
                                  type: string
                                action:
                                  description: The action that is permitted. `*` means "Any Action in the given Domain"
                                  type: string
                                groupId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                                targetScopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                                forwardable:
                                  description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                                  type: boolean
                              required:
                                - domain
                                - action
                              example:
                                domain: broker
                                action: connect
                                targetScopeId: AQ
                                forwardable: false
                          example:
                            type: accessPermission
                            id: AQ
                            scopeId: AQ
                            createdOn: '2019-11-12T14:15:47.000Z'
                            createdBy: AQ
                            accessInfoId: Ag
                            permission:
                              domain: broker
                              action: connect
                              targetScopeId: AQ
                              forwardable: false
                  accessToken:
                    allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - type: object
                        properties:
                          userId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          tokenId:
                            allOf:
                              - type: string
                                pattern: '^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$'
                          expiresOn:
                            type: string
                            format: date-time
                          invalidatedOn:
                            type: string
                            format: date-time
                          refreshToken:
                            type: string
                            format: uuid
                          refreshExpiresOn:
                            type: string
                            format: date-time
                  rolePermissions:
                    type: array
                    items:
                      allOf:
                        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                          type: object
                          properties:
                            id:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity
                                  readOnly: true
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Scope containing the Entity
                                  readOnly: true
                            createdOn:
                              description: The date and time when this entity was created
                              type: string
                              format: date-time
                              readOnly: true
                            createdBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who created this Entity
                                  readOnly: true
                        - type: object
                          properties:
                            roleId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            permission:
                              description: The representation of a Permission
                              type: object
                              properties:
                                domain:
                                  description: The domain name in which the Permission acts. `*` means "Any Domains"
                                  type: string
                                action:
                                  description: The action that is permitted. `*` means "Any Action in the given Domain"
                                  type: string
                                groupId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                                targetScopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                                forwardable:
                                  description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                                  type: boolean
                              required:
                                - domain
                                - action
                              example:
                                domain: broker
                                action: connect
                                targetScopeId: AQ
                                forwardable: false
                          example:
                            type: rolePermission
                            id: BpbQqk31GLc
                            scopeId: AQ
                            createdOn: '2019-09-16T07:49:51.117Z'
                            createdBy: AQ
                            roleId: OYLRT30Z9sA
                            permission:
                              domain: domain
                              action: read
                              forwardable: true
                example:
                  type: loginInfo
                  accessPermission:
                    - id: Jfzafs5eUuw
                      scopeId: AQ
                      createdOn: '2019-11-15T14:43:11.451Z'
                      createdBy: AQ
                      accessInfoId: IKfvOdNER6M
                      permission:
                        domain: datastore
                        action: read
                        targetScopeId: AQ
                        forwardable: false
                  accessToken:
                    id: RSP1npB7wZ4
                    scopeId: AQ
                    createdOn: '2019-11-15T14:43:27.547Z'
                    createdBy: UlM9TGpJJ-g
                    modifiedOn: '2019-11-15T14:43:27.547Z'
                    modifiedBy: UlM9TGpJJ-g
                    optlock: 1
                    tokenId: eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwczovL3d3dy5lY2xpcHNlLm9yZy9rYXB1YSIsImlhdCI6MTU3MzgyOTAwNywiZXhwIjoxNTczODMwODA3LCJzdWIiOiJVbE05VEdwSkotZyIsInNJZCI6IkFRIn0.LgVFKAl1Ftd3g81MhtUglee5JjCqd-gGjilj1UAkDbKs4Xwgo1j9V-CBVPF4aop3r0x80U9YaVthYoPEikG2v4QaRHl7UGeikWOHk4g0lpeFCZvS_Kcag6VgbfYKKXd2C2ivtQE3enjZIUEz2UTEXz3KrcizuvgO4SP_PEz5hGkjqfbV2l1IM--_E8LQRBQoD7ixpGajaUlcrNlLsJcNgy8hRgyNp_Bqbyosd4oBttC4oDIyVA9Wmgq8aXUwFl7SZ42Kd4RIUUlMg-aAIAzWXVMQ2kCY1jYy7eNUmLszWdmPjMZsKbFcB5asXXYiHvZ_zy0x9AHFRnFte721ESjG3NLlvx8UKOWLFBkmlbvgPLd5fhlzTzim57ddpTjJpRsTM123VSwKL6Ul3ZZKiADrBVi4By-C4BhIkS9hVfa-HzfWlQKUOJvpa7PuUuRT1XzxxSTwIjgE4XuNdxHRqJpJPg0XtAuN67KXhmXjeQUaDi05GvpV3VyhtO6_GjjoLRd934N2hBdgS6FLIYkxBVMNSyqzjg9QO_A6Yzul5JK8T6H-f7ZhlYsx3trkWw0I9jetQguPveChFY0xbeTHSW0PwyNpyXKBzIUQhwCH2zoI9LxUy7TV7yn5wN3IW5MocnOXtKG49BTIbslT4eccoTWhtFQafGu8OF0TN-QyMf0eGTQ
                    userId: UlM9TGpJJ-g
                    expiresOn: '2019-11-15T15:13:27.506Z'
                    refreshToken: e8a53e18-0c6b-4f3c-9929-409069a9c66e
                    refreshExpiresOn: '2019-11-15T19:43:27.506Z'
                  rolePermission:
                    - id: a716DxmV9TI
                      scopeId: AQ
                      createdOn: '2019-11-15T14:42:28.859Z'
                      createdBy: AQ
                      roleId: OgkB8tR0kF4
                      permission:
                        domain: device
                        action: read
                        targetScopeId: AQ
                        forwardable: false
                    - id: O0X0yIQo6NU
                      scopeId: AQ
                      createdOn: '2019-11-15T14:42:04.153Z'
                      createdBy: AQ
                      roleId: EUkieLf-Y8M
                      permission:
                        domain: user
                        targetScopeId: AQ
                        forwardable: false
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  /authentication/logout:
    post:
      tags:
        - Authentication
      summary: Logout
      operationId: authenticationLogout
      responses:
        '204':
          description: Logout Successful
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos':
    get:
      tags:
        - Access Info
      summary: Get all the AccessInfo
      operationId: accessInfoList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: userId
          in: query
          description: The ID of the User to use as a filter in the query
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the AccessInfo objects available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A container for a list of AccessInfo objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - description: An AccessInfo represents all the security objects (Roles and Permissions) that can be attached to a User. There will be exactly one AccessInfo object for every User
                              type: object
                              properties:
                                userId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the User to which this AccessInfo is attached to
                              example:
                                type: accessInfo
                                id: AQ
                                scopeId: AQ
                                createdOn: '2019-09-10T15:08:50.799Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-10T15:08:50.799Z'
                                modifiedBy: AQ
                                optlock: 0
                                userId: AQ
                    example:
                      type: accessInfoListResult
                      limitExceeded: false
                      size: 2
                      items:
                        - type: accessInfo
                          id: Ag
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:50.799Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:50.799Z'
                          modifiedBy: AQ
                          optlock: 0
                          userId: Ag
                        - type: accessInfo
                          id: AQ
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:50.799Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:50.799Z'
                          modifiedBy: AQ
                          optlock: 0
                          userId: AQ
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Access Info
      summary: Create an AccessInfo
      operationId: accessInfoCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: The AccessInfoCreator object to create the new AccessInfo
        content:
          application/json:
            schema:
              allOf:
                - description: An object that contains the informations needed to create an Entity
                  type: object
                - description: An object that contains the informations needed to create an AccessInfo
                  type: object
                  properties:
                    permissions:
                      description: An Array of Permission objects to attach to the new AccessInfo
                      type: array
                      items:
                        description: The representation of a Permission
                        type: object
                        properties:
                          domain:
                            description: The domain name in which the Permission acts. `*` means "Any Domains"
                            type: string
                          action:
                            description: The action that is permitted. `*` means "Any Action in the given Domain"
                            type: string
                          groupId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                          targetScopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                          forwardable:
                            description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                            type: boolean
                        required:
                          - domain
                          - action
                        example:
                          domain: broker
                          action: connect
                          targetScopeId: AQ
                          forwardable: false
                    userId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the User to which the AccessInfo will be assigned
                    roleIds:
                      description: An Array of IDs whose Roles will be attached to the new AccessInfo
                      type: array
                      items:
                        type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                  example:
                    permissions:
                      - domain: broker
                        action: connect
                        targetScopeId: AQ
                        forwardable: false
                    userId: fjo0iXJEQh0
                    roleIds:
                      - CdIaNmq-Ggk
        required: true
      responses:
        '201':
          description: The AccessInfo that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A container for a list of AccessInfo objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - description: An AccessInfo represents all the security objects (Roles and Permissions) that can be attached to a User. There will be exactly one AccessInfo object for every User
                              type: object
                              properties:
                                userId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the User to which this AccessInfo is attached to
                              example:
                                type: accessInfo
                                id: AQ
                                scopeId: AQ
                                createdOn: '2019-09-10T15:08:50.799Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-10T15:08:50.799Z'
                                modifiedBy: AQ
                                optlock: 0
                                userId: AQ
                    example:
                      type: accessInfoListResult
                      limitExceeded: false
                      size: 2
                      items:
                        - type: accessInfo
                          id: Ag
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:50.799Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:50.799Z'
                          modifiedBy: AQ
                          optlock: 0
                          userId: Ag
                        - type: accessInfo
                          id: AQ
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:50.799Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:50.799Z'
                          modifiedBy: AQ
                          optlock: 0
                          userId: AQ
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/{accessInfoId}':
    get:
      tags:
        - Access Info
      summary: Get a single AccessInfo
      operationId: accessInfoGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired AccessInfo
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - description: An AccessInfo represents all the security objects (Roles and Permissions) that can be attached to a User. There will be exactly one AccessInfo object for every User
                    type: object
                    properties:
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the User to which this AccessInfo is attached to
                    example:
                      type: accessInfo
                      id: AQ
                      scopeId: AQ
                      createdOn: '2019-09-10T15:08:50.799Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-10T15:08:50.799Z'
                      modifiedBy: AQ
                      optlock: 0
                      userId: AQ
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Access Info
      summary: Delete a single AccessInfo
      operationId: accessInfoDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The AccessInfo has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/_count':
    post:
      tags:
        - Access Info
      summary: Count the AccessInfos
      operationId: accessInfoCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/_query':
    post:
      tags:
        - Access Info
      summary: Query the AccessInfos
      operationId: accessInfoQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A container for a list of AccessInfo objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - description: An AccessInfo represents all the security objects (Roles and Permissions) that can be attached to a User. There will be exactly one AccessInfo object for every User
                              type: object
                              properties:
                                userId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the User to which this AccessInfo is attached to
                              example:
                                type: accessInfo
                                id: AQ
                                scopeId: AQ
                                createdOn: '2019-09-10T15:08:50.799Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-10T15:08:50.799Z'
                                modifiedBy: AQ
                                optlock: 0
                                userId: AQ
                    example:
                      type: accessInfoListResult
                      limitExceeded: false
                      size: 2
                      items:
                        - type: accessInfo
                          id: Ag
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:50.799Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:50.799Z'
                          modifiedBy: AQ
                          optlock: 0
                          userId: Ag
                        - type: accessInfo
                          id: AQ
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:50.799Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:50.799Z'
                          modifiedBy: AQ
                          optlock: 0
                          userId: AQ
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/{accessInfoId}/permissions':
    get:
      tags:
        - Access Permission
      summary: Get all the AccessPermissions
      operationId: accessPermissionList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the AccessPermission objects available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A container for a list of AccessPermission objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - description: An object that represents the link between an AccessInfo and a Permission
                              type: object
                              properties:
                                accessInfoId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the AccessInfo
                                permission:
                                  description: The representation of a Permission
                                  type: object
                                  properties:
                                    domain:
                                      description: The domain name in which the Permission acts. `*` means "Any Domains"
                                      type: string
                                    action:
                                      description: The action that is permitted. `*` means "Any Action in the given Domain"
                                      type: string
                                    groupId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                                    targetScopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                                    forwardable:
                                      description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                                      type: boolean
                                  required:
                                    - domain
                                    - action
                                  example:
                                    domain: broker
                                    action: connect
                                    targetScopeId: AQ
                                    forwardable: false
                              example:
                                type: accessPermission
                                id: AQ
                                scopeId: AQ
                                createdOn: '2019-11-12T14:15:47.000Z'
                                createdBy: AQ
                                accessInfoId: Ag
                                permission:
                                  domain: broker
                                  action: connect
                                  targetScopeId: AQ
                                  forwardable: false
                    example:
                      type: accessPermissionListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: accessPermission
                          id: Io4dVUnrBtE
                          scopeId: AQ
                          createdOn: 2019-09-11T14:14:15.786Z
                          createdBy: AQ
                          accessInfoId: FPRcCYjzgqs
                          permission:
                            domain: broker
                            action: connect
                            forwardable: false
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Access Permission
      summary: Create an AccessPermission
      operationId: accessPermissionCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - description: An object that contains the informations needed to create an Entity
                  type: object
                - description: An object that contains the informations needed to create an AccessPermission
                  type: object
                  properties:
                    accessInfoId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the AccessInfo to which attach the Permission
                    permission:
                      description: The representation of a Permission
                      type: object
                      properties:
                        domain:
                          description: The domain name in which the Permission acts. `*` means "Any Domains"
                          type: string
                        action:
                          description: The action that is permitted. `*` means "Any Action in the given Domain"
                          type: string
                        groupId:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                        targetScopeId:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                        forwardable:
                          description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                          type: boolean
                      required:
                        - domain
                        - action
                      example:
                        domain: broker
                        action: connect
                        targetScopeId: AQ
                        forwardable: false
                  required:
                    - accessInfoId
                    - permission
      responses:
        '201':
          description: The AccessPermission that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A container for a list of AccessPermission objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - description: An object that represents the link between an AccessInfo and a Permission
                              type: object
                              properties:
                                accessInfoId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the AccessInfo
                                permission:
                                  description: The representation of a Permission
                                  type: object
                                  properties:
                                    domain:
                                      description: The domain name in which the Permission acts. `*` means "Any Domains"
                                      type: string
                                    action:
                                      description: The action that is permitted. `*` means "Any Action in the given Domain"
                                      type: string
                                    groupId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                                    targetScopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                                    forwardable:
                                      description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                                      type: boolean
                                  required:
                                    - domain
                                    - action
                                  example:
                                    domain: broker
                                    action: connect
                                    targetScopeId: AQ
                                    forwardable: false
                              example:
                                type: accessPermission
                                id: AQ
                                scopeId: AQ
                                createdOn: '2019-11-12T14:15:47.000Z'
                                createdBy: AQ
                                accessInfoId: Ag
                                permission:
                                  domain: broker
                                  action: connect
                                  targetScopeId: AQ
                                  forwardable: false
                    example:
                      type: accessPermissionListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: accessPermission
                          id: Io4dVUnrBtE
                          scopeId: AQ
                          createdOn: 2019-09-11T14:14:15.786Z
                          createdBy: AQ
                          accessInfoId: FPRcCYjzgqs
                          permission:
                            domain: broker
                            action: connect
                            forwardable: false
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/{accessInfoId}/permissions/{accessPermissionId}':
    get:
      tags:
        - Access Permission
      summary: Get a single AccessPermission
      operationId: accessPermissionGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: accessPermissionId
          in: path
          description: The ID of the AccessPermission on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired AccessPermission
          content:
            application/json:
              schema:
                allOf:
                  - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                    type: object
                    properties:
                      id:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity
                            readOnly: true
                      scopeId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Scope containing the Entity
                            readOnly: true
                      createdOn:
                        description: The date and time when this entity was created
                        type: string
                        format: date-time
                        readOnly: true
                      createdBy:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity who created this Entity
                            readOnly: true
                  - description: An object that represents the link between an AccessInfo and a Permission
                    type: object
                    properties:
                      accessInfoId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the AccessInfo
                      permission:
                        description: The representation of a Permission
                        type: object
                        properties:
                          domain:
                            description: The domain name in which the Permission acts. `*` means "Any Domains"
                            type: string
                          action:
                            description: The action that is permitted. `*` means "Any Action in the given Domain"
                            type: string
                          groupId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                          targetScopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                          forwardable:
                            description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                            type: boolean
                        required:
                          - domain
                          - action
                        example:
                          domain: broker
                          action: connect
                          targetScopeId: AQ
                          forwardable: false
                    example:
                      type: accessPermission
                      id: AQ
                      scopeId: AQ
                      createdOn: '2019-11-12T14:15:47.000Z'
                      createdBy: AQ
                      accessInfoId: Ag
                      permission:
                        domain: broker
                        action: connect
                        targetScopeId: AQ
                        forwardable: false
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Access Permission
      summary: Delete a single AccessPermission
      operationId: accessPermissionDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: accessPermissionId
          in: path
          description: The ID of the AccessPermission on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The AccessPermission has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/{accessInfoId}/permissions/_count':
    post:
      tags:
        - Access Permission
      summary: Count the AccessPermissions
      operationId: accessPermissionCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/{accessInfoId}/permissions/_query':
    post:
      tags:
        - Access Permission
      summary: Query the AccessPermissions
      operationId: accessPermissionQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A container for a list of AccessPermission objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - description: An object that represents the link between an AccessInfo and a Permission
                              type: object
                              properties:
                                accessInfoId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the AccessInfo
                                permission:
                                  description: The representation of a Permission
                                  type: object
                                  properties:
                                    domain:
                                      description: The domain name in which the Permission acts. `*` means "Any Domains"
                                      type: string
                                    action:
                                      description: The action that is permitted. `*` means "Any Action in the given Domain"
                                      type: string
                                    groupId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                                    targetScopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                                    forwardable:
                                      description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                                      type: boolean
                                  required:
                                    - domain
                                    - action
                                  example:
                                    domain: broker
                                    action: connect
                                    targetScopeId: AQ
                                    forwardable: false
                              example:
                                type: accessPermission
                                id: AQ
                                scopeId: AQ
                                createdOn: '2019-11-12T14:15:47.000Z'
                                createdBy: AQ
                                accessInfoId: Ag
                                permission:
                                  domain: broker
                                  action: connect
                                  targetScopeId: AQ
                                  forwardable: false
                    example:
                      type: accessPermissionListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: accessPermission
                          id: Io4dVUnrBtE
                          scopeId: AQ
                          createdOn: 2019-09-11T14:14:15.786Z
                          createdBy: AQ
                          accessInfoId: FPRcCYjzgqs
                          permission:
                            domain: broker
                            action: connect
                            forwardable: false
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/{accessInfoId}/roles':
    get:
      tags:
        - Access Role
      summary: Get all the AccessRoles
      operationId: accessRolesList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the AccessRole objects available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A container for a list of AccessRole objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - description: An object that represents the link between an AccessInfo and a Role
                              type: object
                              properties:
                                accessInfoId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the AccessInfo
                                roleId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Role attached to the AccessInfo
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Access Role
      summary: Create an AccessRole
      operationId: accessRoleCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - description: An object that contains the informations needed to create an Entity
                  type: object
                - description: An object that contains the informations needed to create an AccessRole
                  type: object
                  properties:
                    accessInfoId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the AccessInfo to which attach the Permission
                    roleId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the AccessInfo
                  required:
                    - accessInfoId
                    - roleId
      responses:
        '201':
          description: The AccessRole that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A container for a list of AccessRole objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - description: An object that represents the link between an AccessInfo and a Role
                              type: object
                              properties:
                                accessInfoId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the AccessInfo
                                roleId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Role attached to the AccessInfo
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/{accessInfoId}/roles/{accessRoleId}':
    get:
      tags:
        - Access Role
      summary: Get a single AccessRole
      operationId: accessRoleGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: accessRoleId
          in: path
          description: The ID of the AccessRole on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired AccessRole
          content:
            application/json:
              schema:
                allOf:
                  - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                    type: object
                    properties:
                      id:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity
                            readOnly: true
                      scopeId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Scope containing the Entity
                            readOnly: true
                      createdOn:
                        description: The date and time when this entity was created
                        type: string
                        format: date-time
                        readOnly: true
                      createdBy:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity who created this Entity
                            readOnly: true
                  - description: An object that represents the link between an AccessInfo and a Role
                    type: object
                    properties:
                      accessInfoId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the AccessInfo
                      roleId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Role attached to the AccessInfo
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Access Role
      summary: Delete a single AccessRole
      operationId: accessRoleDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: accessRoleId
          in: path
          description: The ID of the AccessRole on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The AccessRole has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/{accessInfoId}/roles/_count':
    post:
      tags:
        - Access Role
      summary: Count the AccessRoles
      operationId: accessRoleCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accessinfos/{accessInfoId}/roles/_query':
    post:
      tags:
        - Access Role
      summary: Query the AccessRoles
      operationId: accessRoleQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ID of the AccessInfo on which to perform the operation
          name: accessInfoId
          in: path
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A container for a list of AccessRole objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - description: An object that represents the link between an AccessInfo and a Role
                              type: object
                              properties:
                                accessInfoId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the AccessInfo
                                roleId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Role attached to the AccessInfo
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accounts':
    get:
      tags:
        - Account
      summary: Get all the Accounts
      operationId: accountList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: name
          in: query
          description: An optional string to filter Accounts according to their name
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Accounts available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A list container for Account objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - description: |
                                An object that holds all the informations pertaining an Account, including the details about the Contacts of that account.\
                                In Kapua an Account is the container of all other resources (Users, Devices, etc.), and is the equivalent of the concept of Tenant.\
                                Every entity in Kapua will have a `scopeId` property, that holds the ID of the Account who holds that entity.
                              type: object
                              properties:
                                organization:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                      description: The Name of the Organization
                                    addressLine1:
                                      type: string
                                      description: First line of the Address for the Organization
                                    addressLine2:
                                      type: string
                                      description: Second line of the Address for the Organization
                                    addressLine3:
                                      type: string
                                      description: Third line of the Address for the Organization
                                    zipPostCode:
                                      type: string
                                      description: The Zip / Postcode for the Organization
                                    city:
                                      type: string
                                      description: The City of the Organization
                                    stateProvinceCounty:
                                      type: string
                                      description: The State / Province / County of the Organization
                                    country:
                                      type: string
                                      description: The Country of the Organization
                                    personName:
                                      type: string
                                      description: The Name of the Person listed as a Contact for the Organization
                                    email:
                                      type: string
                                      description: The Email Address of the Person listed as a Contact for the Organization
                                    phoneNumber:
                                      type: string
                                      description: The Phone Number of the Person listed as a Contact for the Organization
                                  description: An object containing all the informations related to the Organization who holds the account
                                expirationDate:
                                  type: string
                                  format: date-time
                                  description: 'The Expiration date and time for the Account. If empty, the Account has no expiration'
                                parentAccountPath:
                                  type: string
                                  description: The full Scope ID Hierarchy for the Account
                              example:
                                type: account
                                id: LgJHjS2jvdE
                                scopeId: AQ
                                createdOn: '2019-09-09T10:21:03.775Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-09T10:21:03.789Z'
                                modifiedBy: AQ
                                optlock: 2
                                name: acme-inc
                                expirationDate: '2019-31-12T00:00:00.000Z'
                                organization:
                                  addressLine1: 123 Looney Tunes Drive
                                  addressLine2: Block 1
                                  addressLine3: Apartment 25
                                  city: Somewhere City
                                  country: United States
                                  email: wile.coyote@acme.inc
                                  name: ACME Inc.
                                  personName: Wile Ethelbert Coyote
                                  phoneNumber: +1 (555) 123 4567
                                  stateProvinceCounty: 'Green County, GC'
                                  zipPostCode: '00100'
                                parentAccountPath: /1/3315290947379772881
                    example:
                      type: accountListResult
                      size: 1
                      limitExceeded: false
                      items:
                        - type: account
                          id: LgJHjS2jvdE
                          scopeId: AQ
                          createdOn: '2019-09-09T10:21:03.775Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-09T10:21:03.789Z'
                          modifiedBy: AQ
                          optlock: 2
                          name: acme-inc
                          organization:
                            addressLine1: 123 Looney Tunes Drive
                            addressLine2: Block 1
                            addressLine3: Apartment 25
                            city: Somewhere City
                            country: United States
                            email: wile.coyote@acme.inc
                            name: ACME Inc.
                            personName: Wile Ethelbert Coyote
                            phoneNumber: +1 (555) 123 4567
                            stateProvinceCounty: 'Green County, GC'
                            zipPostCode: '00100'
                          parentAccountPath: /1/3315290947379772881
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
      description: Get all the Accounts in the given Scope
    post:
      tags:
        - Account
      summary: Create a new Account
      operationId: accountCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object containing the properties for the new Account to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: An object that contains the informations needed to create an Entity
                          type: object
                        - description: An object that contains the informations needed to create an Updatable Entity
                          type: object
                    - description: An object that contains the informations needed to create a Named Entity
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                      required:
                        - name
                - description: An object with all the information needed to create a new Account
                  type: object
                  properties:
                    organizationName:
                      type: string
                      description: The Name of the Organization
                    organizationAddressLine1:
                      type: string
                      description: First line of the Address for the Organization
                    organizationAddressLine2:
                      type: string
                      description: Second line of the Address for the Organization
                    organizationAddressLine3:
                      type: string
                      description: Third line of the Address for the Organization
                    organizationZipPostCode:
                      type: string
                      description: The Zip / Postcode for the Organization
                    organizationCity:
                      type: string
                      description: The City of the Organization
                    organizationStateProvinceCounty:
                      type: string
                      description: The State / Province / County of the Organization
                    organizationCountry:
                      type: string
                      description: The Country of the Organization
                    organizatioPpersonName:
                      type: string
                      description: The Name of the Person listed as a Contact for the Organization
                    organizationEmail:
                      type: string
                      format: email
                      description: The Email Address of the Person listed as a Contact for the Organization
                    phoneNumber:
                      type: string
                      description: The Phone Number of the Person listed as a Contact for the Organization
                    expirationDate:
                      type: string
                      format: date-time
                      description: The Expiration date and time for the Account
                  required:
                    - organizationName
                    - organizationEmail
                  example:
                    name: acme-inc
                    organizationName: ACME Inc.
                    organizationEmail: wile.coyote@acme.inc
                    organizationAddressLine1: 123 Looney Tunes Drive
                    organizationAddressLine2: Block 1
                    organizationAddressLine3: Apartment 25
                    organizationZipPostCode: '00100'
                    organizationCity: Somewhere City
                    organizationStateProvinceCounty: 'Green County, GC'
                    organizationCountry: United States
                    organizationPersonName: Wile Ethelbert Coyote
                    phoneNumber: +1 (555) 123 4567
                    expirationDate: '2019-31-12T00:00:00.000Z'
        required: true
      responses:
        '201':
          description: The Account that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - description: |
                      An object that holds all the informations pertaining an Account, including the details about the Contacts of that account.\
                      In Kapua an Account is the container of all other resources (Users, Devices, etc.), and is the equivalent of the concept of Tenant.\
                      Every entity in Kapua will have a `scopeId` property, that holds the ID of the Account who holds that entity.
                    type: object
                    properties:
                      organization:
                        type: object
                        properties:
                          name:
                            type: string
                            description: The Name of the Organization
                          addressLine1:
                            type: string
                            description: First line of the Address for the Organization
                          addressLine2:
                            type: string
                            description: Second line of the Address for the Organization
                          addressLine3:
                            type: string
                            description: Third line of the Address for the Organization
                          zipPostCode:
                            type: string
                            description: The Zip / Postcode for the Organization
                          city:
                            type: string
                            description: The City of the Organization
                          stateProvinceCounty:
                            type: string
                            description: The State / Province / County of the Organization
                          country:
                            type: string
                            description: The Country of the Organization
                          personName:
                            type: string
                            description: The Name of the Person listed as a Contact for the Organization
                          email:
                            type: string
                            description: The Email Address of the Person listed as a Contact for the Organization
                          phoneNumber:
                            type: string
                            description: The Phone Number of the Person listed as a Contact for the Organization
                        description: An object containing all the informations related to the Organization who holds the account
                      expirationDate:
                        type: string
                        format: date-time
                        description: 'The Expiration date and time for the Account. If empty, the Account has no expiration'
                      parentAccountPath:
                        type: string
                        description: The full Scope ID Hierarchy for the Account
                    example:
                      type: account
                      id: LgJHjS2jvdE
                      scopeId: AQ
                      createdOn: '2019-09-09T10:21:03.775Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-09T10:21:03.789Z'
                      modifiedBy: AQ
                      optlock: 2
                      name: acme-inc
                      expirationDate: '2019-31-12T00:00:00.000Z'
                      organization:
                        addressLine1: 123 Looney Tunes Drive
                        addressLine2: Block 1
                        addressLine3: Apartment 25
                        city: Somewhere City
                        country: United States
                        email: wile.coyote@acme.inc
                        name: ACME Inc.
                        personName: Wile Ethelbert Coyote
                        phoneNumber: +1 (555) 123 4567
                        stateProvinceCounty: 'Green County, GC'
                        zipPostCode: '00100'
                      parentAccountPath: /1/3315290947379772881
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/accounts/{accountId}':
    get:
      tags:
        - Account
      summary: Get a single Account
      operationId: accountGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: accountId
          in: path
          description: The ID of the Account on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Account
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - description: |
                      An object that holds all the informations pertaining an Account, including the details about the Contacts of that account.\
                      In Kapua an Account is the container of all other resources (Users, Devices, etc.), and is the equivalent of the concept of Tenant.\
                      Every entity in Kapua will have a `scopeId` property, that holds the ID of the Account who holds that entity.
                    type: object
                    properties:
                      organization:
                        type: object
                        properties:
                          name:
                            type: string
                            description: The Name of the Organization
                          addressLine1:
                            type: string
                            description: First line of the Address for the Organization
                          addressLine2:
                            type: string
                            description: Second line of the Address for the Organization
                          addressLine3:
                            type: string
                            description: Third line of the Address for the Organization
                          zipPostCode:
                            type: string
                            description: The Zip / Postcode for the Organization
                          city:
                            type: string
                            description: The City of the Organization
                          stateProvinceCounty:
                            type: string
                            description: The State / Province / County of the Organization
                          country:
                            type: string
                            description: The Country of the Organization
                          personName:
                            type: string
                            description: The Name of the Person listed as a Contact for the Organization
                          email:
                            type: string
                            description: The Email Address of the Person listed as a Contact for the Organization
                          phoneNumber:
                            type: string
                            description: The Phone Number of the Person listed as a Contact for the Organization
                        description: An object containing all the informations related to the Organization who holds the account
                      expirationDate:
                        type: string
                        format: date-time
                        description: 'The Expiration date and time for the Account. If empty, the Account has no expiration'
                      parentAccountPath:
                        type: string
                        description: The full Scope ID Hierarchy for the Account
                    example:
                      type: account
                      id: LgJHjS2jvdE
                      scopeId: AQ
                      createdOn: '2019-09-09T10:21:03.775Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-09T10:21:03.789Z'
                      modifiedBy: AQ
                      optlock: 2
                      name: acme-inc
                      expirationDate: '2019-31-12T00:00:00.000Z'
                      organization:
                        addressLine1: 123 Looney Tunes Drive
                        addressLine2: Block 1
                        addressLine3: Apartment 25
                        city: Somewhere City
                        country: United States
                        email: wile.coyote@acme.inc
                        name: ACME Inc.
                        personName: Wile Ethelbert Coyote
                        phoneNumber: +1 (555) 123 4567
                        stateProvinceCounty: 'Green County, GC'
                        zipPostCode: '00100'
                      parentAccountPath: /1/3315290947379772881
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
      description: 'Get the details of a given Account, according to the `accountId` path parameter.'
    put:
      tags:
        - Account
      summary: Update a single Account
      operationId: accountUpdate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: accountId
          in: path
          description: The ID of the Account on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object containing the new properties for the Account to update
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                          type: object
                          properties:
                            id:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity
                                  readOnly: true
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Scope containing the Entity
                                  readOnly: true
                            createdOn:
                              description: The date and time when this entity was created
                              type: string
                              format: date-time
                              readOnly: true
                            createdBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who created this Entity
                                  readOnly: true
                        - description: An Entity that also supports edits and versioning
                          type: object
                          properties:
                            modifiedOn:
                              description: The date and time when this entity was modified
                              type: string
                              format: date-time
                              readOnly: true
                            modifiedBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who modified this Entity
                                  readOnly: true
                            optlock:
                              description: |
                                The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                              type: integer
                    - description: An UpdatableEntity that also has a name and a description
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                - description: |
                    An object that holds all the informations pertaining an Account, including the details about the Contacts of that account.\
                    In Kapua an Account is the container of all other resources (Users, Devices, etc.), and is the equivalent of the concept of Tenant.\
                    Every entity in Kapua will have a `scopeId` property, that holds the ID of the Account who holds that entity.
                  type: object
                  properties:
                    organization:
                      type: object
                      properties:
                        name:
                          type: string
                          description: The Name of the Organization
                        addressLine1:
                          type: string
                          description: First line of the Address for the Organization
                        addressLine2:
                          type: string
                          description: Second line of the Address for the Organization
                        addressLine3:
                          type: string
                          description: Third line of the Address for the Organization
                        zipPostCode:
                          type: string
                          description: The Zip / Postcode for the Organization
                        city:
                          type: string
                          description: The City of the Organization
                        stateProvinceCounty:
                          type: string
                          description: The State / Province / County of the Organization
                        country:
                          type: string
                          description: The Country of the Organization
                        personName:
                          type: string
                          description: The Name of the Person listed as a Contact for the Organization
                        email:
                          type: string
                          description: The Email Address of the Person listed as a Contact for the Organization
                        phoneNumber:
                          type: string
                          description: The Phone Number of the Person listed as a Contact for the Organization
                      description: An object containing all the informations related to the Organization who holds the account
                    expirationDate:
                      type: string
                      format: date-time
                      description: 'The Expiration date and time for the Account. If empty, the Account has no expiration'
                    parentAccountPath:
                      type: string
                      description: The full Scope ID Hierarchy for the Account
                  example:
                    type: account
                    id: LgJHjS2jvdE
                    scopeId: AQ
                    createdOn: '2019-09-09T10:21:03.775Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-09T10:21:03.789Z'
                    modifiedBy: AQ
                    optlock: 2
                    name: acme-inc
                    expirationDate: '2019-31-12T00:00:00.000Z'
                    organization:
                      addressLine1: 123 Looney Tunes Drive
                      addressLine2: Block 1
                      addressLine3: Apartment 25
                      city: Somewhere City
                      country: United States
                      email: wile.coyote@acme.inc
                      name: ACME Inc.
                      personName: Wile Ethelbert Coyote
                      phoneNumber: +1 (555) 123 4567
                      stateProvinceCounty: 'Green County, GC'
                      zipPostCode: '00100'
                    parentAccountPath: /1/3315290947379772881
            example:
              type: account
              optlock: 2
              name: acme-inc
              expirationDate: '2019-31-12T00:00:00.000Z'
              organization:
                addressLine1: 123 Looney Tunes Drive
                addressLine2: Block 1
                addressLine3: Apartment 25
                city: Somewhere City
                country: United States
                email: wile.coyote@acme.inc
                name: ACME Inc.
                personName: Wile Ethelbert Coyote
                phoneNumber: +1 (555) 123 4567
                stateProvinceCounty: Green County GC
                zipPostCode: '00100'
              parentAccountPath: /1/3315290947379772881
        required: true
      responses:
        '200':
          description: The details of the updated Account
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - description: |
                      An object that holds all the informations pertaining an Account, including the details about the Contacts of that account.\
                      In Kapua an Account is the container of all other resources (Users, Devices, etc.), and is the equivalent of the concept of Tenant.\
                      Every entity in Kapua will have a `scopeId` property, that holds the ID of the Account who holds that entity.
                    type: object
                    properties:
                      organization:
                        type: object
                        properties:
                          name:
                            type: string
                            description: The Name of the Organization
                          addressLine1:
                            type: string
                            description: First line of the Address for the Organization
                          addressLine2:
                            type: string
                            description: Second line of the Address for the Organization
                          addressLine3:
                            type: string
                            description: Third line of the Address for the Organization
                          zipPostCode:
                            type: string
                            description: The Zip / Postcode for the Organization
                          city:
                            type: string
                            description: The City of the Organization
                          stateProvinceCounty:
                            type: string
                            description: The State / Province / County of the Organization
                          country:
                            type: string
                            description: The Country of the Organization
                          personName:
                            type: string
                            description: The Name of the Person listed as a Contact for the Organization
                          email:
                            type: string
                            description: The Email Address of the Person listed as a Contact for the Organization
                          phoneNumber:
                            type: string
                            description: The Phone Number of the Person listed as a Contact for the Organization
                        description: An object containing all the informations related to the Organization who holds the account
                      expirationDate:
                        type: string
                        format: date-time
                        description: 'The Expiration date and time for the Account. If empty, the Account has no expiration'
                      parentAccountPath:
                        type: string
                        description: The full Scope ID Hierarchy for the Account
                    example:
                      type: account
                      id: LgJHjS2jvdE
                      scopeId: AQ
                      createdOn: '2019-09-09T10:21:03.775Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-09T10:21:03.789Z'
                      modifiedBy: AQ
                      optlock: 2
                      name: acme-inc
                      expirationDate: '2019-31-12T00:00:00.000Z'
                      organization:
                        addressLine1: 123 Looney Tunes Drive
                        addressLine2: Block 1
                        addressLine3: Apartment 25
                        city: Somewhere City
                        country: United States
                        email: wile.coyote@acme.inc
                        name: ACME Inc.
                        personName: Wile Ethelbert Coyote
                        phoneNumber: +1 (555) 123 4567
                        stateProvinceCounty: 'Green County, GC'
                        zipPostCode: '00100'
                      parentAccountPath: /1/3315290947379772881
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
      description: 'Update the details of a given Account, according to the `accountId` path parameter. Please note that some fields may be readonly for integrity purposes.'
    delete:
      tags:
        - Account
      summary: Delete a single Account
      operationId: accountDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: accountId
          in: path
          description: The ID of the Account on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The Account has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
      description: 'Delete the given account, according to the `accountId` path parameter.'
  '/{scopeId}/accounts/_count':
    post:
      tags:
        - Account
      summary: Count the Accounts
      operationId: accountCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
      description: Returns the count of how many Accounts are present in the given Scope
  '/{scopeId}/accounts/_query':
    post:
      tags:
        - Account
      summary: Query the Accounts
      operationId: accountQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - description: A list container for Account objects
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - description: |
                                An object that holds all the informations pertaining an Account, including the details about the Contacts of that account.\
                                In Kapua an Account is the container of all other resources (Users, Devices, etc.), and is the equivalent of the concept of Tenant.\
                                Every entity in Kapua will have a `scopeId` property, that holds the ID of the Account who holds that entity.
                              type: object
                              properties:
                                organization:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                      description: The Name of the Organization
                                    addressLine1:
                                      type: string
                                      description: First line of the Address for the Organization
                                    addressLine2:
                                      type: string
                                      description: Second line of the Address for the Organization
                                    addressLine3:
                                      type: string
                                      description: Third line of the Address for the Organization
                                    zipPostCode:
                                      type: string
                                      description: The Zip / Postcode for the Organization
                                    city:
                                      type: string
                                      description: The City of the Organization
                                    stateProvinceCounty:
                                      type: string
                                      description: The State / Province / County of the Organization
                                    country:
                                      type: string
                                      description: The Country of the Organization
                                    personName:
                                      type: string
                                      description: The Name of the Person listed as a Contact for the Organization
                                    email:
                                      type: string
                                      description: The Email Address of the Person listed as a Contact for the Organization
                                    phoneNumber:
                                      type: string
                                      description: The Phone Number of the Person listed as a Contact for the Organization
                                  description: An object containing all the informations related to the Organization who holds the account
                                expirationDate:
                                  type: string
                                  format: date-time
                                  description: 'The Expiration date and time for the Account. If empty, the Account has no expiration'
                                parentAccountPath:
                                  type: string
                                  description: The full Scope ID Hierarchy for the Account
                              example:
                                type: account
                                id: LgJHjS2jvdE
                                scopeId: AQ
                                createdOn: '2019-09-09T10:21:03.775Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-09T10:21:03.789Z'
                                modifiedBy: AQ
                                optlock: 2
                                name: acme-inc
                                expirationDate: '2019-31-12T00:00:00.000Z'
                                organization:
                                  addressLine1: 123 Looney Tunes Drive
                                  addressLine2: Block 1
                                  addressLine3: Apartment 25
                                  city: Somewhere City
                                  country: United States
                                  email: wile.coyote@acme.inc
                                  name: ACME Inc.
                                  personName: Wile Ethelbert Coyote
                                  phoneNumber: +1 (555) 123 4567
                                  stateProvinceCounty: 'Green County, GC'
                                  zipPostCode: '00100'
                                parentAccountPath: /1/3315290947379772881
                    example:
                      type: accountListResult
                      size: 1
                      limitExceeded: false
                      items:
                        - type: account
                          id: LgJHjS2jvdE
                          scopeId: AQ
                          createdOn: '2019-09-09T10:21:03.775Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-09T10:21:03.789Z'
                          modifiedBy: AQ
                          optlock: 2
                          name: acme-inc
                          organization:
                            addressLine1: 123 Looney Tunes Drive
                            addressLine2: Block 1
                            addressLine3: Apartment 25
                            city: Somewhere City
                            country: United States
                            email: wile.coyote@acme.inc
                            name: ACME Inc.
                            personName: Wile Ethelbert Coyote
                            phoneNumber: +1 (555) 123 4567
                            stateProvinceCounty: 'Green County, GC'
                            zipPostCode: '00100'
                          parentAccountPath: /1/3315290947379772881
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
      description: Returns a list of the Accounts matching the given query in the Scope. Predicates are not currently supported.
  '/{scopeId}/credentials':
    get:
      tags:
        - Credential
      summary: Get all the Credentials
      operationId: credentialList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: userId
          in: query
          description: The optional id to filter results
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Credentials available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - description: An object containing all the information for a single Credential
                              type: object
                              properties:
                                userId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                credentialType:
                                  type: string
                                  enum:
                                    - PASSWORD
                                    - API_KEY
                                    - JWT
                                credentialKey:
                                  type: string
                                status:
                                  type: string
                                  enum:
                                    - ENABLED
                                    - DISABLED
                                expirationDate:
                                  type: string
                                  format: date-time
                                loginFailures:
                                  description: |
                                    A count of how many times an user failed to login with this Credential.
                                    This field is cleared after a successful login
                                  type: integer
                                firstLoginFailure:
                                  description: |
                                    The moment when the first login failure has been recorded with this credential.
                                    This field is cleared after a successful login
                                  type: string
                                  format: date-time
                                loginFailuresReset:
                                  description: |
                                    The moment when the failure attempts for this Credential will be reset.
                                    This field is cleared after a successful login
                                  type: string
                                  format: date-time
                                lockoutReset:
                                  description: |
                                    The moment when this Credential will be enabled again after a lockout due to too many failures.
                                    This field is cleared after a successful login
                                  type: string
                                  format: date-time
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Credential
      summary: Create a new Credential
      operationId: credentialCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object containing the properties for the new Credential to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - description: An object that contains the informations needed to create an Entity
                      type: object
                    - description: An object that contains the informations needed to create an Updatable Entity
                      type: object
                - type: object
                  properties:
                    userId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    credentialType:
                      type: string
                      enum:
                        - PASSWORD
                        - API_KEY
                        - JWT
                    credentialKey:
                      type: string
                    credentialStatus:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    expirationDate:
                      type: string
                      format: date-time
                  example:
                    userId: AQ
                    credentialType: PASSWORD
                    credentialKey: new-password-123!
                    credentialStatus: ENABLED
                    expirationDate: '2019-12-31T00:00:00.000Z'
            examples:
              password:
                description: Password
                value:
                  userId: AQ
                  credentialType: PASSWORD
                  credentialKey: new-password-123!
                  credentialStatus: ENABLED
                  expirationDate: '2019-12-31T00:00:00.000Z'
              apikey:
                description: API Key
                value:
                  userId: AQ
                  credentialType: API_KEY
                  credentialStatus: ENABLED
                  expirationDate: '2019-12-31T00:00:00.000Z'
        required: true
      responses:
        '201':
          description: The Credential that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - description: An object containing all the information for a single Credential
                    type: object
                    properties:
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      credentialType:
                        type: string
                        enum:
                          - PASSWORD
                          - API_KEY
                          - JWT
                      credentialKey:
                        type: string
                      status:
                        type: string
                        enum:
                          - ENABLED
                          - DISABLED
                      expirationDate:
                        type: string
                        format: date-time
                      loginFailures:
                        description: |
                          A count of how many times an user failed to login with this Credential.
                          This field is cleared after a successful login
                        type: integer
                      firstLoginFailure:
                        description: |
                          The moment when the first login failure has been recorded with this credential.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
                      loginFailuresReset:
                        description: |
                          The moment when the failure attempts for this Credential will be reset.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
                      lockoutReset:
                        description: |
                          The moment when this Credential will be enabled again after a lockout due to too many failures.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/credentials/{credentialId}':
    get:
      tags:
        - Credential
      summary: Get a single Credential
      operationId: credentialGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: credentialId
          in: path
          description: The ID of the Credential on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Credential
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - description: An object containing all the information for a single Credential
                    type: object
                    properties:
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      credentialType:
                        type: string
                        enum:
                          - PASSWORD
                          - API_KEY
                          - JWT
                      credentialKey:
                        type: string
                      status:
                        type: string
                        enum:
                          - ENABLED
                          - DISABLED
                      expirationDate:
                        type: string
                        format: date-time
                      loginFailures:
                        description: |
                          A count of how many times an user failed to login with this Credential.
                          This field is cleared after a successful login
                        type: integer
                      firstLoginFailure:
                        description: |
                          The moment when the first login failure has been recorded with this credential.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
                      loginFailuresReset:
                        description: |
                          The moment when the failure attempts for this Credential will be reset.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
                      lockoutReset:
                        description: |
                          The moment when this Credential will be enabled again after a lockout due to too many failures.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Credential
      summary: Update a single Credential
      operationId: credentialUpdate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: credentialId
          in: path
          description: The ID of the Credential on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object containing the new properties for the Credential to update
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                      type: object
                      properties:
                        id:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity
                              readOnly: true
                        scopeId:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Scope containing the Entity
                              readOnly: true
                        createdOn:
                          description: The date and time when this entity was created
                          type: string
                          format: date-time
                          readOnly: true
                        createdBy:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity who created this Entity
                              readOnly: true
                    - description: An Entity that also supports edits and versioning
                      type: object
                      properties:
                        modifiedOn:
                          description: The date and time when this entity was modified
                          type: string
                          format: date-time
                          readOnly: true
                        modifiedBy:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity who modified this Entity
                              readOnly: true
                        optlock:
                          description: |
                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                          type: integer
                - description: An object containing all the information for a single Credential
                  type: object
                  properties:
                    userId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    credentialType:
                      type: string
                      enum:
                        - PASSWORD
                        - API_KEY
                        - JWT
                    credentialKey:
                      type: string
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    expirationDate:
                      type: string
                      format: date-time
                    loginFailures:
                      description: |
                        A count of how many times an user failed to login with this Credential.
                        This field is cleared after a successful login
                      type: integer
                    firstLoginFailure:
                      description: |
                        The moment when the first login failure has been recorded with this credential.
                        This field is cleared after a successful login
                      type: string
                      format: date-time
                    loginFailuresReset:
                      description: |
                        The moment when the failure attempts for this Credential will be reset.
                        This field is cleared after a successful login
                      type: string
                      format: date-time
                    lockoutReset:
                      description: |
                        The moment when this Credential will be enabled again after a lockout due to too many failures.
                        This field is cleared after a successful login
                      type: string
                      format: date-time
        required: true
      responses:
        '200':
          description: The details of the updated Credential
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - description: An object containing all the information for a single Credential
                    type: object
                    properties:
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      credentialType:
                        type: string
                        enum:
                          - PASSWORD
                          - API_KEY
                          - JWT
                      credentialKey:
                        type: string
                      status:
                        type: string
                        enum:
                          - ENABLED
                          - DISABLED
                      expirationDate:
                        type: string
                        format: date-time
                      loginFailures:
                        description: |
                          A count of how many times an user failed to login with this Credential.
                          This field is cleared after a successful login
                        type: integer
                      firstLoginFailure:
                        description: |
                          The moment when the first login failure has been recorded with this credential.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
                      loginFailuresReset:
                        description: |
                          The moment when the failure attempts for this Credential will be reset.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
                      lockoutReset:
                        description: |
                          The moment when this Credential will be enabled again after a lockout due to too many failures.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Credential
      summary: Delete a single Credential
      operationId: credentialDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: credentialId
          in: path
          description: The ID of the Credential on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The Credential has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/credentials/_count':
    post:
      tags:
        - Credential
      summary: Count the Credentials
      operationId: credentialCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/credentials/_query':
    post:
      tags:
        - Credential
      summary: Query the Credentials
      operationId: credentialQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - description: An object containing all the information for a single Credential
                              type: object
                              properties:
                                userId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                credentialType:
                                  type: string
                                  enum:
                                    - PASSWORD
                                    - API_KEY
                                    - JWT
                                credentialKey:
                                  type: string
                                status:
                                  type: string
                                  enum:
                                    - ENABLED
                                    - DISABLED
                                expirationDate:
                                  type: string
                                  format: date-time
                                loginFailures:
                                  description: |
                                    A count of how many times an user failed to login with this Credential.
                                    This field is cleared after a successful login
                                  type: integer
                                firstLoginFailure:
                                  description: |
                                    The moment when the first login failure has been recorded with this credential.
                                    This field is cleared after a successful login
                                  type: string
                                  format: date-time
                                loginFailuresReset:
                                  description: |
                                    The moment when the failure attempts for this Credential will be reset.
                                    This field is cleared after a successful login
                                  type: string
                                  format: date-time
                                lockoutReset:
                                  description: |
                                    The moment when this Credential will be enabled again after a lockout due to too many failures.
                                    This field is cleared after a successful login
                                  type: string
                                  format: date-time
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/credentials/{credentialId}/unlock':
    post:
      tags:
        - Credential
      summary: Unlock a Credential
      operationId: credentialUnlock
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: credentialId
          in: path
          description: The ID of the Credential on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The Credential has been unlocked
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - description: An object containing all the information for a single Credential
                    type: object
                    properties:
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      credentialType:
                        type: string
                        enum:
                          - PASSWORD
                          - API_KEY
                          - JWT
                      credentialKey:
                        type: string
                      status:
                        type: string
                        enum:
                          - ENABLED
                          - DISABLED
                      expirationDate:
                        type: string
                        format: date-time
                      loginFailures:
                        description: |
                          A count of how many times an user failed to login with this Credential.
                          This field is cleared after a successful login
                        type: integer
                      firstLoginFailure:
                        description: |
                          The moment when the first login failure has been recorded with this credential.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
                      loginFailuresReset:
                        description: |
                          The moment when the failure attempts for this Credential will be reset.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
                      lockoutReset:
                        description: |
                          The moment when this Credential will be enabled again after a lockout due to too many failures.
                          This field is cleared after a successful login
                        type: string
                        format: date-time
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/channels':
    get:
      tags:
        - Data Channel
      summary: Query the Data Channels
      operationId: dataChannelQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: clientId
          in: query
          schema:
            type: string
          description: The ClientID to filter results
        - name: name
          in: query
          schema:
            type: string
          description: The channel name to filter results. It allows '#' wildcard in last channel level
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: base64
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - readOnly: true
                            clientId:
                              type: string
                            name:
                              type: string
                            firstMessageId:
                              type: string
                              format: uuid
                            firstMessageOn:
                              type: string
                              format: date-time
                            lastMessageId:
                              type: string
                              format: uuid
                            lastMessageOn:
                              type: string
                              format: date-time
                          example:
                            type: channelInfo
                            id: xny9A7OkTUcSYxJIGf3oMZHyZIvi4AcsFqJJbY1N2yg=
                            scopeId: AQ
                            clientId: Client-Id-1
                            name: ALERT
                            firstMessageId: 18739b9f-6d8b-42c2-a536-507b37dd5f2a
                            firstMessageOn: '2019-09-12T08:04:13.920Z'
                            lastMessageId: a3e69394-1c20-4446-b596-6fcc4a2028fe
                            lastMessageOn: '2019-09-12T08:14:13.230Z'
                      totalCount:
                        type: integer
                    example:
                      type: channelInfoListResult
                      limitExceeded: false
                      size: 3
                      totalCount: 3
                      items:
                        - type: channelInfo
                          id: xny9A7OkTUcSYxJIGf3oMZHyZIvi4AcsFqJJbY1N2yg=
                          scopeId: AQ
                          clientId: Client-Id-1
                          name: ALERT
                          firstMessageId: 18739b9f-6d8b-42c2-a536-507b37dd5f2a
                          firstMessageOn: '2019-09-12T08:04:13.920Z'
                          lastMessageId: a3e69394-1c20-4446-b596-6fcc4a2028fe
                          lastMessageOn: '2019-09-12T08:14:13.230Z'
                        - type: channelInfo
                          id: vkyqKinEY2/UhxHHz2XRsmz02NtRK5KCsA7Fa1ot6CI=
                          scopeId: AQ
                          clientId: Client-Id-1
                          name: DIAG
                          firstMessageId: 308b0c38-76fa-4530-bb68-8c4c285c1f17
                          firstMessageOn: '2019-09-12T08:04:13.887Z'
                          lastMessageId: 8c59cd10-f23e-435e-a523-0aa8e952da1e
                          lastMessageOn: '2019-09-12T09:04:49.710Z'
                        - type: channelInfo
                          id: X0BcZAV6FfD+Wi9n4x5VOdHmSV/E6UpOTetaqpXAb+w=
                          scopeId: AQ
                          clientId: Client-Id-1
                          name: heater/data
                          firstMessageId: 3cec54f7-9633-4a68-ad5b-48f57ea7f0f3
                          firstMessageOn: '2019-09-12T09:03:20.959Z'
                          lastMessageId: a8597968-d785-42dd-9e04-1f15d42df774
                          lastMessageOn: '2019-09-12T09:05:06.527Z'
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/channels/_count':
    post:
      tags:
        - Data Channel
      summary: Count the ChannelInfos
      operationId: dataChannelCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/channels/{channelInfoId}':
    get:
      tags:
        - Data Channel
      summary: Get a single ChannelInfo
      operationId: channelInfoGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: channelInfoId
          in: path
          description: The ID of the ChannelInfo on which to perform the operation
          schema:
            type: string
            format: base64
          required: true
      responses:
        '200':
          description: The desired ChannelInfo
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: base64
                  scopeId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - readOnly: true
                  clientId:
                    type: string
                  name:
                    type: string
                  firstMessageId:
                    type: string
                    format: uuid
                  firstMessageOn:
                    type: string
                    format: date-time
                  lastMessageId:
                    type: string
                    format: uuid
                  lastMessageOn:
                    type: string
                    format: date-time
                example:
                  type: channelInfo
                  id: xny9A7OkTUcSYxJIGf3oMZHyZIvi4AcsFqJJbY1N2yg=
                  scopeId: AQ
                  clientId: Client-Id-1
                  name: ALERT
                  firstMessageId: 18739b9f-6d8b-42c2-a536-507b37dd5f2a
                  firstMessageOn: '2019-09-12T08:04:13.920Z'
                  lastMessageId: a3e69394-1c20-4446-b596-6fcc4a2028fe
                  lastMessageOn: '2019-09-12T08:14:13.230Z'
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/clients':
    get:
      tags:
        - Data Client
      summary: Query the Data Clients
      operationId: dataClientQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: clientId
          in: query
          schema:
            type: string
          description: The ClientID to filter results
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - readOnly: true
                            clientId:
                              type: string
                            firstMessageId:
                              type: string
                              format: uuid
                            firstMessageOn:
                              type: string
                              format: date-time
                            lastMessageId:
                              type: string
                              format: uuid
                            lastMessageOn:
                              type: string
                              format: date-time
                          example:
                            type: clientInfo
                            id: JOyqK0XfNrKYD5qcAe6MJyl3TMd6AjwzKnqQofb8USg=
                            scopeId: AQ
                            clientId: Client-Id-1
                            firstMessageId: a2320c45-6791-4525-a552-adb163928303
                            firstMessageOn: 2019-09-12T08:14:13.228Z
                            lastMessageId: bb07d7fc-dc62-492f-b8da-7e28df69e112
                            lastMessageOn: 2019-09-12T09:25:05.096Z
                      totalCount:
                        type: integer
                    example:
                      type: clientInfoListResult
                      limitExceeded: false
                      size: 1
                      items:
                        type: clientInfo
                        id: JOyqK0XfNrKYD5qcAe6MJyl3TMd6AjwzKnqQofb8USg=
                        scopeId: AQ
                        clientId: Client-Id-1
                        firstMessageId: a2320c45-6791-4525-a552-adb163928303
                        firstMessageOn: 2019-09-12T08:14:13.228Z
                        lastMessageId: bb07d7fc-dc62-492f-b8da-7e28df69e112
                        lastMessageOn: 2019-09-12T09:25:05.096Z
                      totalCount: 1
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/clients/_count':
    post:
      tags:
        - Data Client
      summary: Count the ClientInfos
      operationId: dataClientCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/clients/{clientInfoId}':
    get:
      tags:
        - Data Client
      summary: Get a single ClientInfo
      operationId: clientInfoGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: clientInfoId
          in: path
          description: The ID of the ClientInfo on which to perform the operation
          schema:
            type: string
          required: true
      responses:
        '200':
          description: The desired ClientInfo
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  scopeId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - readOnly: true
                  clientId:
                    type: string
                  firstMessageId:
                    type: string
                    format: uuid
                  firstMessageOn:
                    type: string
                    format: date-time
                  lastMessageId:
                    type: string
                    format: uuid
                  lastMessageOn:
                    type: string
                    format: date-time
                example:
                  type: clientInfo
                  id: JOyqK0XfNrKYD5qcAe6MJyl3TMd6AjwzKnqQofb8USg=
                  scopeId: AQ
                  clientId: Client-Id-1
                  firstMessageId: a2320c45-6791-4525-a552-adb163928303
                  firstMessageOn: 2019-09-12T08:14:13.228Z
                  lastMessageId: bb07d7fc-dc62-492f-b8da-7e28df69e112
                  lastMessageOn: 2019-09-12T09:25:05.096Z
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/messages':
    get:
      tags:
        - Data Message
      summary: Query the Data Messages
      operationId: dataMessageQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - description: The ClientID to use as a filter for messages
          name: clientId
          in: query
          schema:
            type: string
        - description: The Channel to use as a filter for messages
          name: channel
          in: query
          schema:
            type: string
        - description: Restrict the search only to this channel ignoring its children. Only meaningful if channel is set
          name: strictChannel
          in: query
          schema:
            type: boolean
        - description: The start date to filter the results. Must come before endDate parameter
          name: startDate
          in: query
          schema:
            type: string
            format: date-time
        - description: The end date to filter the results. Must come after startDate parameter
          name: endDate
          in: query
          schema:
            type: string
            format: date-time
        - description: 'The metric name to filter results. If filled, `metricType`, `metricMinValue` and `metricMaxValue` are also required'
          name: metricName
          in: query
          schema:
            type: string
        - description: The metric type to filter results
          name: metricType
          in: query
          schema:
            type: string
        - description: The minimum metric value to filter results
          name: metricMin
          in: query
          schema:
            type: string
        - description: The maximum metric value to filter results
          name: metricMax
          in: query
          schema:
            type: string
        - description: The sort direction. Can be ascending or descending (default).
          name: sortDir
          in: query
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: DESC
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            datastoreId:
                              type: string
                              format: uuid
                              readOnly: true
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - readOnly: true
                            timestamp:
                              type: string
                              format: date-time
                            deviceId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            clientId:
                              type: string
                            receivedOn:
                              type: string
                              format: date-time
                            sentOn:
                              type: string
                              format: date-time
                            capturedOn:
                              type: string
                              format: date-time
                            position:
                              type: object
                              properties:
                                latitude:
                                  type: number
                                  format: double
                                longitude:
                                  type: number
                                  format: double
                                altitude:
                                  type: number
                                  format: double
                                precision:
                                  type: number
                                  format: double
                                heading:
                                  type: number
                                  format: double
                                speed:
                                  type: number
                                  format: double
                                timestamp:
                                  type: string
                                  format: date-time
                                satellites:
                                  type: integer
                                  format: int32
                                status:
                                  type: integer
                                  format: int32
                            channel:
                              type: object
                              properties:
                                semanticParts:
                                  type: array
                                  items:
                                    type: string
                            payload:
                              type: object
                              properties:
                                metrics:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      valueType:
                                        type: string
                                      value:
                                        type: string
                                      name:
                                        type: string
                                body:
                                  type: string
                                  format: base64
                          required:
                            - clientId
                            - deviceId
                          example:
                            type: jsonDatastoreMessage
                            capturedOn: '2019-09-12T09:25:05.096Z'
                            channel:
                              type: kapuaDataChannel
                              semanticParts:
                                - heater
                                - data
                            clientId: Client-Id-1
                            deviceId: WyczTs_GuDM
                            payload:
                              metrics:
                                - valueType: string
                                  value: 5
                                  name: temperatureExternal
                                - valueType: string
                                  value: 20
                                  name: temperatureInternal
                                - valueType: string
                                  value: 30
                                  name: temperatureExhaust
                                - valueType: string
                                  value: 0
                                  name: errorCode
                            receivedOn: '2019-09-12T09:25:05.102Z'
                            scopeId: AQ
                            sentOn: '2019-09-12T09:25:05.096Z'
                            datastoreId: bb07d7fc-dc62-492f-b8da-7e28df69e112
                            timestamp: '2019-09-12T09:25:05.096Z'
                    example:
                      type: storableListResult
                      limitExceeded: true
                      size: 2
                      items:
                        - type: jsonDatastoreMessage
                          capturedOn: '2019-09-12T09:35:04.383Z'
                          channel:
                            type: kapuaDataChannel
                            semanticParts:
                              - heater
                              - data
                          clientId: Client-Id-1
                          deviceId: WyczTs_GuDM
                          payload:
                            metrics:
                              - valueType: string
                                value: 5
                                name: temperatureExternal
                              - valueType: string
                                value: 20.25
                                name: temperatureInternal
                              - valueType: string
                                value: 30
                                name: temperatureExhaust
                              - valueType: string
                                value: -441478528
                                name: errorCode
                          receivedOn: '2019-09-12T09:35:04.389Z'
                          scopeId: AQ
                          sentOn: '2019-09-12T09:35:04.383Z'
                          datastoreId: 6349cec8-396b-4aac-bc2f-8fca9fe0c67c
                          timestamp: '2019-09-12T09:35:04.383Z'
                        - type: jsonDatastoreMessage
                          capturedOn: '2019-09-12T09:25:05.096Z'
                          channel:
                            type: kapuaDataChannel
                            semanticParts:
                              - heater
                              - data
                          clientId: Client-Id-1
                          deviceId: WyczTs_GuDM
                          payload:
                            metrics:
                              - valueType: string
                                value: 5
                                name: temperatureExternal
                              - valueType: string
                                value: 20
                                name: temperatureInternal
                              - valueType: string
                                value: 30
                                name: temperatureExhaust
                              - valueType: string
                                value: 0
                                name: errorCode
                          receivedOn: '2019-09-12T09:25:05.102Z'
                          scopeId: AQ
                          sentOn: '2019-09-12T09:25:05.096Z'
                          datastoreId: bb07d7fc-dc62-492f-b8da-7e28df69e112
                          timestamp: '2019-09-12T09:25:05.096Z'
                      totalCount: 61
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Data Message
      summary: Store a new Message
      operationId: dataMessageStore
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                datastoreId:
                  type: string
                  format: uuid
                  readOnly: true
                scopeId:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    - readOnly: true
                timestamp:
                  type: string
                  format: date-time
                deviceId:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                clientId:
                  type: string
                receivedOn:
                  type: string
                  format: date-time
                sentOn:
                  type: string
                  format: date-time
                capturedOn:
                  type: string
                  format: date-time
                position:
                  type: object
                  properties:
                    latitude:
                      type: number
                      format: double
                    longitude:
                      type: number
                      format: double
                    altitude:
                      type: number
                      format: double
                    precision:
                      type: number
                      format: double
                    heading:
                      type: number
                      format: double
                    speed:
                      type: number
                      format: double
                    timestamp:
                      type: string
                      format: date-time
                    satellites:
                      type: integer
                      format: int32
                    status:
                      type: integer
                      format: int32
                channel:
                  type: object
                  properties:
                    semanticParts:
                      type: array
                      items:
                        type: string
                payload:
                  type: object
                  properties:
                    metrics:
                      type: array
                      items:
                        type: object
                        properties:
                          valueType:
                            type: string
                          value:
                            type: string
                          name:
                            type: string
                    body:
                      type: string
                      format: base64
              required:
                - clientId
                - deviceId
              example:
                type: jsonDatastoreMessage
                capturedOn: '2019-09-12T09:25:05.096Z'
                channel:
                  type: kapuaDataChannel
                  semanticParts:
                    - heater
                    - data
                clientId: Client-Id-1
                deviceId: WyczTs_GuDM
                payload:
                  metrics:
                    - valueType: string
                      value: 5
                      name: temperatureExternal
                    - valueType: string
                      value: 20
                      name: temperatureInternal
                    - valueType: string
                      value: 30
                      name: temperatureExhaust
                    - valueType: string
                      value: 0
                      name: errorCode
                receivedOn: '2019-09-12T09:25:05.102Z'
                scopeId: AQ
                sentOn: '2019-09-12T09:25:05.096Z'
                datastoreId: bb07d7fc-dc62-492f-b8da-7e28df69e112
                timestamp: '2019-09-12T09:25:05.096Z'
            example:
              type: jsonDatastoreMessage
              capturedOn: '2019-09-12T09:25:05.096Z'
              channel:
                type: kapuaDataChannel
                semanticParts:
                  - heater
                  - data
              clientId: Client-Id-1
              deviceId: WyczTs_GuDM
              payload:
                metrics:
                  - valueType: string
                    value: 5
                    name: temperatureExternal
                  - valueType: string
                    value: 20
                    name: temperatureInternal
                  - valueType: string
                    value: 30
                    name: temperatureExhaust
                  - valueType: string
                    value: 0
                    name: errorCode
              receivedOn: '2019-09-12T09:25:05.102Z'
              sentOn: '2019-09-12T09:25:05.096Z'
              datastoreId: bb07d7fc-dc62-492f-b8da-7e28df69e112
              timestamp: '2019-09-12T09:25:05.096Z'
      responses:
        '200':
          description: The ID of the new DataMessage
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    readOnly: true
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/messages/_count':
    post:
      tags:
        - Data Message
      summary: Count the MessageInfos
      operationId: dataMessageCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/messages/{datastoreMessageId}':
    get:
      tags:
        - Data Message
      summary: Get a single DataMessage
      operationId: dataMessageGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: datastoreMessageId
          in: path
          description: The ID of the MetricInfo on which to perform the operation
          schema:
            type: string
          required: true
      responses:
        '200':
          description: The desired DataMessage
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            datastoreId:
                              type: string
                              format: uuid
                              readOnly: true
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - readOnly: true
                            timestamp:
                              type: string
                              format: date-time
                            deviceId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            clientId:
                              type: string
                            receivedOn:
                              type: string
                              format: date-time
                            sentOn:
                              type: string
                              format: date-time
                            capturedOn:
                              type: string
                              format: date-time
                            position:
                              type: object
                              properties:
                                latitude:
                                  type: number
                                  format: double
                                longitude:
                                  type: number
                                  format: double
                                altitude:
                                  type: number
                                  format: double
                                precision:
                                  type: number
                                  format: double
                                heading:
                                  type: number
                                  format: double
                                speed:
                                  type: number
                                  format: double
                                timestamp:
                                  type: string
                                  format: date-time
                                satellites:
                                  type: integer
                                  format: int32
                                status:
                                  type: integer
                                  format: int32
                            channel:
                              type: object
                              properties:
                                semanticParts:
                                  type: array
                                  items:
                                    type: string
                            payload:
                              type: object
                              properties:
                                metrics:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      valueType:
                                        type: string
                                      value:
                                        type: string
                                      name:
                                        type: string
                                body:
                                  type: string
                                  format: base64
                          required:
                            - clientId
                            - deviceId
                          example:
                            type: jsonDatastoreMessage
                            capturedOn: '2019-09-12T09:25:05.096Z'
                            channel:
                              type: kapuaDataChannel
                              semanticParts:
                                - heater
                                - data
                            clientId: Client-Id-1
                            deviceId: WyczTs_GuDM
                            payload:
                              metrics:
                                - valueType: string
                                  value: 5
                                  name: temperatureExternal
                                - valueType: string
                                  value: 20
                                  name: temperatureInternal
                                - valueType: string
                                  value: 30
                                  name: temperatureExhaust
                                - valueType: string
                                  value: 0
                                  name: errorCode
                            receivedOn: '2019-09-12T09:25:05.102Z'
                            scopeId: AQ
                            sentOn: '2019-09-12T09:25:05.096Z'
                            datastoreId: bb07d7fc-dc62-492f-b8da-7e28df69e112
                            timestamp: '2019-09-12T09:25:05.096Z'
                    example:
                      type: storableListResult
                      limitExceeded: true
                      size: 2
                      items:
                        - type: jsonDatastoreMessage
                          capturedOn: '2019-09-12T09:35:04.383Z'
                          channel:
                            type: kapuaDataChannel
                            semanticParts:
                              - heater
                              - data
                          clientId: Client-Id-1
                          deviceId: WyczTs_GuDM
                          payload:
                            metrics:
                              - valueType: string
                                value: 5
                                name: temperatureExternal
                              - valueType: string
                                value: 20.25
                                name: temperatureInternal
                              - valueType: string
                                value: 30
                                name: temperatureExhaust
                              - valueType: string
                                value: -441478528
                                name: errorCode
                          receivedOn: '2019-09-12T09:35:04.389Z'
                          scopeId: AQ
                          sentOn: '2019-09-12T09:35:04.383Z'
                          datastoreId: 6349cec8-396b-4aac-bc2f-8fca9fe0c67c
                          timestamp: '2019-09-12T09:35:04.383Z'
                        - type: jsonDatastoreMessage
                          capturedOn: '2019-09-12T09:25:05.096Z'
                          channel:
                            type: kapuaDataChannel
                            semanticParts:
                              - heater
                              - data
                          clientId: Client-Id-1
                          deviceId: WyczTs_GuDM
                          payload:
                            metrics:
                              - valueType: string
                                value: 5
                                name: temperatureExternal
                              - valueType: string
                                value: 20
                                name: temperatureInternal
                              - valueType: string
                                value: 30
                                name: temperatureExhaust
                              - valueType: string
                                value: 0
                                name: errorCode
                          receivedOn: '2019-09-12T09:25:05.102Z'
                          scopeId: AQ
                          sentOn: '2019-09-12T09:25:05.096Z'
                          datastoreId: bb07d7fc-dc62-492f-b8da-7e28df69e112
                          timestamp: '2019-09-12T09:25:05.096Z'
                      totalCount: 61
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/metrics':
    get:
      tags:
        - Data Metric
      summary: Query the Data Metrics
      operationId: dataMetricQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: clientId
          in: query
          schema:
            type: string
          description: The client ID to filter results
        - name: channel
          in: query
          schema:
            type: string
          description: The channel to filter results. It allows '#' wildcard in last channel level
        - name: name
          in: query
          schema:
            type: string
          description: The metric name to filter results
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: base64
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - readOnly: true
                            clientId:
                              type: string
                            channel:
                              type: string
                            name:
                              type: string
                            metricType:
                              type: string
                            firstMessageId:
                              type: string
                              format: uuid
                            firstMessageOn:
                              type: string
                              format: date-time
                            lastMessageId:
                              type: string
                              format: uuid
                            lastMessageOn:
                              type: string
                              format: date-time
                          example:
                            type: metricInfo
                            id: oLVtE7wK67wO5Lxx4nZGsTEwbVjeo0xcFcnTvmhCxLU=
                            scopeId: AQ
                            clientId: Client-Id-1
                            channel: ALERT
                            name: alert_category
                            metricType: string
                            firstMessageId: c623d131-6f47-49af-9ba0-1474a90dd9ed
                            firstMessageOn: '2019-09-12T08:04:13.918Z'
                            lastMessageId: 653b4aee-e0d5-4af6-b120-ffc7c26057b9
                            lastMessageOn: '2019-09-12T09:24:48.352Z'
                    example:
                      type: metricInfoListResult
                      limitExceeded: false
                      size: 2
                      items:
                        - type: metricInfo
                          id: oLVtE7wK67wO5Lxx4nZGsTEwbVjeo0xcFcnTvmhCxLU=
                          scopeId: AQ
                          clientId: Client-Id-1
                          channel: ALERT
                          name: alert_category
                          metricType: string
                          firstMessageId: c623d131-6f47-49af-9ba0-1474a90dd9ed
                          firstMessageOn: '2019-09-12T08:04:13.918Z'
                          lastMessageId: 653b4aee-e0d5-4af6-b120-ffc7c26057b9
                          lastMessageOn: '2019-09-12T09:24:48.352Z'
                        - type: metricInfo
                          id: q2vErAArLQ2rs/4m3eGZf5p6gqrCT+qZKxbeNPQrc+Q=
                          scopeId: AQ
                          clientId: Client-Id-1
                          channel: ALERT
                          name: alert_code
                          metricType: string
                          firstMessageId: c623d131-6f47-49af-9ba0-1474a90dd9ed
                          firstMessageOn: '2019-09-12T08:04:13.918Z'
                          lastMessageId: 653b4aee-e0d5-4af6-b120-ffc7c26057b9
                          lastMessageOn: '2019-09-12T09:24:48.352Z'
                      totalCount: 35
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/metrics/_count':
    post:
      tags:
        - Data Metric
      summary: Count the MetricInfos
      operationId: dataMetricCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/data/metrics/{metricInfoId}':
    get:
      tags:
        - Data Metric
      summary: Get a single MetricInfo
      operationId: metricInfoGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: metricInfoId
          in: path
          description: The ID of the MetricInfo on which to perform the operation
          schema:
            type: string
          required: true
      responses:
        '200':
          description: The desired MetricInfo
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: base64
                  scopeId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - readOnly: true
                  clientId:
                    type: string
                  channel:
                    type: string
                  name:
                    type: string
                  metricType:
                    type: string
                  firstMessageId:
                    type: string
                    format: uuid
                  firstMessageOn:
                    type: string
                    format: date-time
                  lastMessageId:
                    type: string
                    format: uuid
                  lastMessageOn:
                    type: string
                    format: date-time
                example:
                  type: metricInfo
                  id: oLVtE7wK67wO5Lxx4nZGsTEwbVjeo0xcFcnTvmhCxLU=
                  scopeId: AQ
                  clientId: Client-Id-1
                  channel: ALERT
                  name: alert_category
                  metricType: string
                  firstMessageId: c623d131-6f47-49af-9ba0-1474a90dd9ed
                  firstMessageOn: '2019-09-12T08:04:13.918Z'
                  lastMessageId: 653b4aee-e0d5-4af6-b120-ffc7c26057b9
                  lastMessageOn: '2019-09-12T09:24:48.352Z'
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices':
    get:
      tags:
        - Device
      summary: Get all the Devices
      operationId: deviceList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: tagId
          in: query
          description: The tag id to filter results
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
        - name: clientId
          in: query
          description: The client id to filter results
          schema:
            type: string
        - name: status
          in: query
          description: The connection status to filter results
          schema:
            type: string
            enum:
              - CONNECTED
              - DISCONNECTED
              - MISSING
              - 'NULL'
        - name: fetchAttributes
          in: query
          schema:
            type: array
            items:
              type: string
              enum:
                - connection
                - lastEvent
        - name: askTotalCount
          in: query
          description: 'If true, the total count of the entities matching the query will be included in the result set'
          schema:
            type: boolean
            default: false
        - name: sortParam
          in: query
          description: The name of the parameter that will be used as a sorting key
          schema:
            type: string
        - name: sortDir
          in: query
          description: 'The sort direction. Can be ASCENDING (default), DESCENDING. Case-insensitive.'
          schema:
            type: string
            enum:
              - ASCENDING
              - DESCENDING
            default: ASCENDING
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Devices available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          properties:
                            groupId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Access Group to which this Device is assigned to
                            clientId:
                              type: string
                              readOnly: true
                              description: The Kura Client ID of this device
                            connectionId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Connection of this Device
                                  readOnly: true
                            connection:
                              allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - type: object
                                  properties:
                                    status:
                                      type: string
                                      enum:
                                        - CONNECTED
                                        - DISCONNECTED
                                        - MISSING
                                        - 'NULL'
                                    clientId:
                                      type: string
                                    userId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    allowUserChange:
                                      type: boolean
                                    userCouplingMode:
                                      type: string
                                      enum:
                                        - INHERITED
                                        - LOOSE
                                        - STRICT
                                    reservedUserId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    protocol:
                                      type: string
                                    clientIp:
                                      type: string
                                    serverIp:
                                      type: string
                                      readOnly: true
                                  example:
                                    type: deviceConnection
                                    id: Gd1BfeWwh3s
                                    scopeId: AQ
                                    createdOn: '2019-09-12T09:04:32.101Z'
                                    createdBy: Ag
                                    modifiedOn: '2019-09-13T08:04:49.927Z'
                                    modifiedBy: Ag
                                    optlock: 17
                                    status: CONNECTED
                                    clientId: Client-Id-1
                                    userId: Ag
                                    allowUserChange: false
                                    userCouplingMode: INHERITED
                                    protocol: MQTT
                                    clientIp: 'tcp://172.21.0.1:44400'
                                    serverIp: broker
                            status:
                              type: string
                              enum:
                                - ENABLED
                                - DISABLED
                            displayName:
                              description: The Kura Display Name of this Device
                              type: string
                            lastEventId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the last recorded Event from this Device
                                  readOnly: true
                            lastEvent:
                              allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - type: object
                                  properties:
                                    sentOn:
                                      type: string
                                      format: date-time
                                    receivedOn:
                                      type: string
                                      format: date-time
                                    position:
                                      type: object
                                      properties:
                                        latitude:
                                          type: number
                                          format: double
                                        longitude:
                                          type: number
                                          format: double
                                        altitude:
                                          type: number
                                          format: double
                                        precision:
                                          type: number
                                          format: double
                                        heading:
                                          type: number
                                          format: double
                                        speed:
                                          type: number
                                          format: double
                                        timestamp:
                                          type: string
                                          format: date-time
                                        satellites:
                                          type: integer
                                          format: int32
                                        status:
                                          type: integer
                                          format: int32
                                    resource:
                                      type: string
                                    action:
                                      type: string
                                      enum:
                                        - READ
                                        - CREATE
                                        - WRITE
                                        - DELETE
                                        - OPTIONS
                                        - EXECUTE
                                    responseCode:
                                      type: string
                                      enum:
                                        - ACCEPTED
                                        - BAD_REQUEST
                                        - NOT_FOUND
                                        - INTERNAL_ERROR
                                    eventMessage:
                                      type: string
                                  example:
                                    id: YYHQ2i1S-P0
                                    scopeId: AQ
                                    createdOn: '2019-09-12T09:04:37.392Z'
                                    createdBy: Ag
                                    deviceId: WyczTs_GuDM
                                    receivedOn: '2019-09-12T09:04:32.646Z'
                                    position:
                                      altitude: 0
                                      latitude: 0
                                      longitude: 0
                                    resource: BIRTH
                                    action: CREATE
                                    responseCode: ACCEPTED
                                    eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit #1 SMP Tue Jul 2 22:58:16 UTC 2019~~partNumber=ESF-Docker-RHEL~~serialNumber=ESF-Docker-RHEL~~totalMemory=1023488~~uptime=187894320'
                            serialNumber:
                              description: The Serial Number of this Device
                              type: string
                            modelId:
                              description: The Model ID (not an Kapua ID) of this Device
                              type: string
                            modelName:
                              description: The Model Name of this Device
                              type: string
                            imei:
                              description: The IMEI Code of this Device
                              type: string
                            imsi:
                              description: The IMSI Code of this Device
                              type: string
                            iccid:
                              description: The ICCID Code of this Device
                              type: string
                            biosVersion:
                              description: The BIOS Version running on this Device
                              type: string
                            firmwareVersion:
                              description: The Firmware Version of this Device
                              type: string
                            osVersion:
                              description: The OS Version running on this Device
                              type: string
                            jvmVersion:
                              description: The JVM Version running on this Device
                              type: string
                            osgiFrameworkVersion:
                              description: The OSGi Framework Version running on this Device
                              type: string
                            applicationFrameworkVersion:
                              description: The Application Framework Version running on this Device
                              type: string
                            connectionInterface:
                              description: The Primary Connection Interface Name of this Device
                              type: string
                            connectionIp:
                              description: The IP Address of the Primary Connection Interface on this Device
                              type: string
                            applicationIdentifiers:
                              description: A string listing all the Kura Applications running on this Device
                              type: string
                            acceptEncoding:
                              description: The MIME Encoding accepted by this Device
                              type: string
                            customAttribute1:
                              description: A Custom Attirbute of this Device - 1
                              type: string
                            customAttribute2:
                              description: A Custom Attirbute of this Device - 2
                              type: string
                            customAttribute3:
                              description: A Custom Attirbute of this Device - 3
                              type: string
                            customAttribute4:
                              description: A Custom Attirbute of this Device - 4
                              type: string
                            customAttribute5:
                              description: A Custom Attirbute of this Device - 5
                              type: string
                            tagIds:
                              type: array
                              items:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          example:
                            type: device
                            id: dIVxI5QpFUI
                            scopeId: AQ
                            createdOn: '2019-09-12T12:08:12.179Z'
                            createdBy: AQ
                            modifiedOn: '2019-09-12T12:08:12.179Z'
                            modifiedBy: AQ
                            optlock: 1
                            clientId: testDevice
                            status: ENABLED
                            displayName: Test Device
                            serialNumber: 1234567890
                            modelId: Test Model
                            biosVersion: N/A
                            firmwareVersion: N/A
                            osVersion: 3.13.0-93-generic
                            jvmVersion: 24.111-b01 mixed mode
                            osgiFrameworkVersion: 1.7.0
                            acceptEncoding: gzip
                            tagIds: []
              examples:
                standard:
                  value:
                    type: deviceListResult
                    limitExceeded: false
                    size: 1
                    items:
                      - type: device
                        id: WyczTs_GuDM
                        scopeId: AQ
                        createdOn: 2019-09-12T09:04:37.315Z
                        createdBy: Ag
                        modifiedOn: 2019-09-12T09:04:37.603Z
                        modifiedBy: Ag
                        optlock: 2
                        clientId: Client-Id-1
                        connectionId: Gd1BfeWwh3s
                        status: ENABLED
                        displayName: null
                        lastEventId: YYHQ2i1S-P0
                        serialNumber: ESF-Docker-RHEL
                        modelId: ESF-Docker-RHEL
                        modelName: ESF-Docker-RHEL
                        biosVersion: N/A
                        firmwareVersion: N/A
                        osVersion: 4.9.184-linuxkit
                        jvmVersion: 25.161-b12 mixed mode
                        osgiFrameworkVersion: 1.8.0
                        applicationFrameworkVersion: ESF_6.0.0
                        connectionInterface: 'lo (00:00:00:00:00:00)'
                        connectionIp: 127.0.0.1
                        applicationIdentifiers: heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1
                        acceptEncoding: gzip
                        tagIds: []
                with-fetch-attributes:
                  value:
                    type: deviceListResult
                    limitExceeded: false
                    size: 1
                    items:
                      - type: device
                        id: WyczTs_GuDM
                        scopeId: AQ
                        createdOn: 2019-09-12T09:04:37.315Z
                        createdBy: Ag
                        modifiedOn: 2019-09-12T09:04:37.603Z
                        modifiedBy: Ag
                        optlock: 2
                        clientId: Client-Id-1
                        connectionId: Gd1BfeWwh3s
                        connection:
                          id: Gd1BfeWwh3s
                          scopeId: AQ
                          createdOn: 2019-09-12T09:04:32.101Z
                          createdBy: Ag
                          modifiedOn: 2019-09-12T09:04:32.101Z
                          modifiedBy: Ag
                          optlock: 1
                          status: CONNECTED
                          clientId: Client-Id-1
                          userId: Ag
                          allowUserChange: false
                          userCouplingMode: INHERITED
                          protocol: MQTT
                          clientIp: 'tcp://172.21.0.1:59596'
                          serverIp: broker
                        status: ENABLED
                        displayName: null
                        lastEventId: YYHQ2i1S-P0
                        lastEvent:
                          id: YYHQ2i1S-P0
                          scopeId: AQ
                          createdOn: 2019-09-12T09:04:37.392Z
                          createdBy: Ag
                          deviceId: WyczTs_GuDM
                          receivedOn: 2019-09-12T09:04:32.646Z
                          position:
                            altitude: 0
                            latitude: 0
                            longitude: 0
                          resource: BIRTH
                          action: CREATE
                          responseCode: ACCEPTED
                          eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit'
                        serialNumber: ESF-Docker-RHEL
                        modelId: ESF-Docker-RHEL
                        modelName: ESF-Docker-RHEL
                        biosVersion: N/A
                        firmwareVersion: N/A
                        osVersion: 4.9.184-linuxkit
                        jvmVersion: 25.161-b12 mixed mode
                        osgiFrameworkVersion: 1.8.0
                        applicationFrameworkVersion: ESF_6.0.0
                        connectionInterface: 'lo (00:00:00:00:00:00)'
                        connectionIp: 127.0.0.1
                        applicationIdentifiers: heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1
                        acceptEncoding: gzip
                        tagIds: []
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Device
      summary: Create a new Device
      operationId: deviceCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object containing the properties for the new Device to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - description: An object that contains the informations needed to create an Entity
                      type: object
                    - description: An object that contains the informations needed to create an Updatable Entity
                      type: object
                - type: object
                  properties:
                    groupId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the Access Group to which this Device is assigned to
                    clientId:
                      type: string
                      readOnly: true
                      description: The Kura Client ID of this device
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    lastEventId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the last recorded Event from this Device
                          readOnly: true
                    displayName:
                      description: The Kura Display Name of this Device
                      type: string
                    serialNumber:
                      description: The Serial Number of this Device
                      type: string
                    modelId:
                      description: The Model ID (not an Kapua ID) of this Device
                      type: string
                    modelName:
                      description: The Model Name of this Device
                      type: string
                    imei:
                      description: The IMEI Code of this Device
                      type: string
                    imsi:
                      description: The IMSI Code of this Device
                      type: string
                    iccid:
                      description: The ICCID Code of this Device
                      type: string
                    biosVersion:
                      description: The BIOS Version running on this Device
                      type: string
                    firmwareVersion:
                      description: The Firmware Version of this Device
                      type: string
                    osVersion:
                      description: The OS Version running on this Device
                      type: string
                    jvmVersion:
                      description: The JVM Version running on this Device
                      type: string
                    osgiFrameworkVersion:
                      description: The OSGi Framework Version running on this Device
                      type: string
                    applicationFrameworkVersion:
                      description: The Application Framework Version running on this Device
                      type: string
                    connectionInterface:
                      description: The Primary Connection Interface Name of this Device
                      type: string
                    connectionIp:
                      description: The IP Address of the Primary Connection Interface on this Device
                      type: string
                    applicationIdentifiers:
                      description: A string listing all the Kura Applications running on this Device
                      type: string
                    acceptEncoding:
                      description: The MIME Encoding accepted by this Device
                      type: string
                    customAttribute1:
                      description: A Custom Attirbute of this Device - 1
                      type: string
                    customAttribute2:
                      description: A Custom Attirbute of this Device - 2
                      type: string
                    customAttribute3:
                      description: A Custom Attirbute of this Device - 3
                      type: string
                    customAttribute4:
                      description: A Custom Attirbute of this Device - 4
                      type: string
                    customAttribute5:
                      description: A Custom Attirbute of this Device - 5
                      type: string
                  required:
                    - clientId
                  example:
                    clientId: testDevice
                    status: ENABLED
                    displayName: Test Device
                    serialNumber: 1234567890
                    modelId: Test Model
                    biosVersion: N/A
                    firmwareVersion: N/A
                    osVersion: 3.13.0-93-generic
                    jvmVersion: 24.111-b01 mixed mode
                    osgiFrameworkVersion: 1.7.0
                    acceptEncoding: gzip
                    deviceCredentialsMode: LOOSE
        required: true
      responses:
        '201':
          description: The Device that has just been created
          content:
            application/json:
              schema:
                properties:
                  groupId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the Access Group to which this Device is assigned to
                  clientId:
                    type: string
                    readOnly: true
                    description: The Kura Client ID of this device
                  connectionId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the Connection of this Device
                        readOnly: true
                  connection:
                    allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - CONNECTED
                              - DISCONNECTED
                              - MISSING
                              - 'NULL'
                          clientId:
                            type: string
                          userId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          allowUserChange:
                            type: boolean
                          userCouplingMode:
                            type: string
                            enum:
                              - INHERITED
                              - LOOSE
                              - STRICT
                          reservedUserId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          protocol:
                            type: string
                          clientIp:
                            type: string
                          serverIp:
                            type: string
                            readOnly: true
                        example:
                          type: deviceConnection
                          id: Gd1BfeWwh3s
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:32.101Z'
                          createdBy: Ag
                          modifiedOn: '2019-09-13T08:04:49.927Z'
                          modifiedBy: Ag
                          optlock: 17
                          status: CONNECTED
                          clientId: Client-Id-1
                          userId: Ag
                          allowUserChange: false
                          userCouplingMode: INHERITED
                          protocol: MQTT
                          clientIp: 'tcp://172.21.0.1:44400'
                          serverIp: broker
                  status:
                    type: string
                    enum:
                      - ENABLED
                      - DISABLED
                  displayName:
                    description: The Kura Display Name of this Device
                    type: string
                  lastEventId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the last recorded Event from this Device
                        readOnly: true
                  lastEvent:
                    allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - type: object
                        properties:
                          sentOn:
                            type: string
                            format: date-time
                          receivedOn:
                            type: string
                            format: date-time
                          position:
                            type: object
                            properties:
                              latitude:
                                type: number
                                format: double
                              longitude:
                                type: number
                                format: double
                              altitude:
                                type: number
                                format: double
                              precision:
                                type: number
                                format: double
                              heading:
                                type: number
                                format: double
                              speed:
                                type: number
                                format: double
                              timestamp:
                                type: string
                                format: date-time
                              satellites:
                                type: integer
                                format: int32
                              status:
                                type: integer
                                format: int32
                          resource:
                            type: string
                          action:
                            type: string
                            enum:
                              - READ
                              - CREATE
                              - WRITE
                              - DELETE
                              - OPTIONS
                              - EXECUTE
                          responseCode:
                            type: string
                            enum:
                              - ACCEPTED
                              - BAD_REQUEST
                              - NOT_FOUND
                              - INTERNAL_ERROR
                          eventMessage:
                            type: string
                        example:
                          id: YYHQ2i1S-P0
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:37.392Z'
                          createdBy: Ag
                          deviceId: WyczTs_GuDM
                          receivedOn: '2019-09-12T09:04:32.646Z'
                          position:
                            altitude: 0
                            latitude: 0
                            longitude: 0
                          resource: BIRTH
                          action: CREATE
                          responseCode: ACCEPTED
                          eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit #1 SMP Tue Jul 2 22:58:16 UTC 2019~~partNumber=ESF-Docker-RHEL~~serialNumber=ESF-Docker-RHEL~~totalMemory=1023488~~uptime=187894320'
                  serialNumber:
                    description: The Serial Number of this Device
                    type: string
                  modelId:
                    description: The Model ID (not an Kapua ID) of this Device
                    type: string
                  modelName:
                    description: The Model Name of this Device
                    type: string
                  imei:
                    description: The IMEI Code of this Device
                    type: string
                  imsi:
                    description: The IMSI Code of this Device
                    type: string
                  iccid:
                    description: The ICCID Code of this Device
                    type: string
                  biosVersion:
                    description: The BIOS Version running on this Device
                    type: string
                  firmwareVersion:
                    description: The Firmware Version of this Device
                    type: string
                  osVersion:
                    description: The OS Version running on this Device
                    type: string
                  jvmVersion:
                    description: The JVM Version running on this Device
                    type: string
                  osgiFrameworkVersion:
                    description: The OSGi Framework Version running on this Device
                    type: string
                  applicationFrameworkVersion:
                    description: The Application Framework Version running on this Device
                    type: string
                  connectionInterface:
                    description: The Primary Connection Interface Name of this Device
                    type: string
                  connectionIp:
                    description: The IP Address of the Primary Connection Interface on this Device
                    type: string
                  applicationIdentifiers:
                    description: A string listing all the Kura Applications running on this Device
                    type: string
                  acceptEncoding:
                    description: The MIME Encoding accepted by this Device
                    type: string
                  customAttribute1:
                    description: A Custom Attirbute of this Device - 1
                    type: string
                  customAttribute2:
                    description: A Custom Attirbute of this Device - 2
                    type: string
                  customAttribute3:
                    description: A Custom Attirbute of this Device - 3
                    type: string
                  customAttribute4:
                    description: A Custom Attirbute of this Device - 4
                    type: string
                  customAttribute5:
                    description: A Custom Attirbute of this Device - 5
                    type: string
                  tagIds:
                    type: array
                    items:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                example:
                  type: device
                  id: dIVxI5QpFUI
                  scopeId: AQ
                  createdOn: '2019-09-12T12:08:12.179Z'
                  createdBy: AQ
                  modifiedOn: '2019-09-12T12:08:12.179Z'
                  modifiedBy: AQ
                  optlock: 1
                  clientId: testDevice
                  status: ENABLED
                  displayName: Test Device
                  serialNumber: 1234567890
                  modelId: Test Model
                  biosVersion: N/A
                  firmwareVersion: N/A
                  osVersion: 3.13.0-93-generic
                  jvmVersion: 24.111-b01 mixed mode
                  osgiFrameworkVersion: 1.7.0
                  acceptEncoding: gzip
                  tagIds: []
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}':
    get:
      tags:
        - Device
      summary: Get a single Device
      operationId: deviceGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Device
          content:
            application/json:
              schema:
                properties:
                  groupId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the Access Group to which this Device is assigned to
                  clientId:
                    type: string
                    readOnly: true
                    description: The Kura Client ID of this device
                  connectionId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the Connection of this Device
                        readOnly: true
                  connection:
                    allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - CONNECTED
                              - DISCONNECTED
                              - MISSING
                              - 'NULL'
                          clientId:
                            type: string
                          userId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          allowUserChange:
                            type: boolean
                          userCouplingMode:
                            type: string
                            enum:
                              - INHERITED
                              - LOOSE
                              - STRICT
                          reservedUserId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          protocol:
                            type: string
                          clientIp:
                            type: string
                          serverIp:
                            type: string
                            readOnly: true
                        example:
                          type: deviceConnection
                          id: Gd1BfeWwh3s
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:32.101Z'
                          createdBy: Ag
                          modifiedOn: '2019-09-13T08:04:49.927Z'
                          modifiedBy: Ag
                          optlock: 17
                          status: CONNECTED
                          clientId: Client-Id-1
                          userId: Ag
                          allowUserChange: false
                          userCouplingMode: INHERITED
                          protocol: MQTT
                          clientIp: 'tcp://172.21.0.1:44400'
                          serverIp: broker
                  status:
                    type: string
                    enum:
                      - ENABLED
                      - DISABLED
                  displayName:
                    description: The Kura Display Name of this Device
                    type: string
                  lastEventId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the last recorded Event from this Device
                        readOnly: true
                  lastEvent:
                    allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - type: object
                        properties:
                          sentOn:
                            type: string
                            format: date-time
                          receivedOn:
                            type: string
                            format: date-time
                          position:
                            type: object
                            properties:
                              latitude:
                                type: number
                                format: double
                              longitude:
                                type: number
                                format: double
                              altitude:
                                type: number
                                format: double
                              precision:
                                type: number
                                format: double
                              heading:
                                type: number
                                format: double
                              speed:
                                type: number
                                format: double
                              timestamp:
                                type: string
                                format: date-time
                              satellites:
                                type: integer
                                format: int32
                              status:
                                type: integer
                                format: int32
                          resource:
                            type: string
                          action:
                            type: string
                            enum:
                              - READ
                              - CREATE
                              - WRITE
                              - DELETE
                              - OPTIONS
                              - EXECUTE
                          responseCode:
                            type: string
                            enum:
                              - ACCEPTED
                              - BAD_REQUEST
                              - NOT_FOUND
                              - INTERNAL_ERROR
                          eventMessage:
                            type: string
                        example:
                          id: YYHQ2i1S-P0
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:37.392Z'
                          createdBy: Ag
                          deviceId: WyczTs_GuDM
                          receivedOn: '2019-09-12T09:04:32.646Z'
                          position:
                            altitude: 0
                            latitude: 0
                            longitude: 0
                          resource: BIRTH
                          action: CREATE
                          responseCode: ACCEPTED
                          eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit #1 SMP Tue Jul 2 22:58:16 UTC 2019~~partNumber=ESF-Docker-RHEL~~serialNumber=ESF-Docker-RHEL~~totalMemory=1023488~~uptime=187894320'
                  serialNumber:
                    description: The Serial Number of this Device
                    type: string
                  modelId:
                    description: The Model ID (not an Kapua ID) of this Device
                    type: string
                  modelName:
                    description: The Model Name of this Device
                    type: string
                  imei:
                    description: The IMEI Code of this Device
                    type: string
                  imsi:
                    description: The IMSI Code of this Device
                    type: string
                  iccid:
                    description: The ICCID Code of this Device
                    type: string
                  biosVersion:
                    description: The BIOS Version running on this Device
                    type: string
                  firmwareVersion:
                    description: The Firmware Version of this Device
                    type: string
                  osVersion:
                    description: The OS Version running on this Device
                    type: string
                  jvmVersion:
                    description: The JVM Version running on this Device
                    type: string
                  osgiFrameworkVersion:
                    description: The OSGi Framework Version running on this Device
                    type: string
                  applicationFrameworkVersion:
                    description: The Application Framework Version running on this Device
                    type: string
                  connectionInterface:
                    description: The Primary Connection Interface Name of this Device
                    type: string
                  connectionIp:
                    description: The IP Address of the Primary Connection Interface on this Device
                    type: string
                  applicationIdentifiers:
                    description: A string listing all the Kura Applications running on this Device
                    type: string
                  acceptEncoding:
                    description: The MIME Encoding accepted by this Device
                    type: string
                  customAttribute1:
                    description: A Custom Attirbute of this Device - 1
                    type: string
                  customAttribute2:
                    description: A Custom Attirbute of this Device - 2
                    type: string
                  customAttribute3:
                    description: A Custom Attirbute of this Device - 3
                    type: string
                  customAttribute4:
                    description: A Custom Attirbute of this Device - 4
                    type: string
                  customAttribute5:
                    description: A Custom Attirbute of this Device - 5
                    type: string
                  tagIds:
                    type: array
                    items:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                example:
                  type: device
                  id: dIVxI5QpFUI
                  scopeId: AQ
                  createdOn: '2019-09-12T12:08:12.179Z'
                  createdBy: AQ
                  modifiedOn: '2019-09-12T12:08:12.179Z'
                  modifiedBy: AQ
                  optlock: 1
                  clientId: testDevice
                  status: ENABLED
                  displayName: Test Device
                  serialNumber: 1234567890
                  modelId: Test Model
                  biosVersion: N/A
                  firmwareVersion: N/A
                  osVersion: 3.13.0-93-generic
                  jvmVersion: 24.111-b01 mixed mode
                  osgiFrameworkVersion: 1.7.0
                  acceptEncoding: gzip
                  tagIds: []
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Device
      summary: Update a single Device
      operationId: deviceUpdate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object containing the new properties for the Device to update
        content:
          application/json:
            schema:
              properties:
                groupId:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    - description: The ID of the Access Group to which this Device is assigned to
                clientId:
                  type: string
                  readOnly: true
                  description: The Kura Client ID of this device
                connectionId:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    - description: The ID of the Connection of this Device
                      readOnly: true
                connection:
                  allOf:
                    - allOf:
                        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                          type: object
                          properties:
                            id:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity
                                  readOnly: true
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Scope containing the Entity
                                  readOnly: true
                            createdOn:
                              description: The date and time when this entity was created
                              type: string
                              format: date-time
                              readOnly: true
                            createdBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who created this Entity
                                  readOnly: true
                        - description: An Entity that also supports edits and versioning
                          type: object
                          properties:
                            modifiedOn:
                              description: The date and time when this entity was modified
                              type: string
                              format: date-time
                              readOnly: true
                            modifiedBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who modified this Entity
                                  readOnly: true
                            optlock:
                              description: |
                                The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                              type: integer
                    - type: object
                      properties:
                        status:
                          type: string
                          enum:
                            - CONNECTED
                            - DISCONNECTED
                            - MISSING
                            - 'NULL'
                        clientId:
                          type: string
                        userId:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        allowUserChange:
                          type: boolean
                        userCouplingMode:
                          type: string
                          enum:
                            - INHERITED
                            - LOOSE
                            - STRICT
                        reservedUserId:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        protocol:
                          type: string
                        clientIp:
                          type: string
                        serverIp:
                          type: string
                          readOnly: true
                      example:
                        type: deviceConnection
                        id: Gd1BfeWwh3s
                        scopeId: AQ
                        createdOn: '2019-09-12T09:04:32.101Z'
                        createdBy: Ag
                        modifiedOn: '2019-09-13T08:04:49.927Z'
                        modifiedBy: Ag
                        optlock: 17
                        status: CONNECTED
                        clientId: Client-Id-1
                        userId: Ag
                        allowUserChange: false
                        userCouplingMode: INHERITED
                        protocol: MQTT
                        clientIp: 'tcp://172.21.0.1:44400'
                        serverIp: broker
                status:
                  type: string
                  enum:
                    - ENABLED
                    - DISABLED
                displayName:
                  description: The Kura Display Name of this Device
                  type: string
                lastEventId:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    - description: The ID of the last recorded Event from this Device
                      readOnly: true
                lastEvent:
                  allOf:
                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                      type: object
                      properties:
                        id:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity
                              readOnly: true
                        scopeId:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Scope containing the Entity
                              readOnly: true
                        createdOn:
                          description: The date and time when this entity was created
                          type: string
                          format: date-time
                          readOnly: true
                        createdBy:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity who created this Entity
                              readOnly: true
                    - type: object
                      properties:
                        sentOn:
                          type: string
                          format: date-time
                        receivedOn:
                          type: string
                          format: date-time
                        position:
                          type: object
                          properties:
                            latitude:
                              type: number
                              format: double
                            longitude:
                              type: number
                              format: double
                            altitude:
                              type: number
                              format: double
                            precision:
                              type: number
                              format: double
                            heading:
                              type: number
                              format: double
                            speed:
                              type: number
                              format: double
                            timestamp:
                              type: string
                              format: date-time
                            satellites:
                              type: integer
                              format: int32
                            status:
                              type: integer
                              format: int32
                        resource:
                          type: string
                        action:
                          type: string
                          enum:
                            - READ
                            - CREATE
                            - WRITE
                            - DELETE
                            - OPTIONS
                            - EXECUTE
                        responseCode:
                          type: string
                          enum:
                            - ACCEPTED
                            - BAD_REQUEST
                            - NOT_FOUND
                            - INTERNAL_ERROR
                        eventMessage:
                          type: string
                      example:
                        id: YYHQ2i1S-P0
                        scopeId: AQ
                        createdOn: '2019-09-12T09:04:37.392Z'
                        createdBy: Ag
                        deviceId: WyczTs_GuDM
                        receivedOn: '2019-09-12T09:04:32.646Z'
                        position:
                          altitude: 0
                          latitude: 0
                          longitude: 0
                        resource: BIRTH
                        action: CREATE
                        responseCode: ACCEPTED
                        eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit #1 SMP Tue Jul 2 22:58:16 UTC 2019~~partNumber=ESF-Docker-RHEL~~serialNumber=ESF-Docker-RHEL~~totalMemory=1023488~~uptime=187894320'
                serialNumber:
                  description: The Serial Number of this Device
                  type: string
                modelId:
                  description: The Model ID (not an Kapua ID) of this Device
                  type: string
                modelName:
                  description: The Model Name of this Device
                  type: string
                imei:
                  description: The IMEI Code of this Device
                  type: string
                imsi:
                  description: The IMSI Code of this Device
                  type: string
                iccid:
                  description: The ICCID Code of this Device
                  type: string
                biosVersion:
                  description: The BIOS Version running on this Device
                  type: string
                firmwareVersion:
                  description: The Firmware Version of this Device
                  type: string
                osVersion:
                  description: The OS Version running on this Device
                  type: string
                jvmVersion:
                  description: The JVM Version running on this Device
                  type: string
                osgiFrameworkVersion:
                  description: The OSGi Framework Version running on this Device
                  type: string
                applicationFrameworkVersion:
                  description: The Application Framework Version running on this Device
                  type: string
                connectionInterface:
                  description: The Primary Connection Interface Name of this Device
                  type: string
                connectionIp:
                  description: The IP Address of the Primary Connection Interface on this Device
                  type: string
                applicationIdentifiers:
                  description: A string listing all the Kura Applications running on this Device
                  type: string
                acceptEncoding:
                  description: The MIME Encoding accepted by this Device
                  type: string
                customAttribute1:
                  description: A Custom Attirbute of this Device - 1
                  type: string
                customAttribute2:
                  description: A Custom Attirbute of this Device - 2
                  type: string
                customAttribute3:
                  description: A Custom Attirbute of this Device - 3
                  type: string
                customAttribute4:
                  description: A Custom Attirbute of this Device - 4
                  type: string
                customAttribute5:
                  description: A Custom Attirbute of this Device - 5
                  type: string
                tagIds:
                  type: array
                  items:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              example:
                type: device
                id: dIVxI5QpFUI
                scopeId: AQ
                createdOn: '2019-09-12T12:08:12.179Z'
                createdBy: AQ
                modifiedOn: '2019-09-12T12:08:12.179Z'
                modifiedBy: AQ
                optlock: 1
                clientId: testDevice
                status: ENABLED
                displayName: Test Device
                serialNumber: 1234567890
                modelId: Test Model
                biosVersion: N/A
                firmwareVersion: N/A
                osVersion: 3.13.0-93-generic
                jvmVersion: 24.111-b01 mixed mode
                osgiFrameworkVersion: 1.7.0
                acceptEncoding: gzip
                tagIds: []
            example:
              type: device
              optlock: 1
              status: ENABLED
              displayName: Test Device
              serialNumber: 1234567890
              modelId: Test Model
              biosVersion: N/A
              firmwareVersion: N/A
              osVersion: 3.13.0-93-generic
              jvmVersion: 24.111-b01 mixed mode
              osgiFrameworkVersion: 1.7.0
              acceptEncoding: gzip
              tagIds: []
        required: true
      responses:
        '200':
          description: The details of the updated Device
          content:
            application/json:
              schema:
                properties:
                  groupId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the Access Group to which this Device is assigned to
                  clientId:
                    type: string
                    readOnly: true
                    description: The Kura Client ID of this device
                  connectionId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the Connection of this Device
                        readOnly: true
                  connection:
                    allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - CONNECTED
                              - DISCONNECTED
                              - MISSING
                              - 'NULL'
                          clientId:
                            type: string
                          userId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          allowUserChange:
                            type: boolean
                          userCouplingMode:
                            type: string
                            enum:
                              - INHERITED
                              - LOOSE
                              - STRICT
                          reservedUserId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          protocol:
                            type: string
                          clientIp:
                            type: string
                          serverIp:
                            type: string
                            readOnly: true
                        example:
                          type: deviceConnection
                          id: Gd1BfeWwh3s
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:32.101Z'
                          createdBy: Ag
                          modifiedOn: '2019-09-13T08:04:49.927Z'
                          modifiedBy: Ag
                          optlock: 17
                          status: CONNECTED
                          clientId: Client-Id-1
                          userId: Ag
                          allowUserChange: false
                          userCouplingMode: INHERITED
                          protocol: MQTT
                          clientIp: 'tcp://172.21.0.1:44400'
                          serverIp: broker
                  status:
                    type: string
                    enum:
                      - ENABLED
                      - DISABLED
                  displayName:
                    description: The Kura Display Name of this Device
                    type: string
                  lastEventId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the last recorded Event from this Device
                        readOnly: true
                  lastEvent:
                    allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - type: object
                        properties:
                          sentOn:
                            type: string
                            format: date-time
                          receivedOn:
                            type: string
                            format: date-time
                          position:
                            type: object
                            properties:
                              latitude:
                                type: number
                                format: double
                              longitude:
                                type: number
                                format: double
                              altitude:
                                type: number
                                format: double
                              precision:
                                type: number
                                format: double
                              heading:
                                type: number
                                format: double
                              speed:
                                type: number
                                format: double
                              timestamp:
                                type: string
                                format: date-time
                              satellites:
                                type: integer
                                format: int32
                              status:
                                type: integer
                                format: int32
                          resource:
                            type: string
                          action:
                            type: string
                            enum:
                              - READ
                              - CREATE
                              - WRITE
                              - DELETE
                              - OPTIONS
                              - EXECUTE
                          responseCode:
                            type: string
                            enum:
                              - ACCEPTED
                              - BAD_REQUEST
                              - NOT_FOUND
                              - INTERNAL_ERROR
                          eventMessage:
                            type: string
                        example:
                          id: YYHQ2i1S-P0
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:37.392Z'
                          createdBy: Ag
                          deviceId: WyczTs_GuDM
                          receivedOn: '2019-09-12T09:04:32.646Z'
                          position:
                            altitude: 0
                            latitude: 0
                            longitude: 0
                          resource: BIRTH
                          action: CREATE
                          responseCode: ACCEPTED
                          eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit #1 SMP Tue Jul 2 22:58:16 UTC 2019~~partNumber=ESF-Docker-RHEL~~serialNumber=ESF-Docker-RHEL~~totalMemory=1023488~~uptime=187894320'
                  serialNumber:
                    description: The Serial Number of this Device
                    type: string
                  modelId:
                    description: The Model ID (not an Kapua ID) of this Device
                    type: string
                  modelName:
                    description: The Model Name of this Device
                    type: string
                  imei:
                    description: The IMEI Code of this Device
                    type: string
                  imsi:
                    description: The IMSI Code of this Device
                    type: string
                  iccid:
                    description: The ICCID Code of this Device
                    type: string
                  biosVersion:
                    description: The BIOS Version running on this Device
                    type: string
                  firmwareVersion:
                    description: The Firmware Version of this Device
                    type: string
                  osVersion:
                    description: The OS Version running on this Device
                    type: string
                  jvmVersion:
                    description: The JVM Version running on this Device
                    type: string
                  osgiFrameworkVersion:
                    description: The OSGi Framework Version running on this Device
                    type: string
                  applicationFrameworkVersion:
                    description: The Application Framework Version running on this Device
                    type: string
                  connectionInterface:
                    description: The Primary Connection Interface Name of this Device
                    type: string
                  connectionIp:
                    description: The IP Address of the Primary Connection Interface on this Device
                    type: string
                  applicationIdentifiers:
                    description: A string listing all the Kura Applications running on this Device
                    type: string
                  acceptEncoding:
                    description: The MIME Encoding accepted by this Device
                    type: string
                  customAttribute1:
                    description: A Custom Attirbute of this Device - 1
                    type: string
                  customAttribute2:
                    description: A Custom Attirbute of this Device - 2
                    type: string
                  customAttribute3:
                    description: A Custom Attirbute of this Device - 3
                    type: string
                  customAttribute4:
                    description: A Custom Attirbute of this Device - 4
                    type: string
                  customAttribute5:
                    description: A Custom Attirbute of this Device - 5
                    type: string
                  tagIds:
                    type: array
                    items:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                example:
                  type: device
                  id: dIVxI5QpFUI
                  scopeId: AQ
                  createdOn: '2019-09-12T12:08:12.179Z'
                  createdBy: AQ
                  modifiedOn: '2019-09-12T12:08:12.179Z'
                  modifiedBy: AQ
                  optlock: 1
                  clientId: testDevice
                  status: ENABLED
                  displayName: Test Device
                  serialNumber: 1234567890
                  modelId: Test Model
                  biosVersion: N/A
                  firmwareVersion: N/A
                  osVersion: 3.13.0-93-generic
                  jvmVersion: 24.111-b01 mixed mode
                  osgiFrameworkVersion: 1.7.0
                  acceptEncoding: gzip
                  tagIds: []
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Device
      summary: Delete a single Device
      operationId: deviceDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The Device has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/_query':
    post:
      tags:
        - Device
      summary: Query the Devices
      operationId: deviceQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          properties:
                            groupId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Access Group to which this Device is assigned to
                            clientId:
                              type: string
                              readOnly: true
                              description: The Kura Client ID of this device
                            connectionId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Connection of this Device
                                  readOnly: true
                            connection:
                              allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - type: object
                                  properties:
                                    status:
                                      type: string
                                      enum:
                                        - CONNECTED
                                        - DISCONNECTED
                                        - MISSING
                                        - 'NULL'
                                    clientId:
                                      type: string
                                    userId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    allowUserChange:
                                      type: boolean
                                    userCouplingMode:
                                      type: string
                                      enum:
                                        - INHERITED
                                        - LOOSE
                                        - STRICT
                                    reservedUserId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    protocol:
                                      type: string
                                    clientIp:
                                      type: string
                                    serverIp:
                                      type: string
                                      readOnly: true
                                  example:
                                    type: deviceConnection
                                    id: Gd1BfeWwh3s
                                    scopeId: AQ
                                    createdOn: '2019-09-12T09:04:32.101Z'
                                    createdBy: Ag
                                    modifiedOn: '2019-09-13T08:04:49.927Z'
                                    modifiedBy: Ag
                                    optlock: 17
                                    status: CONNECTED
                                    clientId: Client-Id-1
                                    userId: Ag
                                    allowUserChange: false
                                    userCouplingMode: INHERITED
                                    protocol: MQTT
                                    clientIp: 'tcp://172.21.0.1:44400'
                                    serverIp: broker
                            status:
                              type: string
                              enum:
                                - ENABLED
                                - DISABLED
                            displayName:
                              description: The Kura Display Name of this Device
                              type: string
                            lastEventId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the last recorded Event from this Device
                                  readOnly: true
                            lastEvent:
                              allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - type: object
                                  properties:
                                    sentOn:
                                      type: string
                                      format: date-time
                                    receivedOn:
                                      type: string
                                      format: date-time
                                    position:
                                      type: object
                                      properties:
                                        latitude:
                                          type: number
                                          format: double
                                        longitude:
                                          type: number
                                          format: double
                                        altitude:
                                          type: number
                                          format: double
                                        precision:
                                          type: number
                                          format: double
                                        heading:
                                          type: number
                                          format: double
                                        speed:
                                          type: number
                                          format: double
                                        timestamp:
                                          type: string
                                          format: date-time
                                        satellites:
                                          type: integer
                                          format: int32
                                        status:
                                          type: integer
                                          format: int32
                                    resource:
                                      type: string
                                    action:
                                      type: string
                                      enum:
                                        - READ
                                        - CREATE
                                        - WRITE
                                        - DELETE
                                        - OPTIONS
                                        - EXECUTE
                                    responseCode:
                                      type: string
                                      enum:
                                        - ACCEPTED
                                        - BAD_REQUEST
                                        - NOT_FOUND
                                        - INTERNAL_ERROR
                                    eventMessage:
                                      type: string
                                  example:
                                    id: YYHQ2i1S-P0
                                    scopeId: AQ
                                    createdOn: '2019-09-12T09:04:37.392Z'
                                    createdBy: Ag
                                    deviceId: WyczTs_GuDM
                                    receivedOn: '2019-09-12T09:04:32.646Z'
                                    position:
                                      altitude: 0
                                      latitude: 0
                                      longitude: 0
                                    resource: BIRTH
                                    action: CREATE
                                    responseCode: ACCEPTED
                                    eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit #1 SMP Tue Jul 2 22:58:16 UTC 2019~~partNumber=ESF-Docker-RHEL~~serialNumber=ESF-Docker-RHEL~~totalMemory=1023488~~uptime=187894320'
                            serialNumber:
                              description: The Serial Number of this Device
                              type: string
                            modelId:
                              description: The Model ID (not an Kapua ID) of this Device
                              type: string
                            modelName:
                              description: The Model Name of this Device
                              type: string
                            imei:
                              description: The IMEI Code of this Device
                              type: string
                            imsi:
                              description: The IMSI Code of this Device
                              type: string
                            iccid:
                              description: The ICCID Code of this Device
                              type: string
                            biosVersion:
                              description: The BIOS Version running on this Device
                              type: string
                            firmwareVersion:
                              description: The Firmware Version of this Device
                              type: string
                            osVersion:
                              description: The OS Version running on this Device
                              type: string
                            jvmVersion:
                              description: The JVM Version running on this Device
                              type: string
                            osgiFrameworkVersion:
                              description: The OSGi Framework Version running on this Device
                              type: string
                            applicationFrameworkVersion:
                              description: The Application Framework Version running on this Device
                              type: string
                            connectionInterface:
                              description: The Primary Connection Interface Name of this Device
                              type: string
                            connectionIp:
                              description: The IP Address of the Primary Connection Interface on this Device
                              type: string
                            applicationIdentifiers:
                              description: A string listing all the Kura Applications running on this Device
                              type: string
                            acceptEncoding:
                              description: The MIME Encoding accepted by this Device
                              type: string
                            customAttribute1:
                              description: A Custom Attirbute of this Device - 1
                              type: string
                            customAttribute2:
                              description: A Custom Attirbute of this Device - 2
                              type: string
                            customAttribute3:
                              description: A Custom Attirbute of this Device - 3
                              type: string
                            customAttribute4:
                              description: A Custom Attirbute of this Device - 4
                              type: string
                            customAttribute5:
                              description: A Custom Attirbute of this Device - 5
                              type: string
                            tagIds:
                              type: array
                              items:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          example:
                            type: device
                            id: dIVxI5QpFUI
                            scopeId: AQ
                            createdOn: '2019-09-12T12:08:12.179Z'
                            createdBy: AQ
                            modifiedOn: '2019-09-12T12:08:12.179Z'
                            modifiedBy: AQ
                            optlock: 1
                            clientId: testDevice
                            status: ENABLED
                            displayName: Test Device
                            serialNumber: 1234567890
                            modelId: Test Model
                            biosVersion: N/A
                            firmwareVersion: N/A
                            osVersion: 3.13.0-93-generic
                            jvmVersion: 24.111-b01 mixed mode
                            osgiFrameworkVersion: 1.7.0
                            acceptEncoding: gzip
                            tagIds: []
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/_count':
    post:
      tags:
        - Device
      summary: Count the Devices
      operationId: deviceCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/assets':
    get:
      tags:
        - Device Management - Asset
      summary: Get the Assets Definitions of a single Device
      operationId: deviceAssetList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      responses:
        '200':
          description: The list of Assets definition of a single Device
          content:
            application/json:
              schema:
                description: A list container for the Assets of a Device
                type: object
                properties:
                  deviceAsset:
                    type: array
                    items:
                      allOf:
                        - description: |
                            An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                            The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                            A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                            In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                        - type: object
                          properties:
                            channels:
                              type: array
                              items:
                                allOf:
                                  - description: |
                                      An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                                      The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                                      A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                                      In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                                  - type: object
                                    properties:
                                      mode:
                                        type: string
                                        enum:
                                          - READ
                                          - WRITE
                                          - READ_WRITE
                                      name:
                                        type: string
                                      valueType:
                                        type: string
                                    example:
                                      valueType: integer
                                      name: Channel-1
                                      mode: READ
                            name:
                              type: string
                          example:
                            name: asset1
                            channels:
                              - valueType: integer
                                name: Channel-1
                                mode: READ
                              - valueType: integer
                                name: Channel-2
                                mode: WRITE
                              - valueType: integer
                                name: Channel-3
                                mode: READ_WRITE
                example:
                  type: deviceAssets
                  deviceAsset:
                    - name: asset1
                      channels:
                        - valueType: integer
                          name: Channel-1
                          mode: READ
                        - valueType: integer
                          name: Channel-2
                          mode: WRITE
                        - valueType: integer
                          name: Channel-3
                          mode: READ_WRITE
                    - name: asset2
                      channels:
                        - valueType: integer
                          name: Channel-1
                          mode: READ
                        - valueType: integer
                          name: Channel-2
                          mode: WRITE
                        - valueType: integer
                          name: Channel-3
                          mode: READ_WRITE
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Device Management - Asset
      summary: Get the Assets Definitions of a single Device
      operationId: deviceAssetListFiltered
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      requestBody:
        description: An object containing the list of Assets to use as a filter
        content:
          application/json:
            schema:
              description: A list container for the Assets of a Device
              type: object
              properties:
                deviceAsset:
                  type: array
                  items:
                    allOf:
                      - description: |
                          An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                          The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                          A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                          In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                      - type: object
                        properties:
                          channels:
                            type: array
                            items:
                              allOf:
                                - description: |
                                    An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                                    The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                                    A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                                    In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                                - type: object
                                  properties:
                                    mode:
                                      type: string
                                      enum:
                                        - READ
                                        - WRITE
                                        - READ_WRITE
                                    name:
                                      type: string
                                    valueType:
                                      type: string
                                  example:
                                    valueType: integer
                                    name: Channel-1
                                    mode: READ
                          name:
                            type: string
                        example:
                          name: asset1
                          channels:
                            - valueType: integer
                              name: Channel-1
                              mode: READ
                            - valueType: integer
                              name: Channel-2
                              mode: WRITE
                            - valueType: integer
                              name: Channel-3
                              mode: READ_WRITE
              example:
                type: deviceAssets
                deviceAsset:
                  - name: asset1
                    channels:
                      - valueType: integer
                        name: Channel-1
                        mode: READ
                      - valueType: integer
                        name: Channel-2
                        mode: WRITE
                      - valueType: integer
                        name: Channel-3
                        mode: READ_WRITE
                  - name: asset2
                    channels:
                      - valueType: integer
                        name: Channel-1
                        mode: READ
                      - valueType: integer
                        name: Channel-2
                        mode: WRITE
                      - valueType: integer
                        name: Channel-3
                        mode: READ_WRITE
            example:
              deviceAsset:
                - name: asset2
      responses:
        '200':
          description: The list of Assets definition of a single Device according to the filter
          content:
            application/json:
              schema:
                description: A list container for the Assets of a Device
                type: object
                properties:
                  deviceAsset:
                    type: array
                    items:
                      allOf:
                        - description: |
                            An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                            The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                            A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                            In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                        - type: object
                          properties:
                            channels:
                              type: array
                              items:
                                allOf:
                                  - description: |
                                      An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                                      The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                                      A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                                      In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                                  - type: object
                                    properties:
                                      mode:
                                        type: string
                                        enum:
                                          - READ
                                          - WRITE
                                          - READ_WRITE
                                      name:
                                        type: string
                                      valueType:
                                        type: string
                                    example:
                                      valueType: integer
                                      name: Channel-1
                                      mode: READ
                            name:
                              type: string
                          example:
                            name: asset1
                            channels:
                              - valueType: integer
                                name: Channel-1
                                mode: READ
                              - valueType: integer
                                name: Channel-2
                                mode: WRITE
                              - valueType: integer
                                name: Channel-3
                                mode: READ_WRITE
                example:
                  type: deviceAssets
                  deviceAsset:
                    - name: asset1
                      channels:
                        - valueType: integer
                          name: Channel-1
                          mode: READ
                        - valueType: integer
                          name: Channel-2
                          mode: WRITE
                        - valueType: integer
                          name: Channel-3
                          mode: READ_WRITE
                    - name: asset2
                      channels:
                        - valueType: integer
                          name: Channel-1
                          mode: READ
                        - valueType: integer
                          name: Channel-2
                          mode: WRITE
                        - valueType: integer
                          name: Channel-3
                          mode: READ_WRITE
              example:
                type: deviceAssets
                deviceAsset:
                  - name: asset2
                    channels:
                      - valueType: integer
                        name: Channel-1
                        mode: READ
                      - valueType: integer
                        name: Channel-2
                        mode: WRITE
                      - valueType: integer
                        name: Channel-3
                        mode: READ_WRITE
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/assets/_read':
    post:
      tags:
        - Device Management - Asset
      summary: Read the values for the Assets of a single Device
      operationId: deviceAssetRead
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      requestBody:
        description: An object containing the list of Assets to use as a filter
        content:
          application/json:
            schema:
              description: A list container for the Assets of a Device
              type: object
              properties:
                deviceAsset:
                  type: array
                  items:
                    allOf:
                      - description: |
                          An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                          The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                          A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                          In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                      - type: object
                        properties:
                          channels:
                            type: array
                            items:
                              allOf:
                                - description: |
                                    An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                                    The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                                    A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                                    In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                                - type: object
                                  properties:
                                    mode:
                                      type: string
                                      enum:
                                        - READ
                                        - WRITE
                                        - READ_WRITE
                                    name:
                                      type: string
                                    valueType:
                                      type: string
                                  example:
                                    valueType: integer
                                    name: Channel-1
                                    mode: READ
                          name:
                            type: string
                        example:
                          name: asset1
                          channels:
                            - valueType: integer
                              name: Channel-1
                              mode: READ
                            - valueType: integer
                              name: Channel-2
                              mode: WRITE
                            - valueType: integer
                              name: Channel-3
                              mode: READ_WRITE
              example:
                type: deviceAssets
                deviceAsset:
                  - name: asset1
                    channels:
                      - valueType: integer
                        name: Channel-1
                        mode: READ
                      - valueType: integer
                        name: Channel-2
                        mode: WRITE
                      - valueType: integer
                        name: Channel-3
                        mode: READ_WRITE
                  - name: asset2
                    channels:
                      - valueType: integer
                        name: Channel-1
                        mode: READ
                      - valueType: integer
                        name: Channel-2
                        mode: WRITE
                      - valueType: integer
                        name: Channel-3
                        mode: READ_WRITE
            example:
              deviceAsset:
                - name: asset2
        required: true
      responses:
        '200':
          description: The Asset list for the desired Device complete with values
          content:
            application/json:
              schema:
                description: A list container for the Assets of a Device
                type: object
                properties:
                  deviceAsset:
                    items:
                      type: array
                      items:
                        allOf:
                          - description: |
                              An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                              The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                              A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                              In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                          - type: object
                            properties:
                              channels:
                                type: array
                                items:
                                  allOf:
                                    - description: |
                                        An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                                        The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                                        A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                                        In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                                    - type: object
                                      properties:
                                        name:
                                          type: string
                                        valueType:
                                          type: string
                                        value:
                                          type: string
                                        timestamp:
                                          type: string
                                          format: date-time
                                      example:
                                        valueType: integer
                                        value: 5
                                        name: Channel-1
                                        timestamp: '2019-09-12T14:50:24.446Z'
                              name:
                                type: string
                            example:
                              name: asset2
                              channels:
                                - valueType: integer
                                  value: 5
                                  name: Channel-1
                                  timestamp: '2019-09-12T14:50:24.446Z'
                                - valueType: integer
                                  value: 8
                                  name: Channel-3
                                  timestamp: '2019-09-12T14:50:24.446Z'
                example:
                  type: deviceAssets
                  deviceAsset:
                    - name: asset2
                      channels:
                        - valueType: integer
                          value: 5
                          name: Channel-1
                          timestamp: '2019-09-12T14:50:24.446Z'
                        - valueType: integer
                          value: 8
                          name: Channel-3
                          timestamp: '2019-09-12T14:50:24.446Z'
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/assets/_write':
    post:
      tags:
        - Device Management - Asset
      summary: Write the values for the Assets of a single Device
      operationId: deviceAssetWrite
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      requestBody:
        description: An Asset list to be updated on the desired Devica
        content:
          application/json:
            schema:
              description: A list container for the Assets of a Device
              type: object
              properties:
                deviceAsset:
                  items:
                    type: array
                    items:
                      allOf:
                        - description: |
                            An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                            The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                            A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                            In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                        - type: object
                          properties:
                            channels:
                              type: array
                              items:
                                allOf:
                                  - description: |
                                      An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                                      The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                                      A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                                      In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                                  - type: object
                                    properties:
                                      name:
                                        type: string
                                      valueType:
                                        type: string
                                      value:
                                        type: string
                                      timestamp:
                                        type: string
                                        format: date-time
                                    example:
                                      valueType: integer
                                      value: 5
                                      name: Channel-1
                                      timestamp: '2019-09-12T14:50:24.446Z'
                            name:
                              type: string
                          example:
                            name: asset2
                            channels:
                              - valueType: integer
                                value: 5
                                name: Channel-1
                                timestamp: '2019-09-12T14:50:24.446Z'
                              - valueType: integer
                                value: 8
                                name: Channel-3
                                timestamp: '2019-09-12T14:50:24.446Z'
              example:
                type: deviceAssets
                deviceAsset:
                  - name: asset2
                    channels:
                      - valueType: integer
                        value: 5
                        name: Channel-1
                        timestamp: '2019-09-12T14:50:24.446Z'
                      - valueType: integer
                        value: 8
                        name: Channel-3
                        timestamp: '2019-09-12T14:50:24.446Z'
            example:
              type: deviceAssets
              deviceAsset:
                - name: asset2
                  channels:
                    - valueType: integer
                      value: 12
                      name: Channel-2
                    - valueType: integer
                      value: 80
                      name: Channel-3
        required: true
      responses:
        '200':
          description: The updated Asset list for the desired Device with updated values
          content:
            application/json:
              schema:
                description: A list container for the Assets of a Device
                type: object
                properties:
                  deviceAsset:
                    items:
                      type: array
                      items:
                        allOf:
                          - description: |
                              An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                              The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                              A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                              In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                          - type: object
                            properties:
                              channels:
                                type: array
                                items:
                                  allOf:
                                    - description: |
                                        An **Asset**, as defined in Kura, is a logical representation of a field device, described by a list of **Channels**.
                                        The Asset uses a specific Driver instance to communicate with the underlying device and it models a generic device resource as a Channel.
                                        A register in a PLC or a GATT Characteristic in a Bluetooth device are examples of Channels.
                                        In this way, each Asset has multiple Channels for reading and writing data from/to an Industrial Device.
                                    - type: object
                                      properties:
                                        name:
                                          type: string
                                        valueType:
                                          type: string
                                        value:
                                          type: string
                                        timestamp:
                                          type: string
                                          format: date-time
                                      example:
                                        valueType: integer
                                        value: 5
                                        name: Channel-1
                                        timestamp: '2019-09-12T14:50:24.446Z'
                              name:
                                type: string
                            example:
                              name: asset2
                              channels:
                                - valueType: integer
                                  value: 5
                                  name: Channel-1
                                  timestamp: '2019-09-12T14:50:24.446Z'
                                - valueType: integer
                                  value: 8
                                  name: Channel-3
                                  timestamp: '2019-09-12T14:50:24.446Z'
                example:
                  type: deviceAssets
                  deviceAsset:
                    - name: asset2
                      channels:
                        - valueType: integer
                          value: 5
                          name: Channel-1
                          timestamp: '2019-09-12T14:50:24.446Z'
                        - valueType: integer
                          value: 8
                          name: Channel-3
                          timestamp: '2019-09-12T14:50:24.446Z'
              example:
                type: deviceAssets
                deviceAsset:
                  - name: asset2
                    channels:
                      - valueType: integer
                        value: 12
                        name: Channel-2
                        timestamp: '2019-09-12T15:40:18.278Z'
                      - valueType: integer
                        value: 80
                        name: Channel-3
                        timestamp: '2019-09-12T15:40:18.278Z'
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/bundles':
    get:
      tags:
        - Device Management - Bundle
      summary: Get the Bundles installed on a single Device
      operationId: deviceBundleList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      responses:
        '200':
          description: The list of Bundles installed on a single Device
          content:
            application/json:
              schema:
                type: object
                properties:
                  bundle:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        state:
                          type: string
                        version:
                          type: string
                      example:
                        id: 0
                        name: org.eclipse.osgi
                        state: ACTIVE
                        version: 3.12.50.v20170928-1321
                example:
                  type: deviceBundles
                  bundle:
                    - id: 0
                      name: org.eclipse.osgi
                      state: ACTIVE
                      version: 3.12.50.v20170928-1321
                    - id: 1
                      name: org.eclipse.equinox.cm
                      state: ACTIVE
                      version: 1.2.0.v20170105-1446
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/bundles/{bundleId}/_start':
    post:
      tags:
        - Device Management - Bundle
      summary: Start the desired Bundle on a single Device
      operationId: deviceBundleStart
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: bundleId
          in: path
          description: The ID of the Bundle on which to perform the operation
          schema:
            type: string
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      responses:
        '204':
          description: The Bundle has been successfully started
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/bundles/{bundleId}/_stop':
    post:
      tags:
        - Device Management - Bundle
      summary: Stop the desired Bundle on a single Device
      operationId: deviceBundleStop
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: bundleId
          in: path
          description: The ID of the Bundle on which to perform the operation
          schema:
            type: string
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      responses:
        '204':
          description: The Bundle has been successfully stopped
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/commands/_execute':
    post:
      tags:
        - Device Management - Command
      summary: Execute a Command
      operationId: deviceCommandExecute
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      requestBody:
        content:
          application/json:
            schema:
              description: An object containing the Command to be executed on a Device
              type: object
              properties:
                command:
                  type: string
                password:
                  type: string
                  format: password
                arguments:
                  properties:
                    argument:
                      oneOf:
                        - description: An array of strings containing multiple arguments for the command
                          type: array
                          items:
                            type: string
                        - description: A string containing the argument for the command
                          type: string
                timeout:
                  type: integer
                workingDir:
                  type: string
                body:
                  type: string
                  format: base64
                environment:
                  type: array
                  items:
                    type: string
                runAsynch:
                  type: boolean
                stdin:
                  type: string
              example:
                command: ls
                arguments:
                  argument: '-lisa'
                timeout: 60000
            examples:
              singleArgument:
                description: A command with a single argument
                value:
                  command: ls
                  arguments:
                    argument: '-lisa'
                  timeout: 60000
              multipleArguments:
                description: A command with multiple arguments
                value:
                  command: ls
                  arguments:
                    argument:
                      - '-l'
                      - '-i'
                      - '-s'
                      - '-a'
                  timeout: 60000
        required: true
      responses:
        '200':
          description: The output of the Command executed on a single Device
          content:
            application/json:
              schema:
                description: The output of a Command executed on a Device
                type: object
                properties:
                  stderr:
                    type: string
                  stdout:
                    type: string
                  exceptionMessage:
                    type: string
                  exceptionStack:
                    type: string
                  exitCode:
                    type: integer
                  hasTimedout:
                    type: boolean
                example:
                  type: deviceCommandOutput
                  stderr: ''
                  stdout: |
                    total 40
                    12503707 4 drwxrwxrwt 1 root root 4096 Sep 13 07:44 .
                    12507178 4 drwxr-xr-x 1 root root 4096 Sep 12 08:03 ..
                    61409843 4 drwxrwxrwt 2 root root 4096 Feb 28  2018 .ICE-unix
                    61409845 4 drwxrwxrwt 2 root root 4096 Feb 28  2018 .Test-unix
                    61409838 4 drwxrwxrwt 2 root root 4096 Feb 28  2018 .X11-unix
                    61409844 4 drwxrwxrwt 2 root root 4096 Feb 28  2018 .XIM-unix
                    61409846 4 drwxrwxrwt 2 root root 4096 Feb 28  2018 .font-unix
                    12503708 4 drwxr-xr-x 3 root root 4096 Sep 12 08:03 .kura
                    12507353 4 drwxr-xr-x 2 root root 4096 Sep 12 08:03 hsperfdata_root
                    12507385 4 drwxr-xr-x 3 root root 4096 Sep 12 08:03 kura
                  exitCode: 0
                  hasTimedout: false
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/configurations':
    get:
      tags:
        - Device Management - Configuration
      summary: Read multiple Configurations
      operationId: deviceConfigurationsRead
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      responses:
        '200':
          description: The list of the Configurations on a single Device
          content:
            application/json:
              schema:
                type: object
                properties:
                  configuration:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        definition:
                          type: object
                          properties:
                            id:
                              type: string
                            AD:
                              type: array
                              items:
                                type: object
                                properties:
                                  Option:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        label:
                                          type: string
                                        value:
                                          type: string
                                  default:
                                    type: string
                                  type:
                                    type: object
                                  cardinality:
                                    type: integer
                                  min:
                                    type: string
                                  max:
                                    type: string
                                  description:
                                    type: string
                                  id:
                                    type: string
                                  required:
                                    type: boolean
                                  name:
                                    type: string
                                example:
                                  cardinality: 0
                                  description: The default wire graph JSON
                                  id: WireGraph
                                  name: WireGraph
                                  required: true
                                  type: String
                                  Option: []
                            Icon:
                              type: array
                              items:
                                type: object
                                properties:
                                  resource:
                                    type: string
                                  size:
                                    type: integer
                            name:
                              type: string
                            description:
                              type: string
                        properties:
                          type: object
                          properties:
                            property:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  array:
                                    type: boolean
                                  encrypted:
                                    type: boolean
                                  type:
                                    type: string
                                  value:
                                    type: array
                                    items:
                                      type: string
                                example:
                                  name: kura.service.pid
                                  array: false
                                  encrypted: false
                                  type: String
                                  value:
                                    - org.eclipse.kura.wire.graph.WireGraphService
                      example:
                        id: org.eclipse.kura.wire.graph.WireGraphService
                        definition:
                          description: WireGraphService metatype
                          id: org.eclipse.kura.wire.graph.WireGraphService
                          name: WireGraphService
                          AD:
                            - cardinality: 0
                              description: The default wire graph JSON
                              id: WireGraph
                              name: WireGraph
                              required: true
                              type: String
                              Option: []
                          Icon: []
                        properties:
                          property:
                            - name: WireGraph
                              array: false
                              encrypted: false
                              type: String
                              value:
                                - '{"components":[{"pid":"asset1","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-580,"y":-120},"inputPortNames":{},"outputPortNames":{}}},{"pid":"asset2","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-1100,"y":-100},"inputPortNames":{},"outputPortNames":{}}}],"wires":[]}'
                            - name: kura.service.pid
                              array: false
                              encrypted: false
                              type: String
                              value:
                                - org.eclipse.kura.wire.graph.WireGraphService
                            - name: service.pid
                              array: false
                              encrypted: false
                              type: String
                              value:
                                - org.eclipse.kura.wire.graph.WireGraphService
                example:
                  type: deviceConfiguration
                  configuration:
                    - id: org.eclipse.kura.wire.graph.WireGraphService
                      definition:
                        description: WireGraphService metatype
                        id: org.eclipse.kura.wire.graph.WireGraphService
                        name: WireGraphService
                        AD:
                          - cardinality: 0
                            description: The default wire graph JSON
                            id: WireGraph
                            name: WireGraph
                            required: true
                            type: String
                            Option: []
                        Icon: []
                      properties:
                        property:
                          - name: WireGraph
                            array: false
                            encrypted: false
                            type: String
                            value:
                              - '{"components":[{"pid":"asset1","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-580,"y":-120},"inputPortNames":{},"outputPortNames":{}}},{"pid":"asset2","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-1100,"y":-100},"inputPortNames":{},"outputPortNames":{}}}],"wires":[]}'
                          - name: kura.service.pid
                            array: false
                            encrypted: false
                            type: String
                            value:
                              - org.eclipse.kura.wire.graph.WireGraphService
                          - name: service.pid
                            array: false
                            encrypted: false
                            type: String
                            value:
                              - org.eclipse.kura.wire.graph.WireGraphService
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Device Management - Configuration
      summary: Update multiple Configurations
      operationId: deviceConfigurationsWrite
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                configuration:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      properties:
                        type: object
                        properties:
                          property:
                            type: array
                            items:
                              type: object
                              properties:
                                name:
                                  type: string
                                array:
                                  type: boolean
                                encrypted:
                                  type: boolean
                                type:
                                  type: string
                                value:
                                  type: array
                                  items:
                                    type: string
                              example:
                                name: kura.service.pid
                                array: false
                                encrypted: false
                                type: String
                                value:
                                  - org.eclipse.kura.wire.graph.WireGraphService
              example:
                configuration:
                  - id: org.eclipse.kura.wire.graph.WireGraphService
                    properties:
                      property:
                        - name: kura.service.pid
                          array: false
                          encrypted: false
                          type: String
                          value:
                            - org.eclipse.kura.wire.graph.WireGraphService
        required: true
      responses:
        '204':
          description: The updated list of Configurations on a single Device
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/configurations/{componentId}':
    get:
      tags:
        - Device Management - Configuration
      summary: Read a single Configuration
      operationId: deviceConfigurationRead
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: componentId
          in: path
          description: The ID of the Component on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      responses:
        '200':
          description: The Configuration details of a single Service on a single Device
          content:
            application/json:
              schema:
                type: object
                properties:
                  configuration:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        definition:
                          type: object
                          properties:
                            id:
                              type: string
                            AD:
                              type: array
                              items:
                                type: object
                                properties:
                                  Option:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        label:
                                          type: string
                                        value:
                                          type: string
                                  default:
                                    type: string
                                  type:
                                    type: object
                                  cardinality:
                                    type: integer
                                  min:
                                    type: string
                                  max:
                                    type: string
                                  description:
                                    type: string
                                  id:
                                    type: string
                                  required:
                                    type: boolean
                                  name:
                                    type: string
                                example:
                                  cardinality: 0
                                  description: The default wire graph JSON
                                  id: WireGraph
                                  name: WireGraph
                                  required: true
                                  type: String
                                  Option: []
                            Icon:
                              type: array
                              items:
                                type: object
                                properties:
                                  resource:
                                    type: string
                                  size:
                                    type: integer
                            name:
                              type: string
                            description:
                              type: string
                        properties:
                          type: object
                          properties:
                            property:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  array:
                                    type: boolean
                                  encrypted:
                                    type: boolean
                                  type:
                                    type: string
                                  value:
                                    type: array
                                    items:
                                      type: string
                                example:
                                  name: kura.service.pid
                                  array: false
                                  encrypted: false
                                  type: String
                                  value:
                                    - org.eclipse.kura.wire.graph.WireGraphService
                      example:
                        id: org.eclipse.kura.wire.graph.WireGraphService
                        definition:
                          description: WireGraphService metatype
                          id: org.eclipse.kura.wire.graph.WireGraphService
                          name: WireGraphService
                          AD:
                            - cardinality: 0
                              description: The default wire graph JSON
                              id: WireGraph
                              name: WireGraph
                              required: true
                              type: String
                              Option: []
                          Icon: []
                        properties:
                          property:
                            - name: WireGraph
                              array: false
                              encrypted: false
                              type: String
                              value:
                                - '{"components":[{"pid":"asset1","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-580,"y":-120},"inputPortNames":{},"outputPortNames":{}}},{"pid":"asset2","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-1100,"y":-100},"inputPortNames":{},"outputPortNames":{}}}],"wires":[]}'
                            - name: kura.service.pid
                              array: false
                              encrypted: false
                              type: String
                              value:
                                - org.eclipse.kura.wire.graph.WireGraphService
                            - name: service.pid
                              array: false
                              encrypted: false
                              type: String
                              value:
                                - org.eclipse.kura.wire.graph.WireGraphService
                example:
                  type: deviceConfiguration
                  configuration:
                    - id: org.eclipse.kura.wire.graph.WireGraphService
                      definition:
                        description: WireGraphService metatype
                        id: org.eclipse.kura.wire.graph.WireGraphService
                        name: WireGraphService
                        AD:
                          - cardinality: 0
                            description: The default wire graph JSON
                            id: WireGraph
                            name: WireGraph
                            required: true
                            type: String
                            Option: []
                        Icon: []
                      properties:
                        property:
                          - name: WireGraph
                            array: false
                            encrypted: false
                            type: String
                            value:
                              - '{"components":[{"pid":"asset1","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-580,"y":-120},"inputPortNames":{},"outputPortNames":{}}},{"pid":"asset2","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-1100,"y":-100},"inputPortNames":{},"outputPortNames":{}}}],"wires":[]}'
                          - name: kura.service.pid
                            array: false
                            encrypted: false
                            type: String
                            value:
                              - org.eclipse.kura.wire.graph.WireGraphService
                          - name: service.pid
                            array: false
                            encrypted: false
                            type: String
                            value:
                              - org.eclipse.kura.wire.graph.WireGraphService
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Device Management - Configuration
      summary: Update a single Configuration
      operationId: deviceConfigurationWrite
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: componentId
          in: path
          description: The ID of the Component on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                properties:
                  type: object
                  properties:
                    property:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                          array:
                            type: boolean
                          encrypted:
                            type: boolean
                          type:
                            type: string
                          value:
                            type: array
                            items:
                              type: string
                        example:
                          name: kura.service.pid
                          array: false
                          encrypted: false
                          type: String
                          value:
                            - org.eclipse.kura.wire.graph.WireGraphService
        required: true
      responses:
        '204':
          description: The updated Configuration details of a single Service on a single Device
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/operations/{operationId}/notifications':
    get:
      tags:
        - Device Management - Notification
      summary: Get all the Device Registry Notifications
      operationId: deviceRegistryNotificationList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: operationId
          in: path
          description: The ID of the Registry Operation on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: resource
          in: query
          description: The resource of the DeviceEvent in which to search results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Device Management Registty Notifications available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - properties:
                                operationId:
                                  type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                progress:
                                  type: integer
                                resource:
                                  type: string
                                sentOn:
                                  type: string
                                  format: date-time
                                status:
                                  allOf:
                                    - allOf:
                                        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                          type: object
                                          properties:
                                            id:
                                              allOf:
                                                - type: string
                                                  pattern: '[A-Za-z0-9-_=]+'
                                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                                - description: The ID of the Entity
                                                  readOnly: true
                                            scopeId:
                                              allOf:
                                                - type: string
                                                  pattern: '[A-Za-z0-9-_=]+'
                                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                                - description: The ID of the Scope containing the Entity
                                                  readOnly: true
                                            createdOn:
                                              description: The date and time when this entity was created
                                              type: string
                                              format: date-time
                                              readOnly: true
                                            createdBy:
                                              allOf:
                                                - type: string
                                                  pattern: '[A-Za-z0-9-_=]+'
                                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                                - description: The ID of the Entity who created this Entity
                                                  readOnly: true
                                        - description: An Entity that also supports edits and versioning
                                          type: object
                                          properties:
                                            modifiedOn:
                                              description: The date and time when this entity was modified
                                              type: string
                                              format: date-time
                                              readOnly: true
                                            modifiedBy:
                                              allOf:
                                                - type: string
                                                  pattern: '[A-Za-z0-9-_=]+'
                                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                                - description: The ID of the Entity who modified this Entity
                                                  readOnly: true
                                            optlock:
                                              description: |
                                                The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                                See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                              type: integer
                                    - type: object
                                      properties:
                                        action:
                                          type: string
                                          enum:
                                            - READ
                                            - CREATE
                                            - WRITE
                                            - DELETE
                                            - OPTIONS
                                            - EXECUTE
                                        appId:
                                          type: string
                                        deviceId:
                                          type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        endedOn:
                                          type: string
                                          format: date-time
                                        operationProperties:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              name:
                                                type: string
                                              propertyType:
                                                type: string
                                              propertyValue:
                                                type: string
                                        log:
                                          type: string
                                        operationId:
                                          type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        resource:
                                          type: string
                                        startedOn:
                                          type: string
                                          format: date-time
                                        status:
                                          type: string
                                          enum:
                                            - RUNNING
                                            - COMPLETED
                                            - FAILED
                                            - STALE
                                      example:
                                        type: deviceManagementOperation
                                        id: cjmXXKvLUY8
                                        scopeId: AQ
                                        createdOn: '2019-11-15T11:27:24.857Z'
                                        createdBy: AQ
                                        modifiedOn: '2019-11-15T11:30:01.975Z'
                                        modifiedBy: Ag
                                        optlock: 3
                                        action: EXECUTE
                                        appId: DEPLOY
                                        deviceId: UVjeGkGVT3A
                                        endedOn: '2019-11-15T11:30:01.568Z'
                                        operationProperties:
                                          - name: kapau.package.download.file.type
                                            propertyType: string
                                            propertyValue: DEPLOYMENT_PACKAGE
                                          - name: kapau.package.download.password
                                            propertyType: string
                                            propertyValue: kapua-password
                                          - name: kapau.package.download.username
                                            propertyType: string
                                            propertyValue: kapua-sys
                                          - name: kapua.package.download.block.delay
                                            propertyType: integer
                                            propertyValue: '1000'
                                          - name: kapua.package.download.block.size
                                            propertyType: integer
                                            propertyValue: '128'
                                          - name: kapua.package.download.block.timeout
                                            propertyType: integer
                                            propertyValue: '60000'
                                          - name: kapua.package.download.install
                                            propertyType: boolean
                                            propertyValue: 'true'
                                          - name: kapua.package.download.name
                                            propertyType: string
                                            propertyValue: heater
                                          - name: kapua.package.download.uri
                                            propertyType: java.net.URI
                                            propertyValue: 'http://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                                          - name: kapua.package.download.version
                                            propertyType: string
                                            propertyValue: 1.0.500
                                          - name: kapua.package.operation.id
                                            propertyType: org.eclipse.kapua.commons.model.id.KapuaEid
                                            propertyValue: '2588799701293395515'
                                          - name: kapua.package.reboot
                                            propertyType: boolean
                                            propertyValue: 'false'
                                        log: ''
                                        operationId: I-1DnL467js
                                        resource: DOWNLOAD
                                        startedOn: '2019-11-15T11:27:24.842Z'
                                        status: COMPLETED
                              example:
                                type: managementOperationNotification
                                id: RGoRWw9Pkhc
                                scopeId: AQ
                                createdOn: '2019-11-15T11:27:25.331Z'
                                createdBy: Ag
                                operationId: cjmXXKvLUY8
                                progress: 0
                                resource: download
                                sentOn: '2019-11-15T11:27:25.267Z'
                                status: RUNNING
                    example:
                      type: managementOperationNotificationListResult
                      limitExceeded: false
                      size: 2
                      items:
                        - type: managementOperationNotification
                          id: RGoRWw9Pkhc
                          scopeId: AQ
                          createdOn: '2019-11-15T11:27:25.331Z'
                          createdBy: Ag
                          operationId: cjmXXKvLUY8
                          progress: 0
                          resource: download
                          sentOn: '2019-11-15T11:27:25.267Z'
                          status: RUNNING
                        - type: managementOperationNotification
                          id: f1Hu1T8iIRw
                          scopeId: AQ
                          createdOn: '2019-11-15T11:27:32.331Z'
                          createdBy: Ag
                          operationId: cjmXXKvLUY8
                          progress: 5
                          resource: download
                          sentOn: '2019-11-15T11:27:32.277Z'
                          status: RUNNING
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/operations/{operationId}/notifications/{notificationId}':
    get:
      tags:
        - Device Management - Notification
      summary: Get a single Device Registry Notification
      operationId: deviceRegistryNotificationGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: operationId
          in: path
          description: The ID of the Registry Operation on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: notificationId
          in: path
          description: The ID of the Registry Notification on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Registry Notification
          content:
            application/json:
              schema:
                allOf:
                  - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                    type: object
                    properties:
                      id:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity
                            readOnly: true
                      scopeId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Scope containing the Entity
                            readOnly: true
                      createdOn:
                        description: The date and time when this entity was created
                        type: string
                        format: date-time
                        readOnly: true
                      createdBy:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity who created this Entity
                            readOnly: true
                  - properties:
                      operationId:
                        type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      progress:
                        type: integer
                      resource:
                        type: string
                      sentOn:
                        type: string
                        format: date-time
                      status:
                        allOf:
                          - allOf:
                              - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                type: object
                                properties:
                                  id:
                                    allOf:
                                      - type: string
                                        pattern: '[A-Za-z0-9-_=]+'
                                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                      - description: The ID of the Entity
                                        readOnly: true
                                  scopeId:
                                    allOf:
                                      - type: string
                                        pattern: '[A-Za-z0-9-_=]+'
                                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                      - description: The ID of the Scope containing the Entity
                                        readOnly: true
                                  createdOn:
                                    description: The date and time when this entity was created
                                    type: string
                                    format: date-time
                                    readOnly: true
                                  createdBy:
                                    allOf:
                                      - type: string
                                        pattern: '[A-Za-z0-9-_=]+'
                                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                      - description: The ID of the Entity who created this Entity
                                        readOnly: true
                              - description: An Entity that also supports edits and versioning
                                type: object
                                properties:
                                  modifiedOn:
                                    description: The date and time when this entity was modified
                                    type: string
                                    format: date-time
                                    readOnly: true
                                  modifiedBy:
                                    allOf:
                                      - type: string
                                        pattern: '[A-Za-z0-9-_=]+'
                                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                      - description: The ID of the Entity who modified this Entity
                                        readOnly: true
                                  optlock:
                                    description: |
                                      The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                      See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                    type: integer
                          - type: object
                            properties:
                              action:
                                type: string
                                enum:
                                  - READ
                                  - CREATE
                                  - WRITE
                                  - DELETE
                                  - OPTIONS
                                  - EXECUTE
                              appId:
                                type: string
                              deviceId:
                                type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              endedOn:
                                type: string
                                format: date-time
                              operationProperties:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                    propertyType:
                                      type: string
                                    propertyValue:
                                      type: string
                              log:
                                type: string
                              operationId:
                                type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              resource:
                                type: string
                              startedOn:
                                type: string
                                format: date-time
                              status:
                                type: string
                                enum:
                                  - RUNNING
                                  - COMPLETED
                                  - FAILED
                                  - STALE
                            example:
                              type: deviceManagementOperation
                              id: cjmXXKvLUY8
                              scopeId: AQ
                              createdOn: '2019-11-15T11:27:24.857Z'
                              createdBy: AQ
                              modifiedOn: '2019-11-15T11:30:01.975Z'
                              modifiedBy: Ag
                              optlock: 3
                              action: EXECUTE
                              appId: DEPLOY
                              deviceId: UVjeGkGVT3A
                              endedOn: '2019-11-15T11:30:01.568Z'
                              operationProperties:
                                - name: kapau.package.download.file.type
                                  propertyType: string
                                  propertyValue: DEPLOYMENT_PACKAGE
                                - name: kapau.package.download.password
                                  propertyType: string
                                  propertyValue: kapua-password
                                - name: kapau.package.download.username
                                  propertyType: string
                                  propertyValue: kapua-sys
                                - name: kapua.package.download.block.delay
                                  propertyType: integer
                                  propertyValue: '1000'
                                - name: kapua.package.download.block.size
                                  propertyType: integer
                                  propertyValue: '128'
                                - name: kapua.package.download.block.timeout
                                  propertyType: integer
                                  propertyValue: '60000'
                                - name: kapua.package.download.install
                                  propertyType: boolean
                                  propertyValue: 'true'
                                - name: kapua.package.download.name
                                  propertyType: string
                                  propertyValue: heater
                                - name: kapua.package.download.uri
                                  propertyType: java.net.URI
                                  propertyValue: 'http://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                                - name: kapua.package.download.version
                                  propertyType: string
                                  propertyValue: 1.0.500
                                - name: kapua.package.operation.id
                                  propertyType: org.eclipse.kapua.commons.model.id.KapuaEid
                                  propertyValue: '2588799701293395515'
                                - name: kapua.package.reboot
                                  propertyType: boolean
                                  propertyValue: 'false'
                              log: ''
                              operationId: I-1DnL467js
                              resource: DOWNLOAD
                              startedOn: '2019-11-15T11:27:24.842Z'
                              status: COMPLETED
                    example:
                      type: managementOperationNotification
                      id: RGoRWw9Pkhc
                      scopeId: AQ
                      createdOn: '2019-11-15T11:27:25.331Z'
                      createdBy: Ag
                      operationId: cjmXXKvLUY8
                      progress: 0
                      resource: download
                      sentOn: '2019-11-15T11:27:25.267Z'
                      status: RUNNING
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Device Management - Notification
      summary: Delete a single Registry Notification
      operationId: deviceRegistryNotificationDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: operationId
          in: path
          description: The ID of the Registry Operation on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: notificationId
          in: path
          description: The ID of the Registry Notification on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The Registry Notification has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/operations/{operationId}/notifications/_query':
    post:
      tags:
        - Device Management - Notification
      summary: Query the Registry Notifications
      operationId: deviceRegistryNotificationQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: operationId
          in: path
          description: The ID of the Registry Operation on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - properties:
                                operationId:
                                  type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                progress:
                                  type: integer
                                resource:
                                  type: string
                                sentOn:
                                  type: string
                                  format: date-time
                                status:
                                  allOf:
                                    - allOf:
                                        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                          type: object
                                          properties:
                                            id:
                                              allOf:
                                                - type: string
                                                  pattern: '[A-Za-z0-9-_=]+'
                                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                                - description: The ID of the Entity
                                                  readOnly: true
                                            scopeId:
                                              allOf:
                                                - type: string
                                                  pattern: '[A-Za-z0-9-_=]+'
                                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                                - description: The ID of the Scope containing the Entity
                                                  readOnly: true
                                            createdOn:
                                              description: The date and time when this entity was created
                                              type: string
                                              format: date-time
                                              readOnly: true
                                            createdBy:
                                              allOf:
                                                - type: string
                                                  pattern: '[A-Za-z0-9-_=]+'
                                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                                - description: The ID of the Entity who created this Entity
                                                  readOnly: true
                                        - description: An Entity that also supports edits and versioning
                                          type: object
                                          properties:
                                            modifiedOn:
                                              description: The date and time when this entity was modified
                                              type: string
                                              format: date-time
                                              readOnly: true
                                            modifiedBy:
                                              allOf:
                                                - type: string
                                                  pattern: '[A-Za-z0-9-_=]+'
                                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                                - description: The ID of the Entity who modified this Entity
                                                  readOnly: true
                                            optlock:
                                              description: |
                                                The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                                See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                              type: integer
                                    - type: object
                                      properties:
                                        action:
                                          type: string
                                          enum:
                                            - READ
                                            - CREATE
                                            - WRITE
                                            - DELETE
                                            - OPTIONS
                                            - EXECUTE
                                        appId:
                                          type: string
                                        deviceId:
                                          type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        endedOn:
                                          type: string
                                          format: date-time
                                        operationProperties:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              name:
                                                type: string
                                              propertyType:
                                                type: string
                                              propertyValue:
                                                type: string
                                        log:
                                          type: string
                                        operationId:
                                          type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        resource:
                                          type: string
                                        startedOn:
                                          type: string
                                          format: date-time
                                        status:
                                          type: string
                                          enum:
                                            - RUNNING
                                            - COMPLETED
                                            - FAILED
                                            - STALE
                                      example:
                                        type: deviceManagementOperation
                                        id: cjmXXKvLUY8
                                        scopeId: AQ
                                        createdOn: '2019-11-15T11:27:24.857Z'
                                        createdBy: AQ
                                        modifiedOn: '2019-11-15T11:30:01.975Z'
                                        modifiedBy: Ag
                                        optlock: 3
                                        action: EXECUTE
                                        appId: DEPLOY
                                        deviceId: UVjeGkGVT3A
                                        endedOn: '2019-11-15T11:30:01.568Z'
                                        operationProperties:
                                          - name: kapau.package.download.file.type
                                            propertyType: string
                                            propertyValue: DEPLOYMENT_PACKAGE
                                          - name: kapau.package.download.password
                                            propertyType: string
                                            propertyValue: kapua-password
                                          - name: kapau.package.download.username
                                            propertyType: string
                                            propertyValue: kapua-sys
                                          - name: kapua.package.download.block.delay
                                            propertyType: integer
                                            propertyValue: '1000'
                                          - name: kapua.package.download.block.size
                                            propertyType: integer
                                            propertyValue: '128'
                                          - name: kapua.package.download.block.timeout
                                            propertyType: integer
                                            propertyValue: '60000'
                                          - name: kapua.package.download.install
                                            propertyType: boolean
                                            propertyValue: 'true'
                                          - name: kapua.package.download.name
                                            propertyType: string
                                            propertyValue: heater
                                          - name: kapua.package.download.uri
                                            propertyType: java.net.URI
                                            propertyValue: 'http://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                                          - name: kapua.package.download.version
                                            propertyType: string
                                            propertyValue: 1.0.500
                                          - name: kapua.package.operation.id
                                            propertyType: org.eclipse.kapua.commons.model.id.KapuaEid
                                            propertyValue: '2588799701293395515'
                                          - name: kapua.package.reboot
                                            propertyType: boolean
                                            propertyValue: 'false'
                                        log: ''
                                        operationId: I-1DnL467js
                                        resource: DOWNLOAD
                                        startedOn: '2019-11-15T11:27:24.842Z'
                                        status: COMPLETED
                              example:
                                type: managementOperationNotification
                                id: RGoRWw9Pkhc
                                scopeId: AQ
                                createdOn: '2019-11-15T11:27:25.331Z'
                                createdBy: Ag
                                operationId: cjmXXKvLUY8
                                progress: 0
                                resource: download
                                sentOn: '2019-11-15T11:27:25.267Z'
                                status: RUNNING
                    example:
                      type: managementOperationNotificationListResult
                      limitExceeded: false
                      size: 2
                      items:
                        - type: managementOperationNotification
                          id: RGoRWw9Pkhc
                          scopeId: AQ
                          createdOn: '2019-11-15T11:27:25.331Z'
                          createdBy: Ag
                          operationId: cjmXXKvLUY8
                          progress: 0
                          resource: download
                          sentOn: '2019-11-15T11:27:25.267Z'
                          status: RUNNING
                        - type: managementOperationNotification
                          id: f1Hu1T8iIRw
                          scopeId: AQ
                          createdOn: '2019-11-15T11:27:32.331Z'
                          createdBy: Ag
                          operationId: cjmXXKvLUY8
                          progress: 5
                          resource: download
                          sentOn: '2019-11-15T11:27:32.277Z'
                          status: RUNNING
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/operations/{operationId}/notifications/_count':
    post:
      tags:
        - Device Management - Notification
      summary: Count the Registry Notifications
      operationId: deviceRegistryNotificationCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: operationId
          in: path
          description: The ID of the Registry Operation on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/operations':
    get:
      tags:
        - Device Management - Operation
      summary: Get all the Device Registry Operations
      operationId: deviceRegistryOperationList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: resource
          in: query
          description: The resource of the DeviceManagementOperation in which to search results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Device Management Registty Operations available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - type: object
                              properties:
                                action:
                                  type: string
                                  enum:
                                    - READ
                                    - CREATE
                                    - WRITE
                                    - DELETE
                                    - OPTIONS
                                    - EXECUTE
                                appId:
                                  type: string
                                deviceId:
                                  type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                endedOn:
                                  type: string
                                  format: date-time
                                operationProperties:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      name:
                                        type: string
                                      propertyType:
                                        type: string
                                      propertyValue:
                                        type: string
                                log:
                                  type: string
                                operationId:
                                  type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                resource:
                                  type: string
                                startedOn:
                                  type: string
                                  format: date-time
                                status:
                                  type: string
                                  enum:
                                    - RUNNING
                                    - COMPLETED
                                    - FAILED
                                    - STALE
                              example:
                                type: deviceManagementOperation
                                id: cjmXXKvLUY8
                                scopeId: AQ
                                createdOn: '2019-11-15T11:27:24.857Z'
                                createdBy: AQ
                                modifiedOn: '2019-11-15T11:30:01.975Z'
                                modifiedBy: Ag
                                optlock: 3
                                action: EXECUTE
                                appId: DEPLOY
                                deviceId: UVjeGkGVT3A
                                endedOn: '2019-11-15T11:30:01.568Z'
                                operationProperties:
                                  - name: kapau.package.download.file.type
                                    propertyType: string
                                    propertyValue: DEPLOYMENT_PACKAGE
                                  - name: kapau.package.download.password
                                    propertyType: string
                                    propertyValue: kapua-password
                                  - name: kapau.package.download.username
                                    propertyType: string
                                    propertyValue: kapua-sys
                                  - name: kapua.package.download.block.delay
                                    propertyType: integer
                                    propertyValue: '1000'
                                  - name: kapua.package.download.block.size
                                    propertyType: integer
                                    propertyValue: '128'
                                  - name: kapua.package.download.block.timeout
                                    propertyType: integer
                                    propertyValue: '60000'
                                  - name: kapua.package.download.install
                                    propertyType: boolean
                                    propertyValue: 'true'
                                  - name: kapua.package.download.name
                                    propertyType: string
                                    propertyValue: heater
                                  - name: kapua.package.download.uri
                                    propertyType: java.net.URI
                                    propertyValue: 'http://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                                  - name: kapua.package.download.version
                                    propertyType: string
                                    propertyValue: 1.0.500
                                  - name: kapua.package.operation.id
                                    propertyType: org.eclipse.kapua.commons.model.id.KapuaEid
                                    propertyValue: '2588799701293395515'
                                  - name: kapua.package.reboot
                                    propertyType: boolean
                                    propertyValue: 'false'
                                log: ''
                                operationId: I-1DnL467js
                                resource: DOWNLOAD
                                startedOn: '2019-11-15T11:27:24.842Z'
                                status: COMPLETED
                    example:
                      type: deviceManagementOperationListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: deviceManagementOperation
                          id: cjmXXKvLUY8
                          scopeId: AQ
                          createdOn: '2019-11-15T11:27:24.857Z'
                          createdBy: AQ
                          modifiedOn: '2019-11-15T11:30:01.975Z'
                          modifiedBy: Ag
                          optlock: 3
                          action: EXECUTE
                          appId: DEPLOY
                          deviceId: UVjeGkGVT3A
                          endedOn: '2019-11-15T11:30:01.568Z'
                          operationProperties:
                            - name: kapau.package.download.file.type
                              propertyType: string
                              propertyValue: DEPLOYMENT_PACKAGE
                            - name: kapau.package.download.password
                              propertyType: string
                              propertyValue: kapua-password
                            - name: kapau.package.download.username
                              propertyType: string
                              propertyValue: kapua-sys
                            - name: kapua.package.download.block.delay
                              propertyType: integer
                              propertyValue: '1000'
                            - name: kapua.package.download.block.size
                              propertyType: integer
                              propertyValue: '128'
                            - name: kapua.package.download.block.timeout
                              propertyType: integer
                              propertyValue: '60000'
                            - name: kapua.package.download.install
                              propertyType: boolean
                              propertyValue: 'true'
                            - name: kapua.package.download.name
                              propertyType: string
                              propertyValue: heater
                            - name: kapua.package.download.uri
                              propertyType: java.net.URI
                              propertyValue: 'http://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                            - name: kapua.package.download.version
                              propertyType: string
                              propertyValue: 1.0.500
                            - name: kapua.package.operation.id
                              propertyType: org.eclipse.kapua.commons.model.id.KapuaEid
                              propertyValue: '2588799701293395515'
                            - name: kapua.package.reboot
                              propertyType: boolean
                              propertyValue: 'false'
                          log: ''
                          operationId: I-1DnL467js
                          resource: DOWNLOAD
                          startedOn: '2019-11-15T11:27:24.842Z'
                          status: COMPLETED
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/operations/{operationId}':
    get:
      tags:
        - Device Management - Operation
      summary: Get a single Device Registry Operation
      operationId: deviceRegistryOperationGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: operationId
          in: path
          description: The ID of the Registry Operation on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Registry Operation
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    properties:
                      action:
                        type: string
                        enum:
                          - READ
                          - CREATE
                          - WRITE
                          - DELETE
                          - OPTIONS
                          - EXECUTE
                      appId:
                        type: string
                      deviceId:
                        type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      endedOn:
                        type: string
                        format: date-time
                      operationProperties:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                            propertyType:
                              type: string
                            propertyValue:
                              type: string
                      log:
                        type: string
                      operationId:
                        type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      resource:
                        type: string
                      startedOn:
                        type: string
                        format: date-time
                      status:
                        type: string
                        enum:
                          - RUNNING
                          - COMPLETED
                          - FAILED
                          - STALE
                    example:
                      type: deviceManagementOperation
                      id: cjmXXKvLUY8
                      scopeId: AQ
                      createdOn: '2019-11-15T11:27:24.857Z'
                      createdBy: AQ
                      modifiedOn: '2019-11-15T11:30:01.975Z'
                      modifiedBy: Ag
                      optlock: 3
                      action: EXECUTE
                      appId: DEPLOY
                      deviceId: UVjeGkGVT3A
                      endedOn: '2019-11-15T11:30:01.568Z'
                      operationProperties:
                        - name: kapau.package.download.file.type
                          propertyType: string
                          propertyValue: DEPLOYMENT_PACKAGE
                        - name: kapau.package.download.password
                          propertyType: string
                          propertyValue: kapua-password
                        - name: kapau.package.download.username
                          propertyType: string
                          propertyValue: kapua-sys
                        - name: kapua.package.download.block.delay
                          propertyType: integer
                          propertyValue: '1000'
                        - name: kapua.package.download.block.size
                          propertyType: integer
                          propertyValue: '128'
                        - name: kapua.package.download.block.timeout
                          propertyType: integer
                          propertyValue: '60000'
                        - name: kapua.package.download.install
                          propertyType: boolean
                          propertyValue: 'true'
                        - name: kapua.package.download.name
                          propertyType: string
                          propertyValue: heater
                        - name: kapua.package.download.uri
                          propertyType: java.net.URI
                          propertyValue: 'http://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                        - name: kapua.package.download.version
                          propertyType: string
                          propertyValue: 1.0.500
                        - name: kapua.package.operation.id
                          propertyType: org.eclipse.kapua.commons.model.id.KapuaEid
                          propertyValue: '2588799701293395515'
                        - name: kapua.package.reboot
                          propertyType: boolean
                          propertyValue: 'false'
                      log: ''
                      operationId: I-1DnL467js
                      resource: DOWNLOAD
                      startedOn: '2019-11-15T11:27:24.842Z'
                      status: COMPLETED
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Device Management - Operation
      summary: Delete a single Registry Operation
      operationId: deviceRegistryOperationDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: operationId
          in: path
          description: The ID of the Registry Operation on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The Registry Operation has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/operations/_query':
    post:
      tags:
        - Device Management - Operation
      summary: Query the Registry Operations
      operationId: deviceRegistryOperationQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - type: object
                              properties:
                                action:
                                  type: string
                                  enum:
                                    - READ
                                    - CREATE
                                    - WRITE
                                    - DELETE
                                    - OPTIONS
                                    - EXECUTE
                                appId:
                                  type: string
                                deviceId:
                                  type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                endedOn:
                                  type: string
                                  format: date-time
                                operationProperties:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      name:
                                        type: string
                                      propertyType:
                                        type: string
                                      propertyValue:
                                        type: string
                                log:
                                  type: string
                                operationId:
                                  type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                resource:
                                  type: string
                                startedOn:
                                  type: string
                                  format: date-time
                                status:
                                  type: string
                                  enum:
                                    - RUNNING
                                    - COMPLETED
                                    - FAILED
                                    - STALE
                              example:
                                type: deviceManagementOperation
                                id: cjmXXKvLUY8
                                scopeId: AQ
                                createdOn: '2019-11-15T11:27:24.857Z'
                                createdBy: AQ
                                modifiedOn: '2019-11-15T11:30:01.975Z'
                                modifiedBy: Ag
                                optlock: 3
                                action: EXECUTE
                                appId: DEPLOY
                                deviceId: UVjeGkGVT3A
                                endedOn: '2019-11-15T11:30:01.568Z'
                                operationProperties:
                                  - name: kapau.package.download.file.type
                                    propertyType: string
                                    propertyValue: DEPLOYMENT_PACKAGE
                                  - name: kapau.package.download.password
                                    propertyType: string
                                    propertyValue: kapua-password
                                  - name: kapau.package.download.username
                                    propertyType: string
                                    propertyValue: kapua-sys
                                  - name: kapua.package.download.block.delay
                                    propertyType: integer
                                    propertyValue: '1000'
                                  - name: kapua.package.download.block.size
                                    propertyType: integer
                                    propertyValue: '128'
                                  - name: kapua.package.download.block.timeout
                                    propertyType: integer
                                    propertyValue: '60000'
                                  - name: kapua.package.download.install
                                    propertyType: boolean
                                    propertyValue: 'true'
                                  - name: kapua.package.download.name
                                    propertyType: string
                                    propertyValue: heater
                                  - name: kapua.package.download.uri
                                    propertyType: java.net.URI
                                    propertyValue: 'http://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                                  - name: kapua.package.download.version
                                    propertyType: string
                                    propertyValue: 1.0.500
                                  - name: kapua.package.operation.id
                                    propertyType: org.eclipse.kapua.commons.model.id.KapuaEid
                                    propertyValue: '2588799701293395515'
                                  - name: kapua.package.reboot
                                    propertyType: boolean
                                    propertyValue: 'false'
                                log: ''
                                operationId: I-1DnL467js
                                resource: DOWNLOAD
                                startedOn: '2019-11-15T11:27:24.842Z'
                                status: COMPLETED
                    example:
                      type: deviceManagementOperationListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: deviceManagementOperation
                          id: cjmXXKvLUY8
                          scopeId: AQ
                          createdOn: '2019-11-15T11:27:24.857Z'
                          createdBy: AQ
                          modifiedOn: '2019-11-15T11:30:01.975Z'
                          modifiedBy: Ag
                          optlock: 3
                          action: EXECUTE
                          appId: DEPLOY
                          deviceId: UVjeGkGVT3A
                          endedOn: '2019-11-15T11:30:01.568Z'
                          operationProperties:
                            - name: kapau.package.download.file.type
                              propertyType: string
                              propertyValue: DEPLOYMENT_PACKAGE
                            - name: kapau.package.download.password
                              propertyType: string
                              propertyValue: kapua-password
                            - name: kapau.package.download.username
                              propertyType: string
                              propertyValue: kapua-sys
                            - name: kapua.package.download.block.delay
                              propertyType: integer
                              propertyValue: '1000'
                            - name: kapua.package.download.block.size
                              propertyType: integer
                              propertyValue: '128'
                            - name: kapua.package.download.block.timeout
                              propertyType: integer
                              propertyValue: '60000'
                            - name: kapua.package.download.install
                              propertyType: boolean
                              propertyValue: 'true'
                            - name: kapua.package.download.name
                              propertyType: string
                              propertyValue: heater
                            - name: kapua.package.download.uri
                              propertyType: java.net.URI
                              propertyValue: 'http://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                            - name: kapua.package.download.version
                              propertyType: string
                              propertyValue: 1.0.500
                            - name: kapua.package.operation.id
                              propertyType: org.eclipse.kapua.commons.model.id.KapuaEid
                              propertyValue: '2588799701293395515'
                            - name: kapua.package.reboot
                              propertyType: boolean
                              propertyValue: 'false'
                          log: ''
                          operationId: I-1DnL467js
                          resource: DOWNLOAD
                          startedOn: '2019-11-15T11:27:24.842Z'
                          status: COMPLETED
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/operations/_count':
    post:
      tags:
        - Device Management - Operation
      summary: Count the Registry Operations
      operationId: deviceRegistryOperationCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/packages':
    get:
      tags:
        - Device Management - Package
      summary: Get the Packages installed on a single Device
      operationId: devicePackageList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      responses:
        '200':
          description: The list of Packages installed on a single Device
          content:
            application/json:
              schema:
                type: object
                properties:
                  devicePackage:
                    type: array
                    items:
                      type: object
                      description: A Device Package
                      properties:
                        name:
                          type: string
                        version:
                          type: string
                        bundleInfos:
                          type: object
                          properties:
                            bundleInfo:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  version:
                                    type: string
                        installDate:
                          type: string
                          format: date-time
                      example:
                        name: org.eclipse.kura.demo.heater
                        version: 1.0.300
                        bundleInfos:
                          bundleInfo:
                            - name: org.eclipse.kura.demo.heater
                              version: 1.0.300
                example:
                  type: devicePackages
                  devicePackage:
                    - name: org.eclipse.kura.demo.heater
                      version: 1.0.300
                      bundleInfos:
                        bundleInfo:
                          - name: org.eclipse.kura.demo.heater
                            version: 1.0.300
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/packages/_download':
    post:
      tags:
        - Device Management - Package
      summary: Download and install a Package
      operationId: devicePackageDownload
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                uri:
                  type: string
                name:
                  type: string
                version:
                  type: string
                username:
                  type: string
                password:
                  type: string
                fileHash:
                  type: string
                fileType:
                  type: string
                install:
                  type: boolean
                reboot:
                  type: boolean
                rebootDelay:
                  type: integer
                advancedOptions:
                  type: object
                  properties:
                    restart:
                      type: boolean
                    blockSize:
                      type: integer
                    blockDelay:
                      type: integer
                    blockTimeout:
                      type: integer
                    notifyBlockSize:
                      type: integer
                    installVerifyURI:
                      type: string
              example:
                uri: 'https://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                name: heater
                version: 1.0.500
                username: username
                password: password
                fileHash: 'MD5:0d04154164145cd6b2167fdd457ed28f'
                fileType: DEPLOYMENT_PACKAGE
                install: true
                reboot: false
                rebootDelay: 0
                advancedOptions:
                  restart: false
                  blockSize: 128
                  blockDelay: 0
                  blockTimeout: 5000
                  notifyBlockSize: 256
                  installVerifyURI: 'https://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.verifier.sh'
            examples:
              basic:
                summary: Basic
                description: A request with basic options
                value:
                  uri: 'https://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                  name: heater
                  version: 1.0.500
                  install: true
                  reboot: false
              complete:
                summary: Complete
                description: A request with all available options used
                value:
                  uri: 'https://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.dp'
                  name: heater
                  version: 1.0.500
                  username: username
                  password: password
                  fileHash: 'MD5:0d04154164145cd6b2167fdd457ed28f'
                  fileType: DEPLOYMENT_PACKAGE
                  install: true
                  reboot: false
                  rebootDelay: 0
                  advancedOptions:
                    restart: false
                    blockSize: 128
                    blockDelay: 0
                    blockTimeout: 5000
                    notifyBlockSize: 256
                    installVerifyURI: 'https://download.eclipse.org/kura/releases/4.1.0/org.eclipse.kura.demo.heater_1.0.500.verifier.sh'
        required: true
      responses:
        '204':
          description: |
            The Package Install request has been successfully received. However, this does NOT mean that the package has been successfully installed, since the Package Install
            is an asynchronous operation and may still be in progress. APIs are available at `device/{deviceId}/operations` and `device/{deviceId}/operations/{operationId}/notifications`
            to track asynchronous operations.
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/packages/_uninstall':
    post:
      tags:
        - Device Management - Package
      summary: Uninstall a Package
      operationId: devicePackageUninstall
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                version:
                  type: string
                reboot:
                  type: boolean
                rebootDelay:
                  type: integer
              required:
                - name
                - version
            example:
              name: org.eclipse.kura.demo.heater
              version: 1.0.500
        required: true
      responses:
        '204':
          description: |
            The Package Install request has been successfully received. However, this does NOT mean that the package has been successfully installed, since the Package Install
            is an asynchronous operation and may still be in progress. APIs are available at `device/{deviceId}/operations` and `device/{deviceId}/operations/{operationId}/notifications`
            to track asynchronous operations.
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/requests':
    post:
      tags:
        - Device Management - Request
      summary: Perform a Request
      operationId: deviceRequestExec
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      requestBody:
        content:
          application/json:
            schema:
              type: object
              description: A Device Request
              properties:
                position:
                  type: object
                  properties:
                    latitude:
                      type: number
                      format: double
                    longitude:
                      type: number
                      format: double
                    altitude:
                      type: number
                      format: double
                    precision:
                      type: number
                      format: double
                    heading:
                      type: number
                      format: double
                    speed:
                      type: number
                      format: double
                    timestamp:
                      type: string
                      format: date-time
                    satellites:
                      type: integer
                      format: int32
                    status:
                      type: integer
                      format: int32
                channel:
                  type: object
                  properties:
                    semanticParts:
                      type: array
                      items:
                        type: string
                    appName:
                      type: string
                    version:
                      type: string
                    method:
                      type: string
                      enum:
                        - READ
                        - CREATE
                        - WRITE
                        - DELETE
                        - OPTIONS
                        - EXECUTE
                    resources:
                      type: array
                      items:
                        type: string
              example:
                channel:
                  type: genericRequestChannel
                  method: EXECUTE
                  appName: CMD
                  version: V1
                  resources:
                    - command
                payload:
                  metrics:
                    - valueType: string
                      value: sleep
                      name: command.command
                    - valueType: string
                      value: '180'
                      name: command.argument
        required: true
      responses:
        '200':
          description: The list of Requests installed on a single Device
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  scopeId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                  deviceId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                  clientId:
                    type: string
                  receivedOn:
                    type: string
                    format: date-time
                  sentOn:
                    type: string
                    format: date-time
                  capturedOn:
                    type: string
                    format: date-time
                  position:
                    type: object
                    properties:
                      latitude:
                        type: number
                        format: double
                      longitude:
                        type: number
                        format: double
                      altitude:
                        type: number
                        format: double
                      precision:
                        type: number
                        format: double
                      heading:
                        type: number
                        format: double
                      speed:
                        type: number
                        format: double
                      timestamp:
                        type: string
                        format: date-time
                      satellites:
                        type: integer
                        format: int32
                      status:
                        type: integer
                        format: int32
                  channel:
                    type: object
                    properties:
                      appName:
                        type: string
                      version:
                        type: string
                      semanticParts:
                        type: array
                        items:
                          type: string
                  payload:
                    type: object
                    properties:
                      exceptionMessage:
                        type: string
                      exceptionStack:
                        type: string
                      metrics:
                        type: array
                        items:
                          type: object
                      body:
                        type: string
                        format: base64
                  responseCode:
                    type: string
                    enum:
                      - ACCEPTED
                      - BAD_REQUEST
                      - NOT_FOUND
                      - INTERNAL_ERROR
                example:
                  capturedOn: '2019-09-13T13:53:09.447Z'
                  channel:
                    appName: CMD
                    version: V1
                  payload:
                    metrics:
                      - valueType: string
                        value: 'false'
                        name: command.timedout
                      - valueType: string
                        value: |
                          sleep: missing operand
                          Try 'sleep --help' for more information.
                        name: command.stderr
                      - valueType: string
                        name: kapua.response.exception.stack
                      - valueType: string
                        name: kapua.response.exception.message
                      - valueType: string
                        value: '1'
                        name: command.exit.code
                      - valueType: string
                        value: ''
                        name: command.stdout
                      - valueType: string
                        value: '200'
                        name: response.code
                  receivedOn: '2019-09-13T13:53:09.466Z'
                  scopeId: AQ
                  sentOn: '2019-09-13T13:53:09.447Z'
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/snapshots':
    get:
      tags:
        - Device Management - Snapshot
      summary: Get all Snapshots
      operationId: deviceSnapshotList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      responses:
        '200':
          description: The list of Snapshots available on a single Device
          content:
            application/json:
              schema:
                type: object
                properties:
                  snapshotId:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        timestamp:
                          type: integer
                example:
                  type: deviceSnapshots
                  snapshotId:
                    - id: '0'
                      timestamp: 0
                    - id: '1568300687500'
                      timestamp: 1568300687500
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/snapshots/{snapshotId}':
    get:
      tags:
        - Device Management - Snapshot
      summary: Get a single Snapshot
      operationId: deviceSnapshotGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: snapshotId
          description: The ID of the Snapshot on which to perform the operation
          in: path
          required: true
          schema:
            type: string
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      responses:
        '200':
          description: The list of the Configurations related to the given Snapshot on a single Device
          content:
            application/json:
              schema:
                type: object
                properties:
                  configuration:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        definition:
                          type: object
                          properties:
                            id:
                              type: string
                            AD:
                              type: array
                              items:
                                type: object
                                properties:
                                  Option:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        label:
                                          type: string
                                        value:
                                          type: string
                                  default:
                                    type: string
                                  type:
                                    type: object
                                  cardinality:
                                    type: integer
                                  min:
                                    type: string
                                  max:
                                    type: string
                                  description:
                                    type: string
                                  id:
                                    type: string
                                  required:
                                    type: boolean
                                  name:
                                    type: string
                                example:
                                  cardinality: 0
                                  description: The default wire graph JSON
                                  id: WireGraph
                                  name: WireGraph
                                  required: true
                                  type: String
                                  Option: []
                            Icon:
                              type: array
                              items:
                                type: object
                                properties:
                                  resource:
                                    type: string
                                  size:
                                    type: integer
                            name:
                              type: string
                            description:
                              type: string
                        properties:
                          type: object
                          properties:
                            property:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  array:
                                    type: boolean
                                  encrypted:
                                    type: boolean
                                  type:
                                    type: string
                                  value:
                                    type: array
                                    items:
                                      type: string
                                example:
                                  name: kura.service.pid
                                  array: false
                                  encrypted: false
                                  type: String
                                  value:
                                    - org.eclipse.kura.wire.graph.WireGraphService
                      example:
                        id: org.eclipse.kura.wire.graph.WireGraphService
                        definition:
                          description: WireGraphService metatype
                          id: org.eclipse.kura.wire.graph.WireGraphService
                          name: WireGraphService
                          AD:
                            - cardinality: 0
                              description: The default wire graph JSON
                              id: WireGraph
                              name: WireGraph
                              required: true
                              type: String
                              Option: []
                          Icon: []
                        properties:
                          property:
                            - name: WireGraph
                              array: false
                              encrypted: false
                              type: String
                              value:
                                - '{"components":[{"pid":"asset1","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-580,"y":-120},"inputPortNames":{},"outputPortNames":{}}},{"pid":"asset2","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-1100,"y":-100},"inputPortNames":{},"outputPortNames":{}}}],"wires":[]}'
                            - name: kura.service.pid
                              array: false
                              encrypted: false
                              type: String
                              value:
                                - org.eclipse.kura.wire.graph.WireGraphService
                            - name: service.pid
                              array: false
                              encrypted: false
                              type: String
                              value:
                                - org.eclipse.kura.wire.graph.WireGraphService
                example:
                  type: deviceConfiguration
                  configuration:
                    - id: org.eclipse.kura.wire.graph.WireGraphService
                      definition:
                        description: WireGraphService metatype
                        id: org.eclipse.kura.wire.graph.WireGraphService
                        name: WireGraphService
                        AD:
                          - cardinality: 0
                            description: The default wire graph JSON
                            id: WireGraph
                            name: WireGraph
                            required: true
                            type: String
                            Option: []
                        Icon: []
                      properties:
                        property:
                          - name: WireGraph
                            array: false
                            encrypted: false
                            type: String
                            value:
                              - '{"components":[{"pid":"asset1","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-580,"y":-120},"inputPortNames":{},"outputPortNames":{}}},{"pid":"asset2","inputPortCount":1,"outputPortCount":1,"renderingProperties":{"position":{"x":-1100,"y":-100},"inputPortNames":{},"outputPortNames":{}}}],"wires":[]}'
                          - name: kura.service.pid
                            array: false
                            encrypted: false
                            type: String
                            value:
                              - org.eclipse.kura.wire.graph.WireGraphService
                          - name: service.pid
                            array: false
                            encrypted: false
                            type: String
                            value:
                              - org.eclipse.kura.wire.graph.WireGraphService
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/snapshots/{snapshotId}/_rollback':
    post:
      tags:
        - Device Management - Snapshot
      summary: Rollback to Snapshot
      operationId: deviceSnapshotRollback
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: snapshotId
          description: The ID of the Snapshot on which to perform the operation
          in: path
          required: true
          schema:
            type: string
        - name: timeout
          in: query
          description: The timeout for the request in milliseconds
          schema:
            type: integer
            default: 10000
      responses:
        '204':
          description: The Snapshot has been applied
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/deviceconnections':
    get:
      tags:
        - Device Connection
      summary: Get all the Connections
      operationId: connectionList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: clientId
          in: query
          description: The client id to filter results
          schema:
            type: string
        - name: status
          in: query
          description: The connection status to filter results
          schema:
            type: string
            enum:
              - CONNECTED
              - DISCONNECTED
              - MISSING
              - 'NULL'
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Connections available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - type: object
                              properties:
                                status:
                                  type: string
                                  enum:
                                    - CONNECTED
                                    - DISCONNECTED
                                    - MISSING
                                    - 'NULL'
                                clientId:
                                  type: string
                                userId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                allowUserChange:
                                  type: boolean
                                userCouplingMode:
                                  type: string
                                  enum:
                                    - INHERITED
                                    - LOOSE
                                    - STRICT
                                reservedUserId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                protocol:
                                  type: string
                                clientIp:
                                  type: string
                                serverIp:
                                  type: string
                                  readOnly: true
                              example:
                                type: deviceConnection
                                id: Gd1BfeWwh3s
                                scopeId: AQ
                                createdOn: '2019-09-12T09:04:32.101Z'
                                createdBy: Ag
                                modifiedOn: '2019-09-13T08:04:49.927Z'
                                modifiedBy: Ag
                                optlock: 17
                                status: CONNECTED
                                clientId: Client-Id-1
                                userId: Ag
                                allowUserChange: false
                                userCouplingMode: INHERITED
                                protocol: MQTT
                                clientIp: 'tcp://172.21.0.1:44400'
                                serverIp: broker
                    example:
                      type: deviceConnectionListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: deviceConnection
                          id: Gd1BfeWwh3s
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:32.101Z'
                          createdBy: Ag
                          modifiedOn: '2019-09-13T08:04:49.927Z'
                          modifiedBy: Ag
                          optlock: 17
                          status: CONNECTED
                          clientId: Client-Id-1
                          userId: Ag
                          allowUserChange: false
                          userCouplingMode: INHERITED
                          protocol: MQTT
                          clientIp: 'tcp://172.21.0.1:44400'
                          serverIp: broker
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/deviceconnections/{connectionId}':
    get:
      tags:
        - Device Connection
      summary: Get a single Connection
      operationId: connectionGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: connectionId
          in: path
          description: The ID of the Connection on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Connection
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    properties:
                      status:
                        type: string
                        enum:
                          - CONNECTED
                          - DISCONNECTED
                          - MISSING
                          - 'NULL'
                      clientId:
                        type: string
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      allowUserChange:
                        type: boolean
                      userCouplingMode:
                        type: string
                        enum:
                          - INHERITED
                          - LOOSE
                          - STRICT
                      reservedUserId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      protocol:
                        type: string
                      clientIp:
                        type: string
                      serverIp:
                        type: string
                        readOnly: true
                    example:
                      type: deviceConnection
                      id: Gd1BfeWwh3s
                      scopeId: AQ
                      createdOn: '2019-09-12T09:04:32.101Z'
                      createdBy: Ag
                      modifiedOn: '2019-09-13T08:04:49.927Z'
                      modifiedBy: Ag
                      optlock: 17
                      status: CONNECTED
                      clientId: Client-Id-1
                      userId: Ag
                      allowUserChange: false
                      userCouplingMode: INHERITED
                      protocol: MQTT
                      clientIp: 'tcp://172.21.0.1:44400'
                      serverIp: broker
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/deviceconnections/{connectionId}/options':
    get:
      tags:
        - Device Connection
      summary: Get the option for a Connection
      operationId: connectionOptionGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: connectionId
          in: path
          description: The ID of the Connection on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The Options of the desired Connection
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    properties:
                      allowUserChange:
                        type: boolean
                      userCouplingMode:
                        type: string
                        enum:
                          - INHERITED
                          - LOOSE
                          - STRICT
                      reservedUserId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    example:
                      type: deviceConnectionOption
                      id: Gd1BfeWwh3s
                      scopeId: AQ
                      createdOn: '2019-09-12T09:04:32.101Z'
                      createdBy: Ag
                      modifiedOn: '2019-09-13T08:04:49.927Z'
                      modifiedBy: Ag
                      optlock: 17
                      allowUserChange: false
                      userCouplingMode: INHERITED
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Device Connection
      summary: Update the option for a Connection
      operationId: connectionOptionUpdate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: connectionId
          in: path
          description: The ID of the Connection on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                      type: object
                      properties:
                        id:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity
                              readOnly: true
                        scopeId:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Scope containing the Entity
                              readOnly: true
                        createdOn:
                          description: The date and time when this entity was created
                          type: string
                          format: date-time
                          readOnly: true
                        createdBy:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity who created this Entity
                              readOnly: true
                    - description: An Entity that also supports edits and versioning
                      type: object
                      properties:
                        modifiedOn:
                          description: The date and time when this entity was modified
                          type: string
                          format: date-time
                          readOnly: true
                        modifiedBy:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity who modified this Entity
                              readOnly: true
                        optlock:
                          description: |
                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                          type: integer
                - type: object
                  properties:
                    allowUserChange:
                      type: boolean
                    userCouplingMode:
                      type: string
                      enum:
                        - INHERITED
                        - LOOSE
                        - STRICT
                    reservedUserId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                  example:
                    type: deviceConnectionOption
                    id: Gd1BfeWwh3s
                    scopeId: AQ
                    createdOn: '2019-09-12T09:04:32.101Z'
                    createdBy: Ag
                    modifiedOn: '2019-09-13T08:04:49.927Z'
                    modifiedBy: Ag
                    optlock: 17
                    allowUserChange: false
                    userCouplingMode: INHERITED
      responses:
        '200':
          description: The updated Options of the desired Connection
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    properties:
                      allowUserChange:
                        type: boolean
                      userCouplingMode:
                        type: string
                        enum:
                          - INHERITED
                          - LOOSE
                          - STRICT
                      reservedUserId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    example:
                      type: deviceConnectionOption
                      id: Gd1BfeWwh3s
                      scopeId: AQ
                      createdOn: '2019-09-12T09:04:32.101Z'
                      createdBy: Ag
                      modifiedOn: '2019-09-13T08:04:49.927Z'
                      modifiedBy: Ag
                      optlock: 17
                      allowUserChange: false
                      userCouplingMode: INHERITED
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/deviceconnections/_count':
    post:
      tags:
        - Device Connection
      summary: Count the Connections
      operationId: connectionCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/deviceconnections/_query':
    post:
      tags:
        - Device Connection
      summary: Query the Connections
      operationId: connectionQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - type: object
                              properties:
                                status:
                                  type: string
                                  enum:
                                    - CONNECTED
                                    - DISCONNECTED
                                    - MISSING
                                    - 'NULL'
                                clientId:
                                  type: string
                                userId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                allowUserChange:
                                  type: boolean
                                userCouplingMode:
                                  type: string
                                  enum:
                                    - INHERITED
                                    - LOOSE
                                    - STRICT
                                reservedUserId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                protocol:
                                  type: string
                                clientIp:
                                  type: string
                                serverIp:
                                  type: string
                                  readOnly: true
                              example:
                                type: deviceConnection
                                id: Gd1BfeWwh3s
                                scopeId: AQ
                                createdOn: '2019-09-12T09:04:32.101Z'
                                createdBy: Ag
                                modifiedOn: '2019-09-13T08:04:49.927Z'
                                modifiedBy: Ag
                                optlock: 17
                                status: CONNECTED
                                clientId: Client-Id-1
                                userId: Ag
                                allowUserChange: false
                                userCouplingMode: INHERITED
                                protocol: MQTT
                                clientIp: 'tcp://172.21.0.1:44400'
                                serverIp: broker
                    example:
                      type: deviceConnectionListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: deviceConnection
                          id: Gd1BfeWwh3s
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:32.101Z'
                          createdBy: Ag
                          modifiedOn: '2019-09-13T08:04:49.927Z'
                          modifiedBy: Ag
                          optlock: 17
                          status: CONNECTED
                          clientId: Client-Id-1
                          userId: Ag
                          allowUserChange: false
                          userCouplingMode: INHERITED
                          protocol: MQTT
                          clientIp: 'tcp://172.21.0.1:44400'
                          serverIp: broker
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/events':
    get:
      tags:
        - Device Event
      summary: Get all the DeviceEvents
      operationId: deviceEventList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: resource
          in: query
          description: The resource of the DeviceEvent in which to search results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Device Events available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - type: object
                              properties:
                                deviceId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                sentOn:
                                  type: string
                                  format: date-time
                                receivedOn:
                                  type: string
                                  format: date-time
                                position:
                                  type: object
                                  properties:
                                    latitude:
                                      type: number
                                      format: double
                                    longitude:
                                      type: number
                                      format: double
                                    altitude:
                                      type: number
                                      format: double
                                    precision:
                                      type: number
                                      format: double
                                    heading:
                                      type: number
                                      format: double
                                    speed:
                                      type: number
                                      format: double
                                    timestamp:
                                      type: string
                                      format: date-time
                                    satellites:
                                      type: integer
                                      format: int32
                                    status:
                                      type: integer
                                      format: int32
                                resource:
                                  type: string
                                action:
                                  type: string
                                responseCode:
                                  type: string
                                  enum:
                                    - ACCEPTED
                                    - BAD_REQUEST
                                    - NOT_FOUND
                                    - INTERNAL_ERROR
                                eventMessage:
                                  type: string
                              example:
                                type: deviceEvent
                                id: JYINy4IMGK4
                                scopeId: AQ
                                createdOn: '2019-09-13T12:00:31.738Z'
                                createdBy: AQ
                                deviceId: IaIA6xbNR7E
                                sentOn: '2019-09-13T12:00:31.687Z'
                                receivedOn: '2019-09-13T12:00:31.718Z'
                                resource: CONFIGURATION
                                action: READ
                                responseCode: ACCEPTED
                                eventMessage: null
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/events/{deviceEventId}':
    get:
      tags:
        - Device Event
      summary: Get a single DeviceEvent
      operationId: deviceEventGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: deviceEventId
          in: path
          description: The ID of the Device Event on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Device Event
          content:
            application/json:
              schema:
                allOf:
                  - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                    type: object
                    properties:
                      id:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity
                            readOnly: true
                      scopeId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Scope containing the Entity
                            readOnly: true
                      createdOn:
                        description: The date and time when this entity was created
                        type: string
                        format: date-time
                        readOnly: true
                      createdBy:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity who created this Entity
                            readOnly: true
                  - type: object
                    properties:
                      deviceId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      sentOn:
                        type: string
                        format: date-time
                      receivedOn:
                        type: string
                        format: date-time
                      position:
                        type: object
                        properties:
                          latitude:
                            type: number
                            format: double
                          longitude:
                            type: number
                            format: double
                          altitude:
                            type: number
                            format: double
                          precision:
                            type: number
                            format: double
                          heading:
                            type: number
                            format: double
                          speed:
                            type: number
                            format: double
                          timestamp:
                            type: string
                            format: date-time
                          satellites:
                            type: integer
                            format: int32
                          status:
                            type: integer
                            format: int32
                      resource:
                        type: string
                      action:
                        type: string
                      responseCode:
                        type: string
                        enum:
                          - ACCEPTED
                          - BAD_REQUEST
                          - NOT_FOUND
                          - INTERNAL_ERROR
                      eventMessage:
                        type: string
                    example:
                      type: deviceEvent
                      id: JYINy4IMGK4
                      scopeId: AQ
                      createdOn: '2019-09-13T12:00:31.738Z'
                      createdBy: AQ
                      deviceId: IaIA6xbNR7E
                      sentOn: '2019-09-13T12:00:31.687Z'
                      receivedOn: '2019-09-13T12:00:31.718Z'
                      resource: CONFIGURATION
                      action: READ
                      responseCode: ACCEPTED
                      eventMessage: null
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Device Event
      summary: Delete a single DeviceEvent
      operationId: deviceEventDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: deviceEventId
          in: path
          description: The ID of the Device Event on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The Device Event has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/events/_count':
    post:
      tags:
        - Device Event
      summary: Count the Device Events
      operationId: deviceEventCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/devices/{deviceId}/events/_query':
    post:
      tags:
        - Device Event
      summary: Query the Device Event
      operationId: deviceEventQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: deviceId
          in: path
          description: The ID of the Device on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - type: object
                              properties:
                                deviceId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                sentOn:
                                  type: string
                                  format: date-time
                                receivedOn:
                                  type: string
                                  format: date-time
                                position:
                                  type: object
                                  properties:
                                    latitude:
                                      type: number
                                      format: double
                                    longitude:
                                      type: number
                                      format: double
                                    altitude:
                                      type: number
                                      format: double
                                    precision:
                                      type: number
                                      format: double
                                    heading:
                                      type: number
                                      format: double
                                    speed:
                                      type: number
                                      format: double
                                    timestamp:
                                      type: string
                                      format: date-time
                                    satellites:
                                      type: integer
                                      format: int32
                                    status:
                                      type: integer
                                      format: int32
                                resource:
                                  type: string
                                action:
                                  type: string
                                responseCode:
                                  type: string
                                  enum:
                                    - ACCEPTED
                                    - BAD_REQUEST
                                    - NOT_FOUND
                                    - INTERNAL_ERROR
                                eventMessage:
                                  type: string
                              example:
                                type: deviceEvent
                                id: JYINy4IMGK4
                                scopeId: AQ
                                createdOn: '2019-09-13T12:00:31.738Z'
                                createdBy: AQ
                                deviceId: IaIA6xbNR7E
                                sentOn: '2019-09-13T12:00:31.687Z'
                                receivedOn: '2019-09-13T12:00:31.718Z'
                                resource: CONFIGURATION
                                action: READ
                                responseCode: ACCEPTED
                                eventMessage: null
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/domains':
    get:
      tags:
        - Domain
      summary: Get all the Domains
      operationId: domainList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: name
          in: query
          description: The domain name to filter results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Domains available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - type: object
                              properties:
                                groupable:
                                  type: boolean
                                actions:
                                  type: array
                                  items:
                                    type: string
                                name:
                                  type: string
                              example:
                                type: domain
                                id: AQ
                                createdOn: 2019-09-10T15:08:47.851Z
                                createdBy: AQ
                                name: account
                                actions:
                                  - delete
                                  - write
                                  - read
                                groupable: false
                    example:
                      type: domainListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: domain
                          id: AQ
                          createdOn: 2019-09-10T15:08:47.851Z
                          createdBy: AQ
                          name: account
                          actions:
                            - delete
                            - write
                            - read
                          groupable: false
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/domains/{domainId}':
    get:
      tags:
        - Domain
      summary: Get a single Domain
      operationId: domainGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: domainId
          in: path
          description: The ID of the Domain on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Domain
          content:
            application/json:
              schema:
                allOf:
                  - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                    type: object
                    properties:
                      id:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity
                            readOnly: true
                      scopeId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Scope containing the Entity
                            readOnly: true
                      createdOn:
                        description: The date and time when this entity was created
                        type: string
                        format: date-time
                        readOnly: true
                      createdBy:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity who created this Entity
                            readOnly: true
                  - type: object
                    properties:
                      groupable:
                        type: boolean
                      actions:
                        type: array
                        items:
                          type: string
                      name:
                        type: string
                    example:
                      type: domain
                      id: AQ
                      createdOn: 2019-09-10T15:08:47.851Z
                      createdBy: AQ
                      name: account
                      actions:
                        - delete
                        - write
                        - read
                      groupable: false
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/domains/_count':
    post:
      tags:
        - Domain
      summary: Count the Domains
      operationId: domainCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/domains/_query':
    post:
      tags:
        - Domain
      summary: Query the Domains
      operationId: domainQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - type: object
                              properties:
                                groupable:
                                  type: boolean
                                actions:
                                  type: array
                                  items:
                                    type: string
                                name:
                                  type: string
                              example:
                                type: domain
                                id: AQ
                                createdOn: 2019-09-10T15:08:47.851Z
                                createdBy: AQ
                                name: account
                                actions:
                                  - delete
                                  - write
                                  - read
                                groupable: false
                    example:
                      type: domainListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: domain
                          id: AQ
                          createdOn: 2019-09-10T15:08:47.851Z
                          createdBy: AQ
                          name: account
                          actions:
                            - delete
                            - write
                            - read
                          groupable: false
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/endpointInfos':
    get:
      tags:
        - Endpoint Info
      summary: Get all the EndpointInfos
      operationId: endpointInfoList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: usage
          in: query
          description: The endpointInfo usage to filter results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the EndpointInfos available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - allOf:
                                - allOf:
                                    - description: An object that contains the informations needed to create an Entity
                                      type: object
                                    - description: An object that contains the informations needed to create an Updatable Entity
                                      type: object
                                - type: object
                                  properties:
                                    schema:
                                      type: string
                                    dns:
                                      type: string
                                    port:
                                      type: integer
                                    secure:
                                      type: boolean
                                    usages:
                                      type: array
                                      items:
                                        type: object
                                        properties:
                                          name:
                                            type: string
                                  example:
                                    schema: mqtt
                                    dns: 10.200.12.148
                                    port: '1883'
                                    secure: false
                                    usages:
                                      - name: MESSAGE_BROKER
                                      - name: PROVISION
                            - type: object
                              example:
                                type: endpointInfo
                                id: PEMf9sotlls
                                scopeId: AQ
                                createdOn: '2019-09-13T14:52:19.850Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-13T14:52:19.850Z'
                                modifiedBy: AQ
                                optlock: 1
                                dns: 10.200.12.144
                                port: 1883
                                schema: mqtt
                                secure: false
                                usages:
                                  - name: MESSAGE_BROKER
                                  - name: PROVISION
                    example:
                      type: endpointInfoListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: endpointInfo
                          id: PEMf9sotlls
                          scopeId: AQ
                          createdOn: '2019-09-13T14:52:19.850Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-13T14:52:19.850Z'
                          modifiedBy: AQ
                          optlock: 1
                          dns: 10.200.12.148
                          port: 1883
                          schema: mqtt
                          secure: false
                          usages:
                            - name: MESSAGE_BROKER
                            - name: PROVISION
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Endpoint Info
      summary: Create a new EndpointInfo
      operationId: endpointInfoCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object containing the properties for the new EndpointInfo to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - description: An object that contains the informations needed to create an Entity
                      type: object
                    - description: An object that contains the informations needed to create an Updatable Entity
                      type: object
                - type: object
                  properties:
                    schema:
                      type: string
                    dns:
                      type: string
                    port:
                      type: integer
                    secure:
                      type: boolean
                    usages:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                  example:
                    schema: mqtt
                    dns: 10.200.12.148
                    port: '1883'
                    secure: false
                    usages:
                      - name: MESSAGE_BROKER
                      - name: PROVISION
        required: true
      responses:
        '201':
          description: The EndpointInfo that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - allOf:
                      - allOf:
                          - description: An object that contains the informations needed to create an Entity
                            type: object
                          - description: An object that contains the informations needed to create an Updatable Entity
                            type: object
                      - type: object
                        properties:
                          schema:
                            type: string
                          dns:
                            type: string
                          port:
                            type: integer
                          secure:
                            type: boolean
                          usages:
                            type: array
                            items:
                              type: object
                              properties:
                                name:
                                  type: string
                        example:
                          schema: mqtt
                          dns: 10.200.12.148
                          port: '1883'
                          secure: false
                          usages:
                            - name: MESSAGE_BROKER
                            - name: PROVISION
                  - type: object
                    example:
                      type: endpointInfo
                      id: PEMf9sotlls
                      scopeId: AQ
                      createdOn: '2019-09-13T14:52:19.850Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-13T14:52:19.850Z'
                      modifiedBy: AQ
                      optlock: 1
                      dns: 10.200.12.144
                      port: 1883
                      schema: mqtt
                      secure: false
                      usages:
                        - name: MESSAGE_BROKER
                        - name: PROVISION
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/endpointInfos/{endpointInfoId}':
    get:
      tags:
        - Endpoint Info
      summary: Get a single EndpointInfo
      operationId: endpointInfoGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: endpointInfoId
          in: path
          description: The ID of the EndpointInfo on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired EndpointInfo
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - allOf:
                      - allOf:
                          - description: An object that contains the informations needed to create an Entity
                            type: object
                          - description: An object that contains the informations needed to create an Updatable Entity
                            type: object
                      - type: object
                        properties:
                          schema:
                            type: string
                          dns:
                            type: string
                          port:
                            type: integer
                          secure:
                            type: boolean
                          usages:
                            type: array
                            items:
                              type: object
                              properties:
                                name:
                                  type: string
                        example:
                          schema: mqtt
                          dns: 10.200.12.148
                          port: '1883'
                          secure: false
                          usages:
                            - name: MESSAGE_BROKER
                            - name: PROVISION
                  - type: object
                    example:
                      type: endpointInfo
                      id: PEMf9sotlls
                      scopeId: AQ
                      createdOn: '2019-09-13T14:52:19.850Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-13T14:52:19.850Z'
                      modifiedBy: AQ
                      optlock: 1
                      dns: 10.200.12.144
                      port: 1883
                      schema: mqtt
                      secure: false
                      usages:
                        - name: MESSAGE_BROKER
                        - name: PROVISION
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Endpoint Info
      summary: Update a single EndpointInfo
      operationId: endpointInfoUpdate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: endpointInfoId
          in: path
          description: The ID of the EndpointInfo on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object containing the new properties for the EndpointInfo to update
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                      type: object
                      properties:
                        id:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity
                              readOnly: true
                        scopeId:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Scope containing the Entity
                              readOnly: true
                        createdOn:
                          description: The date and time when this entity was created
                          type: string
                          format: date-time
                          readOnly: true
                        createdBy:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity who created this Entity
                              readOnly: true
                    - description: An Entity that also supports edits and versioning
                      type: object
                      properties:
                        modifiedOn:
                          description: The date and time when this entity was modified
                          type: string
                          format: date-time
                          readOnly: true
                        modifiedBy:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Entity who modified this Entity
                              readOnly: true
                        optlock:
                          description: |
                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                          type: integer
                - allOf:
                    - allOf:
                        - description: An object that contains the informations needed to create an Entity
                          type: object
                        - description: An object that contains the informations needed to create an Updatable Entity
                          type: object
                    - type: object
                      properties:
                        schema:
                          type: string
                        dns:
                          type: string
                        port:
                          type: integer
                        secure:
                          type: boolean
                        usages:
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                      example:
                        schema: mqtt
                        dns: 10.200.12.148
                        port: '1883'
                        secure: false
                        usages:
                          - name: MESSAGE_BROKER
                          - name: PROVISION
                - type: object
                  example:
                    type: endpointInfo
                    id: PEMf9sotlls
                    scopeId: AQ
                    createdOn: '2019-09-13T14:52:19.850Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-13T14:52:19.850Z'
                    modifiedBy: AQ
                    optlock: 1
                    dns: 10.200.12.144
                    port: 1883
                    schema: mqtt
                    secure: false
                    usages:
                      - name: MESSAGE_BROKER
                      - name: PROVISION
            example:
              type: endpointInfo
              optlock: 1
              dns: 10.200.12.144
              port: 1883
              schema: mqtt
              secure: false
              usages:
                - name: MESSAGE_BROKER
                - name: PROVISION
        required: true
      responses:
        '200':
          description: The details of the updated EndpointInfo
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - allOf:
                      - allOf:
                          - description: An object that contains the informations needed to create an Entity
                            type: object
                          - description: An object that contains the informations needed to create an Updatable Entity
                            type: object
                      - type: object
                        properties:
                          schema:
                            type: string
                          dns:
                            type: string
                          port:
                            type: integer
                          secure:
                            type: boolean
                          usages:
                            type: array
                            items:
                              type: object
                              properties:
                                name:
                                  type: string
                        example:
                          schema: mqtt
                          dns: 10.200.12.148
                          port: '1883'
                          secure: false
                          usages:
                            - name: MESSAGE_BROKER
                            - name: PROVISION
                  - type: object
                    example:
                      type: endpointInfo
                      id: PEMf9sotlls
                      scopeId: AQ
                      createdOn: '2019-09-13T14:52:19.850Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-13T14:52:19.850Z'
                      modifiedBy: AQ
                      optlock: 1
                      dns: 10.200.12.144
                      port: 1883
                      schema: mqtt
                      secure: false
                      usages:
                        - name: MESSAGE_BROKER
                        - name: PROVISION
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Endpoint Info
      summary: Delete a single EndpointInfo
      operationId: endpointInfoDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: endpointInfoId
          in: path
          description: The ID of the EndpointInfo on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The EndpointInfo has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/endpointInfos/_count':
    post:
      tags:
        - Endpoint Info
      summary: Count the EndpointInfos
      operationId: endpointInfoCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/endpointInfos/_query':
    post:
      tags:
        - Endpoint Info
      summary: Query the EndpointInfos
      operationId: endpointInfoQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - allOf:
                                - allOf:
                                    - description: An object that contains the informations needed to create an Entity
                                      type: object
                                    - description: An object that contains the informations needed to create an Updatable Entity
                                      type: object
                                - type: object
                                  properties:
                                    schema:
                                      type: string
                                    dns:
                                      type: string
                                    port:
                                      type: integer
                                    secure:
                                      type: boolean
                                    usages:
                                      type: array
                                      items:
                                        type: object
                                        properties:
                                          name:
                                            type: string
                                  example:
                                    schema: mqtt
                                    dns: 10.200.12.148
                                    port: '1883'
                                    secure: false
                                    usages:
                                      - name: MESSAGE_BROKER
                                      - name: PROVISION
                            - type: object
                              example:
                                type: endpointInfo
                                id: PEMf9sotlls
                                scopeId: AQ
                                createdOn: '2019-09-13T14:52:19.850Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-13T14:52:19.850Z'
                                modifiedBy: AQ
                                optlock: 1
                                dns: 10.200.12.144
                                port: 1883
                                schema: mqtt
                                secure: false
                                usages:
                                  - name: MESSAGE_BROKER
                                  - name: PROVISION
                    example:
                      type: endpointInfoListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: endpointInfo
                          id: PEMf9sotlls
                          scopeId: AQ
                          createdOn: '2019-09-13T14:52:19.850Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-13T14:52:19.850Z'
                          modifiedBy: AQ
                          optlock: 1
                          dns: 10.200.12.148
                          port: 1883
                          schema: mqtt
                          secure: false
                          usages:
                            - name: MESSAGE_BROKER
                            - name: PROVISION
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/groups':
    get:
      tags:
        - Group
      summary: Get all the Groups
      operationId: groupList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: name
          in: query
          description: The group name to filter results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Groups available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: group
                                id: Skm7PvmgOh0
                                scopeId: AQ
                                createdOn: '2019-09-13T15:16:09.174Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-13T15:16:09.174Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: group-1
                                description: An Access Group
                    example:
                      type: groupListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: group
                          id: Skm7PvmgOh0
                          scopeId: AQ
                          createdOn: '2019-09-13T15:16:09.174Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-13T15:16:09.174Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: group-1
                          description: An Access Group
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Group
      summary: Create a new Group
      operationId: groupCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object containing the properties for the new Group to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: An object that contains the informations needed to create an Entity
                          type: object
                        - description: An object that contains the informations needed to create an Updatable Entity
                          type: object
                    - description: An object that contains the informations needed to create a Named Entity
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                      required:
                        - name
                - type: object
                  example:
                    name: group-1
                    description: An Access Group
        required: true
      responses:
        '201':
          description: The Group that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: group
                      id: Skm7PvmgOh0
                      scopeId: AQ
                      createdOn: '2019-09-13T15:16:09.174Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-13T15:16:09.174Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: group-1
                      description: An Access Group
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/groups/{groupId}':
    get:
      tags:
        - Group
      summary: Get a single Group
      operationId: groupGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: groupId
          in: path
          description: The ID of the Group on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Group
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: group
                      id: Skm7PvmgOh0
                      scopeId: AQ
                      createdOn: '2019-09-13T15:16:09.174Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-13T15:16:09.174Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: group-1
                      description: An Access Group
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Group
      summary: Update a single Group
      operationId: groupUpdate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: groupId
          in: path
          description: The ID of the Group on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object containing the new properties for the Group to update
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                          type: object
                          properties:
                            id:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity
                                  readOnly: true
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Scope containing the Entity
                                  readOnly: true
                            createdOn:
                              description: The date and time when this entity was created
                              type: string
                              format: date-time
                              readOnly: true
                            createdBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who created this Entity
                                  readOnly: true
                        - description: An Entity that also supports edits and versioning
                          type: object
                          properties:
                            modifiedOn:
                              description: The date and time when this entity was modified
                              type: string
                              format: date-time
                              readOnly: true
                            modifiedBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who modified this Entity
                                  readOnly: true
                            optlock:
                              description: |
                                The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                              type: integer
                    - description: An UpdatableEntity that also has a name and a description
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                - type: object
                  example:
                    type: group
                    id: Skm7PvmgOh0
                    scopeId: AQ
                    createdOn: '2019-09-13T15:16:09.174Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-13T15:16:09.174Z'
                    modifiedBy: AQ
                    optlock: 1
                    name: group-1
                    description: An Access Group
            example:
              type: group
              optlock: 1
              name: group-1
              description: An Access Group
        required: true
      responses:
        '200':
          description: The details of the updated Group
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: group
                      id: Skm7PvmgOh0
                      scopeId: AQ
                      createdOn: '2019-09-13T15:16:09.174Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-13T15:16:09.174Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: group-1
                      description: An Access Group
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Group
      summary: Delete a single Group
      operationId: groupDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: groupId
          in: path
          description: The ID of the Group on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The Group has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/groups/_count':
    post:
      tags:
        - Group
      summary: Count the Groups
      operationId: groupCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/groups/_query':
    post:
      tags:
        - Group
      summary: Query the Groups
      operationId: groupQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: group
                                id: Skm7PvmgOh0
                                scopeId: AQ
                                createdOn: '2019-09-13T15:16:09.174Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-13T15:16:09.174Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: group-1
                                description: An Access Group
                    example:
                      type: groupListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: group
                          id: Skm7PvmgOh0
                          scopeId: AQ
                          createdOn: '2019-09-13T15:16:09.174Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-13T15:16:09.174Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: group-1
                          description: An Access Group
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs':
    get:
      tags:
        - Job
      summary: Get all the Jobs
      operationId: jobList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: name
          in: query
          description: The job name to filter results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Jobs available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: job
                                id: auSoU2ph1bY
                                scopeId: AQ
                                createdOn: '2019-12-06T10:59:47.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T10:59:47.000Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: new_job
                    example:
                      type: jobListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: job
                          id: auSoU2ph1bY
                          scopeId: AQ
                          createdOn: '2019-12-06T10:59:47.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T10:59:47.000Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: new_job
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}':
    get:
      tags:
        - Job
      summary: Get a single Job
      operationId: jobGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Job
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: job
                      id: auSoU2ph1bY
                      scopeId: AQ
                      createdOn: '2019-12-06T10:59:47.000Z'
                      createdBy: AQ
                      modifiedOn: '2019-12-06T10:59:47.000Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: new_job
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/_count':
    post:
      tags:
        - Job
      summary: Count the Jobs
      operationId: jobCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/_query':
    post:
      tags:
        - Job
      summary: Query the Jobs
      operationId: jobQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: job
                                id: auSoU2ph1bY
                                scopeId: AQ
                                createdOn: '2019-12-06T10:59:47.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T10:59:47.000Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: new_job
                    example:
                      type: jobListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: job
                          id: auSoU2ph1bY
                          scopeId: AQ
                          createdOn: '2019-12-06T10:59:47.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T10:59:47.000Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: new_job
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/executions':
    get:
      tags:
        - Job - Execution
      summary: Get all the Jobs Executions
      operationId: jobExecutionList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Jobs available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - type: object
                              example:
                                type: jobExecution
                                id: GTh9xBWezHY
                                scopeId: AQ
                                createdOn: '2019-12-06T11:00:58.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T11:01:00.000Z'
                                modifiedBy: AQ
                                optlock: 2
                                endedOn: '2019-12-06T12:01:00+01:00'
                                jobId: {}
                                log: "[INFO] 12/6/19 11:00 AM - Running before job...\n[INFO] 12/6/19 11:00 AM - Run configuration:\n[INFO] 12/6/19 11:00 AM - \tTarget count:           all\n[INFO] 12/6/19 11:00 AM - \tReset step index:       false\n[INFO] 12/6/19 11:00 AM - \tFrom step index:        0\n[INFO] 12/6/19 11:00 AM - \tResuming job execution: none\n[INFO] 12/6/19 11:00 AM - \tEnqueue:                false\n[INFO] 12/6/19 11:00 AM - Creating job execution...\n[INFO] 12/6/19 11:00 AM - Creating job execution... DONE!\n[INFO] 12/6/19 11:00 AM - Running before job... DONE!\n[INFO] 12/6/19 11:00 AM - Opening cursor...\n[INFO] 12/6/19 11:00 AM - Opening cursor... DONE!\n[INFO] 12/6/19 11:00 AM - Reading item...\n[INFO] 12/6/19 11:00 AM - Reading item... DONE!\n[INFO] 12/6/19 11:00 AM - Processing item: 7200086575903566335\n[INFO] 12/6/19 11:01 AM - Processing item: 7200086575903566335 - DONE!\n[INFO] 12/6/19 11:01 AM - Reading item...\n[INFO] 12/6/19 11:01 AM - Reading item... DONE!\n[INFO] 12/6/19 11:01 AM - Writing items...\n[INFO] 12/6/19 11:01 AM - Writing items... DONE!\n[INFO] 12/6/19 11:01 AM - Running after job...\n"
                                startedOn: '2019-12-06T12:00:58+01:00'
                                targetIds:
                                  - Y-vYl9TKaf8
                    example:
                      type: jobExecutionListResult
                      limitExceeded: true
                      size: 50
                      items:
                        - type: jobExecution
                          id: GTh9xBWezHY
                          scopeId: AQ
                          createdOn: '2019-12-06T11:00:58.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:01:00.000Z'
                          modifiedBy: AQ
                          optlock: 2
                          endedOn: '2019-12-06T12:01:00+01:00'
                          jobId: {}
                          log: "[INFO] 12/6/19 11:00 AM - Running before job...\n[INFO] 12/6/19 11:00 AM - Run configuration:\n[INFO] 12/6/19 11:00 AM - \tTarget count:           all\n[INFO] 12/6/19 11:00 AM - \tReset step index:       false\n[INFO] 12/6/19 11:00 AM - \tFrom step index:        0\n[INFO] 12/6/19 11:00 AM - \tResuming job execution: none\n[INFO] 12/6/19 11:00 AM - \tEnqueue:                false\n[INFO] 12/6/19 11:00 AM - Creating job execution...\n[INFO] 12/6/19 11:00 AM - Creating job execution... DONE!\n[INFO] 12/6/19 11:00 AM - Running before job... DONE!\n[INFO] 12/6/19 11:00 AM - Opening cursor...\n[INFO] 12/6/19 11:00 AM - Opening cursor... DONE!\n[INFO] 12/6/19 11:00 AM - Reading item...\n[INFO] 12/6/19 11:00 AM - Reading item... DONE!\n[INFO] 12/6/19 11:00 AM - Processing item: 7200086575903566335\n[INFO] 12/6/19 11:01 AM - Processing item: 7200086575903566335 - DONE!\n[INFO] 12/6/19 11:01 AM - Reading item...\n[INFO] 12/6/19 11:01 AM - Reading item... DONE!\n[INFO] 12/6/19 11:01 AM - Writing items...\n[INFO] 12/6/19 11:01 AM - Writing items... DONE!\n[INFO] 12/6/19 11:01 AM - Running after job...\n"
                          startedOn: '2019-12-06T12:00:58+01:00'
                          targetIds:
                            - Y-vYl9TKaf8
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/executions/{executionId}':
    get:
      tags:
        - Job - Execution
      summary: Get a single Job Execution
      operationId: jobExecutionGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: executionId
          in: path
          description: The ID of the Job Execution on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Job Execution
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    example:
                      type: jobExecution
                      id: GTh9xBWezHY
                      scopeId: AQ
                      createdOn: '2019-12-06T11:00:58.000Z'
                      createdBy: AQ
                      modifiedOn: '2019-12-06T11:01:00.000Z'
                      modifiedBy: AQ
                      optlock: 2
                      endedOn: '2019-12-06T12:01:00+01:00'
                      jobId: {}
                      log: "[INFO] 12/6/19 11:00 AM - Running before job...\n[INFO] 12/6/19 11:00 AM - Run configuration:\n[INFO] 12/6/19 11:00 AM - \tTarget count:           all\n[INFO] 12/6/19 11:00 AM - \tReset step index:       false\n[INFO] 12/6/19 11:00 AM - \tFrom step index:        0\n[INFO] 12/6/19 11:00 AM - \tResuming job execution: none\n[INFO] 12/6/19 11:00 AM - \tEnqueue:                false\n[INFO] 12/6/19 11:00 AM - Creating job execution...\n[INFO] 12/6/19 11:00 AM - Creating job execution... DONE!\n[INFO] 12/6/19 11:00 AM - Running before job... DONE!\n[INFO] 12/6/19 11:00 AM - Opening cursor...\n[INFO] 12/6/19 11:00 AM - Opening cursor... DONE!\n[INFO] 12/6/19 11:00 AM - Reading item...\n[INFO] 12/6/19 11:00 AM - Reading item... DONE!\n[INFO] 12/6/19 11:00 AM - Processing item: 7200086575903566335\n[INFO] 12/6/19 11:01 AM - Processing item: 7200086575903566335 - DONE!\n[INFO] 12/6/19 11:01 AM - Reading item...\n[INFO] 12/6/19 11:01 AM - Reading item... DONE!\n[INFO] 12/6/19 11:01 AM - Writing items...\n[INFO] 12/6/19 11:01 AM - Writing items... DONE!\n[INFO] 12/6/19 11:01 AM - Running after job...\n"
                      startedOn: '2019-12-06T12:00:58+01:00'
                      targetIds:
                        - Y-vYl9TKaf8
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/executions/{executionId}/targets':
    get:
      tags:
        - Job - Execution
      summary: Get all the targets involved in a single Job Execution
      operationId: jobExecutionListTarget
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: executionId
          in: path
          description: The ID of the Job Execution on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The list of the targets involved in a single Job Execution
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - type: object
                              example:
                                type: jobTarget
                                id: Y-vYl9TKaf8
                                scopeId: AQ
                                createdOn: '2019-12-06T11:00:02.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T11:01:00.000Z'
                                modifiedBy: AQ
                                optlock: 2
                                jobId: auSoU2ph1bY
                                jobTargetId: VBk_ZDZSOV0
                                status: PROCESS_OK
                                stepIndex: 0
                    example:
                      type: jobTargetListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: jobTarget
                          id: Y-vYl9TKaf8
                          scopeId: AQ
                          createdOn: '2019-12-06T11:00:02.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:01:00.000Z'
                          modifiedBy: AQ
                          optlock: 2
                          jobId: auSoU2ph1bY
                          jobTargetId: VBk_ZDZSOV0
                          status: PROCESS_OK
                          stepIndex: 0
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/executions/_count':
    post:
      tags:
        - Job - Execution
      summary: Count the Jobs Executions
      operationId: jobExecutionCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/executions/_query':
    post:
      tags:
        - Job - Execution
      summary: Query the Jobs Executions
      operationId: jobExecutionQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - type: object
                              example:
                                type: jobExecution
                                id: GTh9xBWezHY
                                scopeId: AQ
                                createdOn: '2019-12-06T11:00:58.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T11:01:00.000Z'
                                modifiedBy: AQ
                                optlock: 2
                                endedOn: '2019-12-06T12:01:00+01:00'
                                jobId: {}
                                log: "[INFO] 12/6/19 11:00 AM - Running before job...\n[INFO] 12/6/19 11:00 AM - Run configuration:\n[INFO] 12/6/19 11:00 AM - \tTarget count:           all\n[INFO] 12/6/19 11:00 AM - \tReset step index:       false\n[INFO] 12/6/19 11:00 AM - \tFrom step index:        0\n[INFO] 12/6/19 11:00 AM - \tResuming job execution: none\n[INFO] 12/6/19 11:00 AM - \tEnqueue:                false\n[INFO] 12/6/19 11:00 AM - Creating job execution...\n[INFO] 12/6/19 11:00 AM - Creating job execution... DONE!\n[INFO] 12/6/19 11:00 AM - Running before job... DONE!\n[INFO] 12/6/19 11:00 AM - Opening cursor...\n[INFO] 12/6/19 11:00 AM - Opening cursor... DONE!\n[INFO] 12/6/19 11:00 AM - Reading item...\n[INFO] 12/6/19 11:00 AM - Reading item... DONE!\n[INFO] 12/6/19 11:00 AM - Processing item: 7200086575903566335\n[INFO] 12/6/19 11:01 AM - Processing item: 7200086575903566335 - DONE!\n[INFO] 12/6/19 11:01 AM - Reading item...\n[INFO] 12/6/19 11:01 AM - Reading item... DONE!\n[INFO] 12/6/19 11:01 AM - Writing items...\n[INFO] 12/6/19 11:01 AM - Writing items... DONE!\n[INFO] 12/6/19 11:01 AM - Running after job...\n"
                                startedOn: '2019-12-06T12:00:58+01:00'
                                targetIds:
                                  - Y-vYl9TKaf8
                    example:
                      type: jobExecutionListResult
                      limitExceeded: true
                      size: 50
                      items:
                        - type: jobExecution
                          id: GTh9xBWezHY
                          scopeId: AQ
                          createdOn: '2019-12-06T11:00:58.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:01:00.000Z'
                          modifiedBy: AQ
                          optlock: 2
                          endedOn: '2019-12-06T12:01:00+01:00'
                          jobId: {}
                          log: "[INFO] 12/6/19 11:00 AM - Running before job...\n[INFO] 12/6/19 11:00 AM - Run configuration:\n[INFO] 12/6/19 11:00 AM - \tTarget count:           all\n[INFO] 12/6/19 11:00 AM - \tReset step index:       false\n[INFO] 12/6/19 11:00 AM - \tFrom step index:        0\n[INFO] 12/6/19 11:00 AM - \tResuming job execution: none\n[INFO] 12/6/19 11:00 AM - \tEnqueue:                false\n[INFO] 12/6/19 11:00 AM - Creating job execution...\n[INFO] 12/6/19 11:00 AM - Creating job execution... DONE!\n[INFO] 12/6/19 11:00 AM - Running before job... DONE!\n[INFO] 12/6/19 11:00 AM - Opening cursor...\n[INFO] 12/6/19 11:00 AM - Opening cursor... DONE!\n[INFO] 12/6/19 11:00 AM - Reading item...\n[INFO] 12/6/19 11:00 AM - Reading item... DONE!\n[INFO] 12/6/19 11:00 AM - Processing item: 7200086575903566335\n[INFO] 12/6/19 11:01 AM - Processing item: 7200086575903566335 - DONE!\n[INFO] 12/6/19 11:01 AM - Reading item...\n[INFO] 12/6/19 11:01 AM - Reading item... DONE!\n[INFO] 12/6/19 11:01 AM - Writing items...\n[INFO] 12/6/19 11:01 AM - Writing items... DONE!\n[INFO] 12/6/19 11:01 AM - Running after job...\n"
                          startedOn: '2019-12-06T12:00:58+01:00'
                          targetIds:
                            - Y-vYl9TKaf8
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/targets':
    get:
      tags:
        - Job - Target
      summary: Get all the Jobs Targets
      operationId: jobTargetList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Jobs available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - type: object
                              example:
                                type: jobTarget
                                id: Y-vYl9TKaf8
                                scopeId: AQ
                                createdOn: '2019-12-06T11:00:02.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T11:01:00.000Z'
                                modifiedBy: AQ
                                optlock: 2
                                jobId: auSoU2ph1bY
                                jobTargetId: VBk_ZDZSOV0
                                status: PROCESS_OK
                                stepIndex: 0
                    example:
                      type: jobTargetListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: jobTarget
                          id: Y-vYl9TKaf8
                          scopeId: AQ
                          createdOn: '2019-12-06T11:00:02.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:01:00.000Z'
                          modifiedBy: AQ
                          optlock: 2
                          jobId: auSoU2ph1bY
                          jobTargetId: VBk_ZDZSOV0
                          status: PROCESS_OK
                          stepIndex: 0
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/targets/{targetId}':
    get:
      tags:
        - Job - Target
      summary: Get a single Job Target
      operationId: jobTargetGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: targetId
          in: path
          description: The ID of the Job Target on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Job Target
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    example:
                      type: jobTarget
                      id: Y-vYl9TKaf8
                      scopeId: AQ
                      createdOn: '2019-12-06T11:00:02.000Z'
                      createdBy: AQ
                      modifiedOn: '2019-12-06T11:01:00.000Z'
                      modifiedBy: AQ
                      optlock: 2
                      jobId: auSoU2ph1bY
                      jobTargetId: VBk_ZDZSOV0
                      status: PROCESS_OK
                      stepIndex: 0
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/targets/{targetId}/executions':
    get:
      tags:
        - Job - Target
      summary: Get all the Executions in which a single Job Target was involved
      operationId: jobTargetListExecution
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: targetId
          in: path
          description: The ID of the Job Target on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: A list of all the Executions in which a single Job Target was involved
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - type: object
                              example:
                                type: jobExecution
                                id: GTh9xBWezHY
                                scopeId: AQ
                                createdOn: '2019-12-06T11:00:58.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T11:01:00.000Z'
                                modifiedBy: AQ
                                optlock: 2
                                endedOn: '2019-12-06T12:01:00+01:00'
                                jobId: {}
                                log: "[INFO] 12/6/19 11:00 AM - Running before job...\n[INFO] 12/6/19 11:00 AM - Run configuration:\n[INFO] 12/6/19 11:00 AM - \tTarget count:           all\n[INFO] 12/6/19 11:00 AM - \tReset step index:       false\n[INFO] 12/6/19 11:00 AM - \tFrom step index:        0\n[INFO] 12/6/19 11:00 AM - \tResuming job execution: none\n[INFO] 12/6/19 11:00 AM - \tEnqueue:                false\n[INFO] 12/6/19 11:00 AM - Creating job execution...\n[INFO] 12/6/19 11:00 AM - Creating job execution... DONE!\n[INFO] 12/6/19 11:00 AM - Running before job... DONE!\n[INFO] 12/6/19 11:00 AM - Opening cursor...\n[INFO] 12/6/19 11:00 AM - Opening cursor... DONE!\n[INFO] 12/6/19 11:00 AM - Reading item...\n[INFO] 12/6/19 11:00 AM - Reading item... DONE!\n[INFO] 12/6/19 11:00 AM - Processing item: 7200086575903566335\n[INFO] 12/6/19 11:01 AM - Processing item: 7200086575903566335 - DONE!\n[INFO] 12/6/19 11:01 AM - Reading item...\n[INFO] 12/6/19 11:01 AM - Reading item... DONE!\n[INFO] 12/6/19 11:01 AM - Writing items...\n[INFO] 12/6/19 11:01 AM - Writing items... DONE!\n[INFO] 12/6/19 11:01 AM - Running after job...\n"
                                startedOn: '2019-12-06T12:00:58+01:00'
                                targetIds:
                                  - Y-vYl9TKaf8
                    example:
                      type: jobExecutionListResult
                      limitExceeded: true
                      size: 50
                      items:
                        - type: jobExecution
                          id: GTh9xBWezHY
                          scopeId: AQ
                          createdOn: '2019-12-06T11:00:58.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:01:00.000Z'
                          modifiedBy: AQ
                          optlock: 2
                          endedOn: '2019-12-06T12:01:00+01:00'
                          jobId: {}
                          log: "[INFO] 12/6/19 11:00 AM - Running before job...\n[INFO] 12/6/19 11:00 AM - Run configuration:\n[INFO] 12/6/19 11:00 AM - \tTarget count:           all\n[INFO] 12/6/19 11:00 AM - \tReset step index:       false\n[INFO] 12/6/19 11:00 AM - \tFrom step index:        0\n[INFO] 12/6/19 11:00 AM - \tResuming job execution: none\n[INFO] 12/6/19 11:00 AM - \tEnqueue:                false\n[INFO] 12/6/19 11:00 AM - Creating job execution...\n[INFO] 12/6/19 11:00 AM - Creating job execution... DONE!\n[INFO] 12/6/19 11:00 AM - Running before job... DONE!\n[INFO] 12/6/19 11:00 AM - Opening cursor...\n[INFO] 12/6/19 11:00 AM - Opening cursor... DONE!\n[INFO] 12/6/19 11:00 AM - Reading item...\n[INFO] 12/6/19 11:00 AM - Reading item... DONE!\n[INFO] 12/6/19 11:00 AM - Processing item: 7200086575903566335\n[INFO] 12/6/19 11:01 AM - Processing item: 7200086575903566335 - DONE!\n[INFO] 12/6/19 11:01 AM - Reading item...\n[INFO] 12/6/19 11:01 AM - Reading item... DONE!\n[INFO] 12/6/19 11:01 AM - Writing items...\n[INFO] 12/6/19 11:01 AM - Writing items... DONE!\n[INFO] 12/6/19 11:01 AM - Running after job...\n"
                          startedOn: '2019-12-06T12:00:58+01:00'
                          targetIds:
                            - Y-vYl9TKaf8
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/targets/_count':
    post:
      tags:
        - Job - Target
      summary: Count the Jobs Targets
      operationId: jobTargetCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/targets/_query':
    post:
      tags:
        - Job - Target
      summary: Query the Jobs Targets
      operationId: jobTargetQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - description: An Entity that also supports edits and versioning
                                  type: object
                                  properties:
                                    modifiedOn:
                                      description: The date and time when this entity was modified
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    modifiedBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who modified this Entity
                                          readOnly: true
                                    optlock:
                                      description: |
                                        The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                        See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                      type: integer
                            - type: object
                              example:
                                type: jobTarget
                                id: Y-vYl9TKaf8
                                scopeId: AQ
                                createdOn: '2019-12-06T11:00:02.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T11:01:00.000Z'
                                modifiedBy: AQ
                                optlock: 2
                                jobId: auSoU2ph1bY
                                jobTargetId: VBk_ZDZSOV0
                                status: PROCESS_OK
                                stepIndex: 0
                    example:
                      type: jobTargetListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: jobTarget
                          id: Y-vYl9TKaf8
                          scopeId: AQ
                          createdOn: '2019-12-06T11:00:02.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:01:00.000Z'
                          modifiedBy: AQ
                          optlock: 2
                          jobId: auSoU2ph1bY
                          jobTargetId: VBk_ZDZSOV0
                          status: PROCESS_OK
                          stepIndex: 0
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/triggers':
    get:
      tags:
        - Job - Trigger
      summary: Get all the Jobs Triggers
      operationId: jobTriggerList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Jobs available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: trigger
                                id: OlIPEFS4MYU
                                scopeId: AQ
                                createdOn: '2019-12-06T11:01:16.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T11:01:16.000Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: cron
                                endsOn: '2019-12-07T01:30:00+01:00'
                                startsOn: '2019-12-06T12:00:00+01:00'
                                triggerDefinitionId: AQ
                                triggerProperties:
                                  - name: cronExpression
                                    propertyType: java.lang.String
                                    propertyValue: '* 0/5 * * * ?'
                                  - name: jobId
                                    propertyType: org.eclipse.kapua.model.id.KapuaId
                                    propertyValue: auSoU2ph1bY
                                  - name: scopeId
                                    propertyType: org.eclipse.kapua.model.id.KapuaId
                                    propertyValue: AQ
                    example:
                      type: triggerListResult
                      limitExceeded: false
                      size: 3
                      items:
                        - type: trigger
                          id: Q5psa2kJzks
                          scopeId: AQ
                          createdOn: '2019-12-06T11:00:49.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:00:49.000Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: interval
                          startsOn: '2019-12-06T12:00:00+01:00'
                          triggerDefinitionId: Ag
                          triggerProperties:
                            - name: interval
                              propertyType: java.lang.Integer
                              propertyValue: '3600'
                            - name: jobId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: auSoU2ph1bY
                            - name: scopeId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: AQ
                        - type: trigger
                          id: OlIPEFS4MYU
                          scopeId: AQ
                          createdOn: '2019-12-06T11:01:16.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:01:16.000Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: cron
                          endsOn: '2019-12-07T01:30:00+01:00'
                          startsOn: '2019-12-06T12:00:00+01:00'
                          triggerDefinitionId: AQ
                          triggerProperties:
                            - name: cronExpression
                              propertyType: java.lang.String
                              propertyValue: '* 0/5 * * * ?'
                            - name: jobId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: auSoU2ph1bY
                            - name: scopeId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: AQ
                        - type: trigger
                          id: GOQMkJEQCPg
                          scopeId: AQ
                          createdOn: '2019-12-06T11:01:24.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:01:24.000Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: device_conn
                          startsOn: '2019-12-06T12:00:00+01:00'
                          triggerDefinitionId: Aw
                          triggerProperties:
                            - name: jobId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: auSoU2ph1bY
                            - name: scopeId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: AQ
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/triggers/{triggerId}':
    get:
      tags:
        - Job - Trigger
      summary: Get a single Job Trigger
      operationId: jobTriggerGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: triggerId
          in: path
          description: The ID of the Job Trigger on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Job Trigger
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: trigger
                      id: OlIPEFS4MYU
                      scopeId: AQ
                      createdOn: '2019-12-06T11:01:16.000Z'
                      createdBy: AQ
                      modifiedOn: '2019-12-06T11:01:16.000Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: cron
                      endsOn: '2019-12-07T01:30:00+01:00'
                      startsOn: '2019-12-06T12:00:00+01:00'
                      triggerDefinitionId: AQ
                      triggerProperties:
                        - name: cronExpression
                          propertyType: java.lang.String
                          propertyValue: '* 0/5 * * * ?'
                        - name: jobId
                          propertyType: org.eclipse.kapua.model.id.KapuaId
                          propertyValue: auSoU2ph1bY
                        - name: scopeId
                          propertyType: org.eclipse.kapua.model.id.KapuaId
                          propertyValue: AQ
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/triggers/_count':
    post:
      tags:
        - Job - Trigger
      summary: Count the Jobs Triggers
      operationId: jobTriggerCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/triggers/_query':
    post:
      tags:
        - Job - Trigger
      summary: Query the Jobs Triggers
      operationId: jobTriggerQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: trigger
                                id: OlIPEFS4MYU
                                scopeId: AQ
                                createdOn: '2019-12-06T11:01:16.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T11:01:16.000Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: cron
                                endsOn: '2019-12-07T01:30:00+01:00'
                                startsOn: '2019-12-06T12:00:00+01:00'
                                triggerDefinitionId: AQ
                                triggerProperties:
                                  - name: cronExpression
                                    propertyType: java.lang.String
                                    propertyValue: '* 0/5 * * * ?'
                                  - name: jobId
                                    propertyType: org.eclipse.kapua.model.id.KapuaId
                                    propertyValue: auSoU2ph1bY
                                  - name: scopeId
                                    propertyType: org.eclipse.kapua.model.id.KapuaId
                                    propertyValue: AQ
                    example:
                      type: triggerListResult
                      limitExceeded: false
                      size: 3
                      items:
                        - type: trigger
                          id: Q5psa2kJzks
                          scopeId: AQ
                          createdOn: '2019-12-06T11:00:49.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:00:49.000Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: interval
                          startsOn: '2019-12-06T12:00:00+01:00'
                          triggerDefinitionId: Ag
                          triggerProperties:
                            - name: interval
                              propertyType: java.lang.Integer
                              propertyValue: '3600'
                            - name: jobId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: auSoU2ph1bY
                            - name: scopeId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: AQ
                        - type: trigger
                          id: OlIPEFS4MYU
                          scopeId: AQ
                          createdOn: '2019-12-06T11:01:16.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:01:16.000Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: cron
                          endsOn: '2019-12-07T01:30:00+01:00'
                          startsOn: '2019-12-06T12:00:00+01:00'
                          triggerDefinitionId: AQ
                          triggerProperties:
                            - name: cronExpression
                              propertyType: java.lang.String
                              propertyValue: '* 0/5 * * * ?'
                            - name: jobId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: auSoU2ph1bY
                            - name: scopeId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: AQ
                        - type: trigger
                          id: GOQMkJEQCPg
                          scopeId: AQ
                          createdOn: '2019-12-06T11:01:24.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:01:24.000Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: device_conn
                          startsOn: '2019-12-06T12:00:00+01:00'
                          triggerDefinitionId: Aw
                          triggerProperties:
                            - name: jobId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: auSoU2ph1bY
                            - name: scopeId
                              propertyType: org.eclipse.kapua.model.id.KapuaId
                              propertyValue: AQ
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/steps':
    get:
      tags:
        - Job - Step
      summary: Get all the Jobs Steps
      operationId: jobStepList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Jobs available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: jobStep
                                id: BL2MaF-ldS0
                                scopeId: AQ
                                createdOn: '2019-12-06T11:00:21.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T11:00:21.000Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: step_one
                                jobId: auSoU2ph1bY
                                jobStepDefinitionId: Cg
                                stepIndex: 0
                                stepProperties:
                                  - name: commandInput
                                    propertyType: org.eclipse.kapua.service.device.management.command.DeviceCommandInput
                                    propertyValue: |-
                                      <?xml version="1.0" encoding="UTF-8"?>
                                       <commandInput>
                                          <command>ls</command>
                                          <timeout>30000</timeout>
                                          <runAsynch>false</runAsynch>
                                       </commandInput>
                                  - name: timeout
                                    propertyType: java.lang.Long
                    example:
                      type: jobStepListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: jobStep
                          id: BL2MaF-ldS0
                          scopeId: AQ
                          createdOn: '2019-12-06T11:00:21.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:00:21.000Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: step_one
                          jobId: auSoU2ph1bY
                          jobStepDefinitionId: Cg
                          stepIndex: 0
                          stepProperties:
                            - name: commandInput
                              propertyType: org.eclipse.kapua.service.device.management.command.DeviceCommandInput
                              propertyValue: |-
                                <?xml version="1.0" encoding="UTF-8"?>
                                 <commandInput>
                                    <command>ls</command>
                                    <timeout>30000</timeout>
                                    <runAsynch>false</runAsynch>
                                 </commandInput>
                            - name: timeout
                              propertyType: java.lang.Long
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/steps/{stepId}':
    get:
      tags:
        - Job - Step
      summary: Get a single Job Step
      operationId: jobStepGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: stepId
          in: path
          description: The ID of the Job Step on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Job Step
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: jobStep
                      id: BL2MaF-ldS0
                      scopeId: AQ
                      createdOn: '2019-12-06T11:00:21.000Z'
                      createdBy: AQ
                      modifiedOn: '2019-12-06T11:00:21.000Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: step_one
                      jobId: auSoU2ph1bY
                      jobStepDefinitionId: Cg
                      stepIndex: 0
                      stepProperties:
                        - name: commandInput
                          propertyType: org.eclipse.kapua.service.device.management.command.DeviceCommandInput
                          propertyValue: |-
                            <?xml version="1.0" encoding="UTF-8"?>
                             <commandInput>
                                <command>ls</command>
                                <timeout>30000</timeout>
                                <runAsynch>false</runAsynch>
                             </commandInput>
                        - name: timeout
                          propertyType: java.lang.Long
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/steps/_count':
    post:
      tags:
        - Job - Step
      summary: Count the Jobs Steps
      operationId: jobStepCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/jobs/{jobId}/steps/_query':
    post:
      tags:
        - Job - Step
      summary: Query the Jobs Steps
      operationId: jobStepQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: jobId
          in: path
          description: The ID of the Job on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: jobStep
                                id: BL2MaF-ldS0
                                scopeId: AQ
                                createdOn: '2019-12-06T11:00:21.000Z'
                                createdBy: AQ
                                modifiedOn: '2019-12-06T11:00:21.000Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: step_one
                                jobId: auSoU2ph1bY
                                jobStepDefinitionId: Cg
                                stepIndex: 0
                                stepProperties:
                                  - name: commandInput
                                    propertyType: org.eclipse.kapua.service.device.management.command.DeviceCommandInput
                                    propertyValue: |-
                                      <?xml version="1.0" encoding="UTF-8"?>
                                       <commandInput>
                                          <command>ls</command>
                                          <timeout>30000</timeout>
                                          <runAsynch>false</runAsynch>
                                       </commandInput>
                                  - name: timeout
                                    propertyType: java.lang.Long
                    example:
                      type: jobStepListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: jobStep
                          id: BL2MaF-ldS0
                          scopeId: AQ
                          createdOn: '2019-12-06T11:00:21.000Z'
                          createdBy: AQ
                          modifiedOn: '2019-12-06T11:00:21.000Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: step_one
                          jobId: auSoU2ph1bY
                          jobStepDefinitionId: Cg
                          stepIndex: 0
                          stepProperties:
                            - name: commandInput
                              propertyType: org.eclipse.kapua.service.device.management.command.DeviceCommandInput
                              propertyValue: |-
                                <?xml version="1.0" encoding="UTF-8"?>
                                 <commandInput>
                                    <command>ls</command>
                                    <timeout>30000</timeout>
                                    <runAsynch>false</runAsynch>
                                 </commandInput>
                            - name: timeout
                              propertyType: java.lang.Long
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/roles':
    get:
      tags:
        - Role
      summary: Get all the roles
      operationId: roleList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: name
          in: query
          description: The role name to filter results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Roles available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: role
                                id: KmhOD4JHfwk
                                scopeId: AQ
                                createdOn: '2019-09-16T07:33:26.719Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-16T07:33:26.719Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: new-role
                                description: A new role
                    example:
                      type: roleListResult
                      limitExceeded: false
                      size: 2
                      items:
                        - type: role
                          id: AQ
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:50.701Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:50.701Z'
                          modifiedBy: AQ
                          optlock: 0
                          name: admin
                        - type: role
                          id: OYLRT30Z9sA
                          scopeId: AQ
                          createdOn: '2019-09-11T14:48:33.531Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-11T14:48:33.531Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: role
                          description: desc
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Role
      summary: Create a new Role
      operationId: roleCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object containing the properties for the new Role to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: An object that contains the informations needed to create an Entity
                          type: object
                        - description: An object that contains the informations needed to create an Updatable Entity
                          type: object
                    - description: An object that contains the informations needed to create a Named Entity
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                      required:
                        - name
                - type: object
                  properties:
                    permissions:
                      type: array
                      items:
                        description: The representation of a Permission
                        type: object
                        properties:
                          domain:
                            description: The domain name in which the Permission acts. `*` means "Any Domains"
                            type: string
                          action:
                            description: The action that is permitted. `*` means "Any Action in the given Domain"
                            type: string
                          groupId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                          targetScopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                          forwardable:
                            description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                            type: boolean
                        required:
                          - domain
                          - action
                        example:
                          domain: broker
                          action: connect
                          targetScopeId: AQ
                          forwardable: false
                  example:
                    name: new-role
                    description: A new role
                    permissions:
                      - domain: broker
                        action: connect
                        forwardable: true
        required: true
      responses:
        '201':
          description: The Role that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: role
                      id: KmhOD4JHfwk
                      scopeId: AQ
                      createdOn: '2019-09-16T07:33:26.719Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-16T07:33:26.719Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: new-role
                      description: A new role
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/roles/{roleId}':
    get:
      tags:
        - Role
      summary: Get a single Role
      operationId: roleGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: roleId
          in: path
          description: The ID of the Role on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Role
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: role
                      id: KmhOD4JHfwk
                      scopeId: AQ
                      createdOn: '2019-09-16T07:33:26.719Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-16T07:33:26.719Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: new-role
                      description: A new role
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Role
      summary: Update a single Role
      operationId: roleUpdate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: roleId
          in: path
          description: The ID of the Role on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object containing the new properties for the Role to update
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                          type: object
                          properties:
                            id:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity
                                  readOnly: true
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Scope containing the Entity
                                  readOnly: true
                            createdOn:
                              description: The date and time when this entity was created
                              type: string
                              format: date-time
                              readOnly: true
                            createdBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who created this Entity
                                  readOnly: true
                        - description: An Entity that also supports edits and versioning
                          type: object
                          properties:
                            modifiedOn:
                              description: The date and time when this entity was modified
                              type: string
                              format: date-time
                              readOnly: true
                            modifiedBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who modified this Entity
                                  readOnly: true
                            optlock:
                              description: |
                                The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                              type: integer
                    - description: An UpdatableEntity that also has a name and a description
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                - type: object
                  example:
                    type: role
                    id: KmhOD4JHfwk
                    scopeId: AQ
                    createdOn: '2019-09-16T07:33:26.719Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-16T07:33:26.719Z'
                    modifiedBy: AQ
                    optlock: 1
                    name: new-role
                    description: A new role
            example:
              optlock: 1
              name: new-role-2
              description: A new Description for a new Role
        required: true
      responses:
        '200':
          description: The details of the updated Role
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: role
                      id: KmhOD4JHfwk
                      scopeId: AQ
                      createdOn: '2019-09-16T07:33:26.719Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-16T07:33:26.719Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: new-role
                      description: A new role
              example:
                type: role
                id: KmhOD4JHfwk
                scopeId: AQ
                createdOn: '2019-09-16T07:33:26.719Z'
                createdBy: AQ
                modifiedOn: '2019-09-16T07:41:37.001Z'
                modifiedBy: AQ
                optlock: 2
                name: new-role-2
                description: A new Description for a new Role
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Role
      summary: Delete a single Role
      operationId: roleDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: roleId
          in: path
          description: The ID of the Role on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The Role has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/roles/_count':
    post:
      tags:
        - Role
      summary: Count the Roles
      operationId: roleCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/roles/_query':
    post:
      tags:
        - Role
      summary: Query the Roles
      operationId: roleQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: role
                                id: KmhOD4JHfwk
                                scopeId: AQ
                                createdOn: '2019-09-16T07:33:26.719Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-16T07:33:26.719Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: new-role
                                description: A new role
                    example:
                      type: roleListResult
                      limitExceeded: false
                      size: 2
                      items:
                        - type: role
                          id: AQ
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:50.701Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:50.701Z'
                          modifiedBy: AQ
                          optlock: 0
                          name: admin
                        - type: role
                          id: OYLRT30Z9sA
                          scopeId: AQ
                          createdOn: '2019-09-11T14:48:33.531Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-11T14:48:33.531Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: role
                          description: desc
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/roles/{roleId}/permissions':
    get:
      tags:
        - Role
      summary: Get all the Role Permissions
      operationId: rolePermissionList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: roleId
          in: path
          description: The ID of the Role on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: name
          in: query
          description: The domain name to filter results
          schema:
            type: string
        - name: action
          in: query
          description: The action to filter results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the RolePermissions available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - type: object
                              properties:
                                roleId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                permission:
                                  description: The representation of a Permission
                                  type: object
                                  properties:
                                    domain:
                                      description: The domain name in which the Permission acts. `*` means "Any Domains"
                                      type: string
                                    action:
                                      description: The action that is permitted. `*` means "Any Action in the given Domain"
                                      type: string
                                    groupId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                                    targetScopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                                    forwardable:
                                      description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                                      type: boolean
                                  required:
                                    - domain
                                    - action
                                  example:
                                    domain: broker
                                    action: connect
                                    targetScopeId: AQ
                                    forwardable: false
                              example:
                                type: rolePermission
                                id: BpbQqk31GLc
                                scopeId: AQ
                                createdOn: '2019-09-16T07:49:51.117Z'
                                createdBy: AQ
                                roleId: OYLRT30Z9sA
                                permission:
                                  domain: domain
                                  action: read
                                  forwardable: true
                    example:
                      type: rolePermissionListResult
                      limitExceeded: false
                      size: 2
                      items:
                        - type: rolePermission
                          id: BPJyd1ObUK8
                          scopeId: AQ
                          createdOn: '2019-09-16T07:46:06.191Z'
                          createdBy: AQ
                          roleId: OYLRT30Z9sA
                          permission:
                            domain: broker
                            action: connect
                            forwardable: true
                        - type: rolePermission
                          id: Zi4XYBuG7Xw
                          scopeId: AQ
                          createdOn: '2019-09-16T07:46:14.082Z'
                          createdBy: AQ
                          roleId: OYLRT30Z9sA
                          permission:
                            domain: device
                            action: read
                            forwardable: true
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Role
      summary: Create a new RolePermission
      operationId: rolePermissionCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: roleId
          in: path
          description: The ID of the Role on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object containing the properties for the new RolePermission to be created
        content:
          application/json:
            schema:
              allOf:
                - description: An object that contains the informations needed to create an Entity
                  type: object
                - type: object
                  properties:
                    permission:
                      description: The representation of a Permission
                      type: object
                      properties:
                        domain:
                          description: The domain name in which the Permission acts. `*` means "Any Domains"
                          type: string
                        action:
                          description: The action that is permitted. `*` means "Any Action in the given Domain"
                          type: string
                        groupId:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                        targetScopeId:
                          allOf:
                            - type: string
                              pattern: '[A-Za-z0-9-_=]+'
                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                            - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                        forwardable:
                          description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                          type: boolean
                      required:
                        - domain
                        - action
                      example:
                        domain: broker
                        action: connect
                        targetScopeId: AQ
                        forwardable: false
                  example:
                    permission:
                      domain: account
                      action: read
                      forwardable: true
            example:
              permission:
                domain: account
                action: read
                forwardable: true
        required: true
      responses:
        '201':
          description: The Role Permissionthat has just been created
          content:
            application/json:
              schema:
                allOf:
                  - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                    type: object
                    properties:
                      id:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity
                            readOnly: true
                      scopeId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Scope containing the Entity
                            readOnly: true
                      createdOn:
                        description: The date and time when this entity was created
                        type: string
                        format: date-time
                        readOnly: true
                      createdBy:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity who created this Entity
                            readOnly: true
                  - type: object
                    properties:
                      roleId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      permission:
                        description: The representation of a Permission
                        type: object
                        properties:
                          domain:
                            description: The domain name in which the Permission acts. `*` means "Any Domains"
                            type: string
                          action:
                            description: The action that is permitted. `*` means "Any Action in the given Domain"
                            type: string
                          groupId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                          targetScopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                          forwardable:
                            description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                            type: boolean
                        required:
                          - domain
                          - action
                        example:
                          domain: broker
                          action: connect
                          targetScopeId: AQ
                          forwardable: false
                    example:
                      type: rolePermission
                      id: BpbQqk31GLc
                      scopeId: AQ
                      createdOn: '2019-09-16T07:49:51.117Z'
                      createdBy: AQ
                      roleId: OYLRT30Z9sA
                      permission:
                        domain: domain
                        action: read
                        forwardable: true
              example:
                type: rolePermission
                id: BpbQqk31GLc
                scopeId: AQ
                createdOn: '2019-09-16T07:49:51.117Z'
                createdBy: AQ
                roleId: OYLRT30Z9sA
                permission:
                  domain: domain
                  action: read
                  forwardable: true
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/roles/{roleId}/permissions/{rolePermissionId}':
    get:
      tags:
        - Role
      summary: Get a single RolePermission
      operationId: rolePermissionGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: roleId
          in: path
          description: The ID of the Role on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: rolePermissionId
          in: path
          description: The ID of the RolePermission on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired RolePermission
          content:
            application/json:
              schema:
                allOf:
                  - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                    type: object
                    properties:
                      id:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity
                            readOnly: true
                      scopeId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Scope containing the Entity
                            readOnly: true
                      createdOn:
                        description: The date and time when this entity was created
                        type: string
                        format: date-time
                        readOnly: true
                      createdBy:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          - description: The ID of the Entity who created this Entity
                            readOnly: true
                  - type: object
                    properties:
                      roleId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      permission:
                        description: The representation of a Permission
                        type: object
                        properties:
                          domain:
                            description: The domain name in which the Permission acts. `*` means "Any Domains"
                            type: string
                          action:
                            description: The action that is permitted. `*` means "Any Action in the given Domain"
                            type: string
                          groupId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                          targetScopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                          forwardable:
                            description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                            type: boolean
                        required:
                          - domain
                          - action
                        example:
                          domain: broker
                          action: connect
                          targetScopeId: AQ
                          forwardable: false
                    example:
                      type: rolePermission
                      id: BpbQqk31GLc
                      scopeId: AQ
                      createdOn: '2019-09-16T07:49:51.117Z'
                      createdBy: AQ
                      roleId: OYLRT30Z9sA
                      permission:
                        domain: domain
                        action: read
                        forwardable: true
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Role
      summary: Delete a single RolePermission
      operationId: rolePermissionDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: roleId
          in: path
          description: The ID of the Role on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: rolePermissionId
          in: path
          description: The ID of the RolePermission on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The RolePermission has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/roles/{roleId}/permissions/_count':
    post:
      tags:
        - Role
      summary: Count the RolePermissions
      operationId: rolePermissionCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: roleId
          in: path
          description: The ID of the Role on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/roles/{roleId}/permissions/_query':
    post:
      tags:
        - Role
      summary: Query the RolePermissions
      operationId: rolePermissionQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: roleId
          in: path
          description: The ID of the Role on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                              type: object
                              properties:
                                id:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity
                                      readOnly: true
                                scopeId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Scope containing the Entity
                                      readOnly: true
                                createdOn:
                                  description: The date and time when this entity was created
                                  type: string
                                  format: date-time
                                  readOnly: true
                                createdBy:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    - description: The ID of the Entity who created this Entity
                                      readOnly: true
                            - type: object
                              properties:
                                roleId:
                                  allOf:
                                    - type: string
                                      pattern: '[A-Za-z0-9-_=]+'
                                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                permission:
                                  description: The representation of a Permission
                                  type: object
                                  properties:
                                    domain:
                                      description: The domain name in which the Permission acts. `*` means "Any Domains"
                                      type: string
                                    action:
                                      description: The action that is permitted. `*` means "Any Action in the given Domain"
                                      type: string
                                    groupId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Group to which the Permission applies. A `null` value means "Any group in the Scope"
                                    targetScopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The Scope ID to which the Permission applies. A `null` value means "Any scope in the system"
                                    forwardable:
                                      description: 'When `true`, this permission is also active descending the entire Accounts hierarchy'
                                      type: boolean
                                  required:
                                    - domain
                                    - action
                                  example:
                                    domain: broker
                                    action: connect
                                    targetScopeId: AQ
                                    forwardable: false
                              example:
                                type: rolePermission
                                id: BpbQqk31GLc
                                scopeId: AQ
                                createdOn: '2019-09-16T07:49:51.117Z'
                                createdBy: AQ
                                roleId: OYLRT30Z9sA
                                permission:
                                  domain: domain
                                  action: read
                                  forwardable: true
                    example:
                      type: rolePermissionListResult
                      limitExceeded: false
                      size: 2
                      items:
                        - type: rolePermission
                          id: BPJyd1ObUK8
                          scopeId: AQ
                          createdOn: '2019-09-16T07:46:06.191Z'
                          createdBy: AQ
                          roleId: OYLRT30Z9sA
                          permission:
                            domain: broker
                            action: connect
                            forwardable: true
                        - type: rolePermission
                          id: Zi4XYBuG7Xw
                          scopeId: AQ
                          createdOn: '2019-09-16T07:46:14.082Z'
                          createdBy: AQ
                          roleId: OYLRT30Z9sA
                          permission:
                            domain: device
                            action: read
                            forwardable: true
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/roles/{roleId}/users':
    get:
      tags:
        - Role
      summary: Get all the Users for the given Role
      operationId: roleListUsers
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: roleId
          in: path
          description: The ID of the Role on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Users assigned to the given Role
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - allOf:
                                - allOf:
                                    - allOf:
                                        - description: An object that contains the informations needed to create an Entity
                                          type: object
                                        - description: An object that contains the informations needed to create an Updatable Entity
                                          type: object
                                    - description: An object that contains the informations needed to create a Named Entity
                                      type: object
                                      properties:
                                        name:
                                          description: The name of the Entity
                                          type: string
                                        description:
                                          description: The description of the Entity
                                          type: string
                                      required:
                                        - name
                                - type: object
                                  properties:
                                    status:
                                      type: string
                                      enum:
                                        - ENABLED
                                        - DISABLED
                                    displayName:
                                      type: string
                                    headPortrait:
                                      type: string
                                    email:
                                      type: string
                                      format: email
                                    phoneNumber:
                                      type: string
                                    userType:
                                      type: string
                                      enum:
                                        - DEVICE
                                        - INTERNAL
                                        - EXTERNAL
                                    externalId:
                                      type: string
                                    expirationDate:
                                      type: string
                                      format: date-time
                                  example:
                                    name: admin
                                    status: ENABLED
                                    displayName: Donald Duck
                                    email: admin@izhiju.cn
                                    phoneNumber: '15997988498'
                                    userType: INTERNAL
                                    expirationDate: '2019-31-12T00:00:00.000Z'
                                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                            - type: object
                              example:
                                type: user
                                id: AQ
                                scopeId: AQ
                                createdOn: '2019-09-10T15:08:54.781Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-10T15:08:54.781Z'
                                modifiedBy: AQ
                                optlock: 0
                                name: admin
                                displayName: Sysadmin
                                headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                                email: kapua-sys@eclipse.org
                                phoneNumber: +1 555 123 4567
                                status: ENABLED
                                userType: INTERNAL
                    example:
                      type: userListResult
                      limitExceeded: false
                      size: 2
                      users:
                        - type: user
                          id: AQ
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:54.781Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:54.781Z'
                          modifiedBy: AQ
                          optlock: 0
                          name: kapua-sys
                          displayName: Kapua Sysadmin
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                          email: kapua-sys@eclipse.org
                          phoneNumber: +1 555 123 4567
                          status: ENABLED
                          userType: INTERNAL
                        - type: user
                          id: Ag
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:54.781Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:54.781Z'
                          modifiedBy: AQ
                          optlock: 0
                          name: kapua-broker
                          displayName: Kapua Broker
                          email: kapua-broker@eclipse.org
                          phoneNumber: +1 555 123 4567
                          status: ENABLED
                          userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/serviceConfigurations':
    get:
      tags:
        - Service Configuration
      summary: Read multiple Configurations
      operationId: serviceConfigurationsRead
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      responses:
        '200':
          description: The list of the Configurations
          content:
            application/json:
              schema:
                type: object
                properties:
                  configuration:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          description: A name for the Service
                          type: string
                        id:
                          description: An ID for the Service
                          type: string
                        definition:
                          description: An object containing all the Property Definitions
                          type: object
                          properties:
                            id:
                              type: string
                            AD:
                              type: array
                              items:
                                description: The definition for a single configuration value
                                type: object
                                properties:
                                  Option:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        label:
                                          type: string
                                        value:
                                          type: string
                                  default:
                                    description: The default value for this field
                                    type: string
                                  type:
                                    description: The data type of this field
                                    type: object
                                  cardinality:
                                    description: The cardinality of this field
                                    type: integer
                                  min:
                                    description: The minimum allowed value for this field
                                    type: string
                                  max:
                                    description: The maximum allowed value for this field
                                    type: string
                                  description:
                                    description: The description of this field
                                    type: string
                                  id:
                                    description: An unique ID for this field
                                    type: string
                                  required:
                                    description: A flag indicating whether this field is required or not
                                    type: boolean
                                  name:
                                    description: A human readable name for this field
                                    type: string
                                example:
                                  cardinality: 0
                                  default: 'false'
                                  description: Whether to allow infinite groups for this account or not.
                                  id: infiniteChildEntities
                                  name: infiniteChildGroups
                                  required: true
                                  type: Boolean
                                  Option: []
                            Icon:
                              type: array
                              items:
                                type: object
                                properties:
                                  resource:
                                    type: string
                                  size:
                                    type: integer
                            name:
                              type: string
                            description:
                              type: string
                        properties:
                          description: An object containing all the Property Values
                          type: object
                          properties:
                            property:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    description: The name of the field that is represented by this property
                                    type: string
                                  array:
                                    description: A flag indicating whether this property has an array value or not
                                    type: boolean
                                  encrypted:
                                    description: A flag indicating whether this property value is encrypted or not
                                    type: boolean
                                  type:
                                    description: The data type of this property
                                    type: string
                                  value:
                                    description: The value of this property
                                    type: array
                                    items:
                                      type: string
                                example:
                                  name: maxNumberChildEntities
                                  array: false
                                  encrypted: false
                                  type: Integer
                                  value:
                                    - '0'
                      example:
                        name: AccountService
                        id: org.eclipse.kapua.service.account.AccountService
                        definition:
                          description: 'This is the configuration for the kapua AccountService. '
                          id: org.eclipse.kapua.service.account.AccountService
                          name: AccountService
                          AD:
                            - cardinality: 0
                              default: 'false'
                              description: Whether to allow infinite child accounts for this account or not.
                              id: infiniteChildEntities
                              name: infiniteChildAccounts
                              required: true
                              type: Boolean
                              Option: []
                            - cardinality: 0
                              default: '0'
                              description: Maximum number of child accounts that are allowed to be created for this account. Valid if infiniteChildAccounts set to false.
                              id: maxNumberChildEntities
                              min: '0'
                              name: maxNumberChildAccounts
                              required: true
                              type: Integer
                              Option: []
                          Icon:
                            - resource: OSGI-INF/account-service.png
                              size: 32
                        properties:
                          property:
                            - name: maxNumberChildEntities
                              array: false
                              encrypted: false
                              type: Integer
                              value:
                                - '0'
                            - name: infiniteChildEntities
                              array: false
                              encrypted: false
                              type: Boolean
                              value:
                                - 'true'
                example:
                  type: serviceConfiguration
                  configuration:
                    - name: AccountService
                      id: org.eclipse.kapua.service.account.AccountService
                      definition:
                        description: 'This is the configuration for the kapua AccountService. '
                        id: org.eclipse.kapua.service.account.AccountService
                        name: AccountService
                        AD:
                          - cardinality: 0
                            default: 'false'
                            description: Whether to allow infinite child accounts for this account or not.
                            id: infiniteChildEntities
                            name: infiniteChildAccounts
                            required: true
                            type: Boolean
                            Option: []
                          - cardinality: 0
                            default: '0'
                            description: Maximum number of child accounts that are allowed to be created for this account. Valid if infiniteChildAccounts set to false.
                            id: maxNumberChildEntities
                            min: '0'
                            name: maxNumberChildAccounts
                            required: true
                            type: Integer
                            Option: []
                        Icon:
                          - resource: OSGI-INF/account-service.png
                            size: 32
                      properties:
                        property:
                          - name: maxNumberChildEntities
                            array: false
                            encrypted: false
                            type: Integer
                            value:
                              - '0'
                          - name: infiniteChildEntities
                            array: false
                            encrypted: false
                            type: Boolean
                            value:
                              - 'true'
                    - name: CredentialService
                      id: org.eclipse.kapua.service.authentication.credential.CredentialService
                      definition:
                        description: 'This is the configuration for the kapua CredentialService. '
                        id: org.eclipse.kapua.service.authentication.credential.CredentialService
                        name: CredentialService
                        AD:
                          - cardinality: 0
                            default: 'true'
                            description: User lockout policy enable.
                            id: lockoutPolicy.enabled
                            name: lockoutPolicy.enabled
                            required: true
                            type: Boolean
                            Option: []
                          - cardinality: 0
                            default: '3'
                            description: Number of consecutive login failures before the user gets locked. Valid if lockout policy is enabled.
                            id: lockoutPolicy.maxFailures
                            min: '0'
                            name: lockoutPolicy.maxFailures
                            required: true
                            type: Integer
                            Option: []
                          - cardinality: 0
                            default: '3600'
                            description: The amount of time in seconds required after the last login failure to automatically reset the failure counter.
                            id: lockoutPolicy.resetAfter
                            min: '0'
                            name: lockoutPolicy.resetAfter
                            required: true
                            type: Integer
                            Option: []
                          - cardinality: 0
                            default: '10800'
                            description: For a locked user the amount of time in seconds required after the last login failure to automatically unlock the user.
                            id: lockoutPolicy.lockDuration
                            min: '0'
                            name: lockoutPolicy.lockDuration
                            required: true
                            type: Integer
                            Option: []
                        Icon:
                          - resource: OSGI-INF/user-service.png
                            size: 32
                      properties:
                        property:
                          - name: lockoutPolicy.resetAfter
                            array: false
                            encrypted: false
                            type: Integer
                            value:
                              - '3600'
                          - name: lockoutPolicy.lockDuration
                            array: false
                            encrypted: false
                            type: Integer
                            value:
                              - '10800'
                          - name: lockoutPolicy.enabled
                            array: false
                            encrypted: false
                            type: Boolean
                            value:
                              - 'true'
                          - name: lockoutPolicy.maxFailures
                            array: false
                            encrypted: false
                            type: Integer
                            value:
                              - '3'
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Service Configuration
      summary: Update multiple Configurations
      operationId: serviceConfigurationsWrite
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                configuration:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      properties:
                        type: object
                        properties:
                          property:
                            type: array
                            items:
                              type: object
                              properties:
                                name:
                                  description: The name of the field that is represented by this property
                                  type: string
                                array:
                                  description: A flag indicating whether this property has an array value or not
                                  type: boolean
                                encrypted:
                                  description: A flag indicating whether this property value is encrypted or not
                                  type: boolean
                                type:
                                  description: The data type of this property
                                  type: string
                                value:
                                  description: The value of this property
                                  type: array
                                  items:
                                    type: string
                              example:
                                name: maxNumberChildEntities
                                array: false
                                encrypted: false
                                type: Integer
                                value:
                                  - '0'
                    example:
                      id: org.eclipse.kapua.service.account.AccountService
                      properties:
                        property:
                          - name: maxNumberChildEntities
                            type: Integer
                            value:
                              - '7'
                          - name: infiniteChildEntities
                            type: Boolean
                            value:
                              - 'true'
              example:
                type: serviceConfiguration
                configuration:
                  - id: org.eclipse.kapua.service.account.AccountService
                    properties:
                      property:
                        - name: maxNumberChildEntities
                          type: Integer
                          value:
                            - '15'
                        - name: infiniteChildEntities
                          type: Boolean
                          value:
                            - false
                  - id: org.eclipse.kapua.service.authentication.credential.CredentialService
                    properties:
                      property:
                        - name: lockoutPolicy.resetAfter
                          type: Integer
                          value:
                            - '36000'
                        - name: lockoutPolicy.lockDuration
                          type: Integer
                          value:
                            - '108000'
                        - name: lockoutPolicy.enabled
                          type: Boolean
                          value:
                            - 'false'
                        - name: lockoutPolicy.maxFailures
                          type: Integer
                          value:
                            - '30'
        required: true
      responses:
        '200':
          description: The list of the Configurations
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/serviceConfigurations/{componentId}':
    get:
      tags:
        - Service Configuration
      summary: Read a single Configuration
      operationId: serviceConfigurationRead
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: componentId
          in: path
          description: The ID of the Component on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The Configuration details of a single Service
          content:
            application/json:
              schema:
                type: object
                properties:
                  configuration:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          description: A name for the Service
                          type: string
                        id:
                          description: An ID for the Service
                          type: string
                        definition:
                          description: An object containing all the Property Definitions
                          type: object
                          properties:
                            id:
                              type: string
                            AD:
                              type: array
                              items:
                                description: The definition for a single configuration value
                                type: object
                                properties:
                                  Option:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        label:
                                          type: string
                                        value:
                                          type: string
                                  default:
                                    description: The default value for this field
                                    type: string
                                  type:
                                    description: The data type of this field
                                    type: object
                                  cardinality:
                                    description: The cardinality of this field
                                    type: integer
                                  min:
                                    description: The minimum allowed value for this field
                                    type: string
                                  max:
                                    description: The maximum allowed value for this field
                                    type: string
                                  description:
                                    description: The description of this field
                                    type: string
                                  id:
                                    description: An unique ID for this field
                                    type: string
                                  required:
                                    description: A flag indicating whether this field is required or not
                                    type: boolean
                                  name:
                                    description: A human readable name for this field
                                    type: string
                                example:
                                  cardinality: 0
                                  default: 'false'
                                  description: Whether to allow infinite groups for this account or not.
                                  id: infiniteChildEntities
                                  name: infiniteChildGroups
                                  required: true
                                  type: Boolean
                                  Option: []
                            Icon:
                              type: array
                              items:
                                type: object
                                properties:
                                  resource:
                                    type: string
                                  size:
                                    type: integer
                            name:
                              type: string
                            description:
                              type: string
                        properties:
                          description: An object containing all the Property Values
                          type: object
                          properties:
                            property:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    description: The name of the field that is represented by this property
                                    type: string
                                  array:
                                    description: A flag indicating whether this property has an array value or not
                                    type: boolean
                                  encrypted:
                                    description: A flag indicating whether this property value is encrypted or not
                                    type: boolean
                                  type:
                                    description: The data type of this property
                                    type: string
                                  value:
                                    description: The value of this property
                                    type: array
                                    items:
                                      type: string
                                example:
                                  name: maxNumberChildEntities
                                  array: false
                                  encrypted: false
                                  type: Integer
                                  value:
                                    - '0'
                      example:
                        name: AccountService
                        id: org.eclipse.kapua.service.account.AccountService
                        definition:
                          description: 'This is the configuration for the kapua AccountService. '
                          id: org.eclipse.kapua.service.account.AccountService
                          name: AccountService
                          AD:
                            - cardinality: 0
                              default: 'false'
                              description: Whether to allow infinite child accounts for this account or not.
                              id: infiniteChildEntities
                              name: infiniteChildAccounts
                              required: true
                              type: Boolean
                              Option: []
                            - cardinality: 0
                              default: '0'
                              description: Maximum number of child accounts that are allowed to be created for this account. Valid if infiniteChildAccounts set to false.
                              id: maxNumberChildEntities
                              min: '0'
                              name: maxNumberChildAccounts
                              required: true
                              type: Integer
                              Option: []
                          Icon:
                            - resource: OSGI-INF/account-service.png
                              size: 32
                        properties:
                          property:
                            - name: maxNumberChildEntities
                              array: false
                              encrypted: false
                              type: Integer
                              value:
                                - '0'
                            - name: infiniteChildEntities
                              array: false
                              encrypted: false
                              type: Boolean
                              value:
                                - 'true'
                example:
                  type: serviceConfiguration
                  configuration:
                    - name: AccountService
                      id: org.eclipse.kapua.service.account.AccountService
                      definition:
                        description: 'This is the configuration for the kapua AccountService. '
                        id: org.eclipse.kapua.service.account.AccountService
                        name: AccountService
                        AD:
                          - cardinality: 0
                            default: 'false'
                            description: Whether to allow infinite child accounts for this account or not.
                            id: infiniteChildEntities
                            name: infiniteChildAccounts
                            required: true
                            type: Boolean
                            Option: []
                          - cardinality: 0
                            default: '0'
                            description: Maximum number of child accounts that are allowed to be created for this account. Valid if infiniteChildAccounts set to false.
                            id: maxNumberChildEntities
                            min: '0'
                            name: maxNumberChildAccounts
                            required: true
                            type: Integer
                            Option: []
                        Icon:
                          - resource: OSGI-INF/account-service.png
                            size: 32
                      properties:
                        property:
                          - name: maxNumberChildEntities
                            array: false
                            encrypted: false
                            type: Integer
                            value:
                              - '0'
                          - name: infiniteChildEntities
                            array: false
                            encrypted: false
                            type: Boolean
                            value:
                              - 'true'
                    - name: CredentialService
                      id: org.eclipse.kapua.service.authentication.credential.CredentialService
                      definition:
                        description: 'This is the configuration for the kapua CredentialService. '
                        id: org.eclipse.kapua.service.authentication.credential.CredentialService
                        name: CredentialService
                        AD:
                          - cardinality: 0
                            default: 'true'
                            description: User lockout policy enable.
                            id: lockoutPolicy.enabled
                            name: lockoutPolicy.enabled
                            required: true
                            type: Boolean
                            Option: []
                          - cardinality: 0
                            default: '3'
                            description: Number of consecutive login failures before the user gets locked. Valid if lockout policy is enabled.
                            id: lockoutPolicy.maxFailures
                            min: '0'
                            name: lockoutPolicy.maxFailures
                            required: true
                            type: Integer
                            Option: []
                          - cardinality: 0
                            default: '3600'
                            description: The amount of time in seconds required after the last login failure to automatically reset the failure counter.
                            id: lockoutPolicy.resetAfter
                            min: '0'
                            name: lockoutPolicy.resetAfter
                            required: true
                            type: Integer
                            Option: []
                          - cardinality: 0
                            default: '10800'
                            description: For a locked user the amount of time in seconds required after the last login failure to automatically unlock the user.
                            id: lockoutPolicy.lockDuration
                            min: '0'
                            name: lockoutPolicy.lockDuration
                            required: true
                            type: Integer
                            Option: []
                        Icon:
                          - resource: OSGI-INF/user-service.png
                            size: 32
                      properties:
                        property:
                          - name: lockoutPolicy.resetAfter
                            array: false
                            encrypted: false
                            type: Integer
                            value:
                              - '3600'
                          - name: lockoutPolicy.lockDuration
                            array: false
                            encrypted: false
                            type: Integer
                            value:
                              - '10800'
                          - name: lockoutPolicy.enabled
                            array: false
                            encrypted: false
                            type: Boolean
                            value:
                              - 'true'
                          - name: lockoutPolicy.maxFailures
                            array: false
                            encrypted: false
                            type: Integer
                            value:
                              - '3'
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Service Configuration
      summary: Update a single Configuration
      operationId: serviceConfigurationWrite
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: componentId
          in: path
          description: The ID of the Component on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                properties:
                  type: object
                  properties:
                    property:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            description: The name of the field that is represented by this property
                            type: string
                          array:
                            description: A flag indicating whether this property has an array value or not
                            type: boolean
                          encrypted:
                            description: A flag indicating whether this property value is encrypted or not
                            type: boolean
                          type:
                            description: The data type of this property
                            type: string
                          value:
                            description: The value of this property
                            type: array
                            items:
                              type: string
                        example:
                          name: maxNumberChildEntities
                          array: false
                          encrypted: false
                          type: Integer
                          value:
                            - '0'
              example:
                id: org.eclipse.kapua.service.account.AccountService
                properties:
                  property:
                    - name: maxNumberChildEntities
                      type: Integer
                      value:
                        - '7'
                    - name: infiniteChildEntities
                      type: Boolean
                      value:
                        - 'true'
        required: true
      responses:
        '200':
          description: Updates the Configuration details of a single Service
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    description: A name for the Service
                    type: string
                  id:
                    description: An ID for the Service
                    type: string
                  definition:
                    description: An object containing all the Property Definitions
                    type: object
                    properties:
                      id:
                        type: string
                      AD:
                        type: array
                        items:
                          description: The definition for a single configuration value
                          type: object
                          properties:
                            Option:
                              type: array
                              items:
                                type: object
                                properties:
                                  label:
                                    type: string
                                  value:
                                    type: string
                            default:
                              description: The default value for this field
                              type: string
                            type:
                              description: The data type of this field
                              type: object
                            cardinality:
                              description: The cardinality of this field
                              type: integer
                            min:
                              description: The minimum allowed value for this field
                              type: string
                            max:
                              description: The maximum allowed value for this field
                              type: string
                            description:
                              description: The description of this field
                              type: string
                            id:
                              description: An unique ID for this field
                              type: string
                            required:
                              description: A flag indicating whether this field is required or not
                              type: boolean
                            name:
                              description: A human readable name for this field
                              type: string
                          example:
                            cardinality: 0
                            default: 'false'
                            description: Whether to allow infinite groups for this account or not.
                            id: infiniteChildEntities
                            name: infiniteChildGroups
                            required: true
                            type: Boolean
                            Option: []
                      Icon:
                        type: array
                        items:
                          type: object
                          properties:
                            resource:
                              type: string
                            size:
                              type: integer
                      name:
                        type: string
                      description:
                        type: string
                  properties:
                    description: An object containing all the Property Values
                    type: object
                    properties:
                      property:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              description: The name of the field that is represented by this property
                              type: string
                            array:
                              description: A flag indicating whether this property has an array value or not
                              type: boolean
                            encrypted:
                              description: A flag indicating whether this property value is encrypted or not
                              type: boolean
                            type:
                              description: The data type of this property
                              type: string
                            value:
                              description: The value of this property
                              type: array
                              items:
                                type: string
                          example:
                            name: maxNumberChildEntities
                            array: false
                            encrypted: false
                            type: Integer
                            value:
                              - '0'
                example:
                  name: AccountService
                  id: org.eclipse.kapua.service.account.AccountService
                  definition:
                    description: 'This is the configuration for the kapua AccountService. '
                    id: org.eclipse.kapua.service.account.AccountService
                    name: AccountService
                    AD:
                      - cardinality: 0
                        default: 'false'
                        description: Whether to allow infinite child accounts for this account or not.
                        id: infiniteChildEntities
                        name: infiniteChildAccounts
                        required: true
                        type: Boolean
                        Option: []
                      - cardinality: 0
                        default: '0'
                        description: Maximum number of child accounts that are allowed to be created for this account. Valid if infiniteChildAccounts set to false.
                        id: maxNumberChildEntities
                        min: '0'
                        name: maxNumberChildAccounts
                        required: true
                        type: Integer
                        Option: []
                    Icon:
                      - resource: OSGI-INF/account-service.png
                        size: 32
                  properties:
                    property:
                      - name: maxNumberChildEntities
                        array: false
                        encrypted: false
                        type: Integer
                        value:
                          - '0'
                      - name: infiniteChildEntities
                        array: false
                        encrypted: false
                        type: Boolean
                        value:
                          - 'true'
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/streams/messages':
    post:
      tags:
        - Stream
      summary: Publish a message
      operationId: streamMessage
      description: 'Publishes a fire-and-forget message to a topic composed of [account-name] / [client-id] / [semtantic-parts]'
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                datastoreId:
                  type: string
                  format: uuid
                  readOnly: true
                scopeId:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    - readOnly: true
                timestamp:
                  type: string
                  format: date-time
                deviceId:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                clientId:
                  type: string
                receivedOn:
                  type: string
                  format: date-time
                sentOn:
                  type: string
                  format: date-time
                capturedOn:
                  type: string
                  format: date-time
                position:
                  type: object
                  properties:
                    latitude:
                      type: number
                      format: double
                    longitude:
                      type: number
                      format: double
                    altitude:
                      type: number
                      format: double
                    precision:
                      type: number
                      format: double
                    heading:
                      type: number
                      format: double
                    speed:
                      type: number
                      format: double
                    timestamp:
                      type: string
                      format: date-time
                    satellites:
                      type: integer
                      format: int32
                    status:
                      type: integer
                      format: int32
                channel:
                  type: object
                  properties:
                    semanticParts:
                      type: array
                      items:
                        type: string
                payload:
                  type: object
                  properties:
                    metrics:
                      type: array
                      items:
                        type: object
                        properties:
                          valueType:
                            type: string
                          value:
                            type: string
                          name:
                            type: string
                    body:
                      type: string
                      format: base64
              required:
                - clientId
                - deviceId
              example:
                type: jsonDatastoreMessage
                capturedOn: '2019-09-12T09:25:05.096Z'
                channel:
                  type: kapuaDataChannel
                  semanticParts:
                    - heater
                    - data
                clientId: Client-Id-1
                deviceId: WyczTs_GuDM
                payload:
                  metrics:
                    - valueType: string
                      value: 5
                      name: temperatureExternal
                    - valueType: string
                      value: 20
                      name: temperatureInternal
                    - valueType: string
                      value: 30
                      name: temperatureExhaust
                    - valueType: string
                      value: 0
                      name: errorCode
                receivedOn: '2019-09-12T09:25:05.102Z'
                scopeId: AQ
                sentOn: '2019-09-12T09:25:05.096Z'
                datastoreId: bb07d7fc-dc62-492f-b8da-7e28df69e112
                timestamp: '2019-09-12T09:25:05.096Z'
            example:
              capturedOn: '2019-09-12T09:25:05.096Z'
              channel:
                type: kapuaDataChannel
                semanticParts:
                  - heater
                  - data
              clientId: Client-Id-1
              deviceId: IaIA6xbNR7E
              payload:
                metrics:
                  - valueType: string
                    value: 5
                    name: temperatureExternal
                  - valueType: string
                    value: 20
                    name: temperatureInternal
                  - valueType: string
                    value: 30
                    name: temperatureExhaust
                  - valueType: string
                    value: 0
                    name: errorCode
              receivedOn: '2019-09-12T09:25:05.102Z'
              sentOn: '2019-09-12T09:25:05.096Z'
              timestamp: '2019-09-12T09:25:05.096Z'
      responses:
        '204':
          description: The message has been sent successfully
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/tags':
    get:
      tags:
        - Tag
      summary: Get all the Tags
      operationId: tagList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: name
          in: query
          description: The tag name to filter results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Tags available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: tag
                                id: FJ6-FLuIcok
                                scopeId: AQ
                                createdOn: '2019-09-16T08:52:32.562Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-16T08:52:32.562Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: tag-1
                                description: A new Tag
                    example:
                      type: tagListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: tag
                          id: FJ6-FLuIcok
                          scopeId: AQ
                          createdOn: '2019-09-16T08:52:32.562Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-16T08:52:32.562Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: tag-1
                          description: A new Tag
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - Tag
      summary: Create a new Tag
      operationId: tagCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object containing the properties for the new Tag to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: An object that contains the informations needed to create an Entity
                          type: object
                        - description: An object that contains the informations needed to create an Updatable Entity
                          type: object
                    - description: An object that contains the informations needed to create a Named Entity
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                      required:
                        - name
                - type: object
                  example:
                    name: tag-1
                    description: A new Tag
        required: true
      responses:
        '201':
          description: The Tag that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: tag
                      id: FJ6-FLuIcok
                      scopeId: AQ
                      createdOn: '2019-09-16T08:52:32.562Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-16T08:52:32.562Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: tag-1
                      description: A new Tag
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/tags/{tagId}':
    get:
      tags:
        - Tag
      summary: Get a single Tag
      operationId: tagGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: tagId
          in: path
          description: The ID of the Tag on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired Tag
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: tag
                      id: FJ6-FLuIcok
                      scopeId: AQ
                      createdOn: '2019-09-16T08:52:32.562Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-16T08:52:32.562Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: tag-1
                      description: A new Tag
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - Tag
      summary: Update a single Tag
      operationId: tagUpdate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: tagId
          in: path
          description: The ID of the Tag on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object containing the new properties for the Tag to update
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                          type: object
                          properties:
                            id:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity
                                  readOnly: true
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Scope containing the Entity
                                  readOnly: true
                            createdOn:
                              description: The date and time when this entity was created
                              type: string
                              format: date-time
                              readOnly: true
                            createdBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who created this Entity
                                  readOnly: true
                        - description: An Entity that also supports edits and versioning
                          type: object
                          properties:
                            modifiedOn:
                              description: The date and time when this entity was modified
                              type: string
                              format: date-time
                              readOnly: true
                            modifiedBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who modified this Entity
                                  readOnly: true
                            optlock:
                              description: |
                                The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                              type: integer
                    - description: An UpdatableEntity that also has a name and a description
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                - type: object
                  example:
                    type: tag
                    id: FJ6-FLuIcok
                    scopeId: AQ
                    createdOn: '2019-09-16T08:52:32.562Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-16T08:52:32.562Z'
                    modifiedBy: AQ
                    optlock: 1
                    name: tag-1
                    description: A new Tag
            example:
              optlock: 1
              name: new-tag
              description: A new Description for a new Tag
        required: true
      responses:
        '200':
          description: The details of the updated Tag
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - type: object
                    example:
                      type: tag
                      id: FJ6-FLuIcok
                      scopeId: AQ
                      createdOn: '2019-09-16T08:52:32.562Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-16T08:52:32.562Z'
                      modifiedBy: AQ
                      optlock: 1
                      name: tag-1
                      description: A new Tag
              example:
                type: tag
                id: FJ6-FLuIcok
                scopeId: AQ
                createdOn: '2019-09-16T08:52:32.562Z'
                createdBy: AQ
                modifiedOn: '2019-09-16T08:55:43.719Z'
                modifiedBy: AQ
                optlock: 2
                name: new-tag
                description: A new Description for a new Tag
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - Tag
      summary: Delete a single Tag
      operationId: tagDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: tagId
          in: path
          description: The ID of the Tag on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The Tag has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/tags/_count':
    post:
      tags:
        - Tag
      summary: Count the Tags
      operationId: tagCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/tags/_query':
    post:
      tags:
        - Tag
      summary: Query the Tags
      operationId: tagQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - type: object
                              example:
                                type: tag
                                id: FJ6-FLuIcok
                                scopeId: AQ
                                createdOn: '2019-09-16T08:52:32.562Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-16T08:52:32.562Z'
                                modifiedBy: AQ
                                optlock: 1
                                name: tag-1
                                description: A new Tag
                    example:
                      type: tagListResult
                      limitExceeded: false
                      size: 1
                      items:
                        - type: tag
                          id: FJ6-FLuIcok
                          scopeId: AQ
                          createdOn: '2019-09-16T08:52:32.562Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-16T08:52:32.562Z'
                          modifiedBy: AQ
                          optlock: 1
                          name: tag-1
                          description: A new Tag
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/users':
    get:
      tags:
        - User
      summary: Get all the Users
      operationId: userList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: name
          in: query
          description: The user name to filter results
          schema:
            type: string
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Users available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - allOf:
                                - allOf:
                                    - allOf:
                                        - description: An object that contains the informations needed to create an Entity
                                          type: object
                                        - description: An object that contains the informations needed to create an Updatable Entity
                                          type: object
                                    - description: An object that contains the informations needed to create a Named Entity
                                      type: object
                                      properties:
                                        name:
                                          description: The name of the Entity
                                          type: string
                                        description:
                                          description: The description of the Entity
                                          type: string
                                      required:
                                        - name
                                - type: object
                                  properties:
                                    status:
                                      type: string
                                      enum:
                                        - ENABLED
                                        - DISABLED
                                    displayName:
                                      type: string
                                    headPortrait:
                                      type: string
                                    email:
                                      type: string
                                      format: email
                                    phoneNumber:
                                      type: string
                                    userType:
                                      type: string
                                      enum:
                                        - DEVICE
                                        - INTERNAL
                                        - EXTERNAL
                                    externalId:
                                      type: string
                                    expirationDate:
                                      type: string
                                      format: date-time
                                  example:
                                    name: admin
                                    status: ENABLED
                                    displayName: Donald Duck
                                    email: admin@izhiju.cn
                                    phoneNumber: '15997988498'
                                    userType: INTERNAL
                                    expirationDate: '2019-31-12T00:00:00.000Z'
                                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                            - type: object
                              example:
                                type: user
                                id: AQ
                                scopeId: AQ
                                createdOn: '2019-09-10T15:08:54.781Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-10T15:08:54.781Z'
                                modifiedBy: AQ
                                optlock: 0
                                name: admin
                                displayName: Sysadmin
                                headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                                email: kapua-sys@eclipse.org
                                phoneNumber: +1 555 123 4567
                                status: ENABLED
                                userType: INTERNAL
                    example:
                      type: userListResult
                      limitExceeded: false
                      size: 2
                      users:
                        - type: user
                          id: AQ
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:54.781Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:54.781Z'
                          modifiedBy: AQ
                          optlock: 0
                          name: kapua-sys
                          displayName: Kapua Sysadmin
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                          email: kapua-sys@eclipse.org
                          phoneNumber: +1 555 123 4567
                          status: ENABLED
                          userType: INTERNAL
                        - type: user
                          id: Ag
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:54.781Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:54.781Z'
                          modifiedBy: AQ
                          optlock: 0
                          name: kapua-broker
                          displayName: Kapua Broker
                          email: kapua-broker@eclipse.org
                          phoneNumber: +1 555 123 4567
                          status: ENABLED
                          userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - User
      summary: Create a new User
      operationId: userCreate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object containing the properties for the new User to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: An object that contains the informations needed to create an Entity
                          type: object
                        - description: An object that contains the informations needed to create an Updatable Entity
                          type: object
                    - description: An object that contains the informations needed to create a Named Entity
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                      required:
                        - name
                - type: object
                  properties:
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    displayName:
                      type: string
                    headPortrait:
                      type: string
                    email:
                      type: string
                      format: email
                    phoneNumber:
                      type: string
                    userType:
                      type: string
                      enum:
                        - DEVICE
                        - INTERNAL
                        - EXTERNAL
                    externalId:
                      type: string
                    expirationDate:
                      type: string
                      format: date-time
                  example:
                    name: admin
                    status: ENABLED
                    displayName: Donald Duck
                    email: admin@izhiju.cn
                    phoneNumber: '15997988498'
                    userType: INTERNAL
                    expirationDate: '2019-31-12T00:00:00.000Z'
                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
            examples:
              minimal:
                description: Create an User providing only the required information (name)
                value:
                  name: new-user
              complete:
                description: Create an User providing all the information
                value:
                  allOf:
                    - allOf:
                        - allOf:
                            - description: An object that contains the informations needed to create an Entity
                              type: object
                            - description: An object that contains the informations needed to create an Updatable Entity
                              type: object
                        - description: An object that contains the informations needed to create a Named Entity
                          type: object
                          properties:
                            name:
                              description: The name of the Entity
                              type: string
                            description:
                              description: The description of the Entity
                              type: string
                          required:
                            - name
                    - type: object
                      properties:
                        status:
                          type: string
                          enum:
                            - ENABLED
                            - DISABLED
                        displayName:
                          type: string
                        headPortrait:
                          type: string
                        email:
                          type: string
                          format: email
                        phoneNumber:
                          type: string
                        userType:
                          type: string
                          enum:
                            - DEVICE
                            - INTERNAL
                            - EXTERNAL
                        externalId:
                          type: string
                        expirationDate:
                          type: string
                          format: date-time
                      example:
                        name: admin
                        status: ENABLED
                        displayName: Donald Duck
                        email: admin@izhiju.cn
                        phoneNumber: '15997988498'
                        userType: INTERNAL
                        expirationDate: '2019-31-12T00:00:00.000Z'
                        headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
        required: true
      responses:
        '201':
          description: The User that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - allOf:
                      - allOf:
                          - allOf:
                              - description: An object that contains the informations needed to create an Entity
                                type: object
                              - description: An object that contains the informations needed to create an Updatable Entity
                                type: object
                          - description: An object that contains the informations needed to create a Named Entity
                            type: object
                            properties:
                              name:
                                description: The name of the Entity
                                type: string
                              description:
                                description: The description of the Entity
                                type: string
                            required:
                              - name
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - ENABLED
                              - DISABLED
                          displayName:
                            type: string
                          headPortrait:
                            type: string
                          email:
                            type: string
                            format: email
                          phoneNumber:
                            type: string
                          userType:
                            type: string
                            enum:
                              - DEVICE
                              - INTERNAL
                              - EXTERNAL
                          externalId:
                            type: string
                          expirationDate:
                            type: string
                            format: date-time
                        example:
                          name: admin
                          status: ENABLED
                          displayName: Donald Duck
                          email: admin@izhiju.cn
                          phoneNumber: '15997988498'
                          userType: INTERNAL
                          expirationDate: '2019-31-12T00:00:00.000Z'
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                  - type: object
                    example:
                      type: user
                      id: AQ
                      scopeId: AQ
                      createdOn: '2019-09-10T15:08:54.781Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-10T15:08:54.781Z'
                      modifiedBy: AQ
                      optlock: 0
                      name: admin
                      displayName: Sysadmin
                      headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                      email: kapua-sys@eclipse.org
                      phoneNumber: +1 555 123 4567
                      status: ENABLED
                      userType: INTERNAL
              examples:
                minimal:
                  description: An User created with only the required information (username)
                  value:
                    type: user
                    id: TvnAZL6Zzu0
                    scopeId: AQ
                    createdOn: '2019-09-11T09:07:09.853Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-11T09:07:09.853Z'
                    modifiedBy: AQ
                    optlock: 1
                    name: new-user
                    status: ENABLED
                    userType: INTERNAL
                complete:
                  description: An User created providing all the information
                  value:
                    type: user
                    id: AQ
                    scopeId: AQ
                    createdOn: '2019-09-10T15:08:54.781Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-10T15:08:54.781Z'
                    modifiedBy: AQ
                    optlock: 0
                    name: admin
                    displayName: Sysadmin
                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                    email: kapua-sys@eclipse.org
                    phoneNumber: +1 555 123 4567
                    status: ENABLED
                    userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/users/{userId}':
    get:
      tags:
        - User
      summary: Get a single User
      operationId: userGet
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: userId
          in: path
          description: The ID of the User on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '200':
          description: The details of the desired User
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - allOf:
                      - allOf:
                          - allOf:
                              - description: An object that contains the informations needed to create an Entity
                                type: object
                              - description: An object that contains the informations needed to create an Updatable Entity
                                type: object
                          - description: An object that contains the informations needed to create a Named Entity
                            type: object
                            properties:
                              name:
                                description: The name of the Entity
                                type: string
                              description:
                                description: The description of the Entity
                                type: string
                            required:
                              - name
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - ENABLED
                              - DISABLED
                          displayName:
                            type: string
                          headPortrait:
                            type: string
                          email:
                            type: string
                            format: email
                          phoneNumber:
                            type: string
                          userType:
                            type: string
                            enum:
                              - DEVICE
                              - INTERNAL
                              - EXTERNAL
                          externalId:
                            type: string
                          expirationDate:
                            type: string
                            format: date-time
                        example:
                          name: admin
                          status: ENABLED
                          displayName: Donald Duck
                          email: admin@izhiju.cn
                          phoneNumber: '15997988498'
                          userType: INTERNAL
                          expirationDate: '2019-31-12T00:00:00.000Z'
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                  - type: object
                    example:
                      type: user
                      id: AQ
                      scopeId: AQ
                      createdOn: '2019-09-10T15:08:54.781Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-10T15:08:54.781Z'
                      modifiedBy: AQ
                      optlock: 0
                      name: admin
                      displayName: Sysadmin
                      headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                      email: kapua-sys@eclipse.org
                      phoneNumber: +1 555 123 4567
                      status: ENABLED
                      userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - User
      summary: Update a single User
      operationId: userUpdate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: userId
          in: path
          description: The ID of the User on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      requestBody:
        description: An object containing the new properties for the User to update
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                          type: object
                          properties:
                            id:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity
                                  readOnly: true
                            scopeId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Scope containing the Entity
                                  readOnly: true
                            createdOn:
                              description: The date and time when this entity was created
                              type: string
                              format: date-time
                              readOnly: true
                            createdBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who created this Entity
                                  readOnly: true
                        - description: An Entity that also supports edits and versioning
                          type: object
                          properties:
                            modifiedOn:
                              description: The date and time when this entity was modified
                              type: string
                              format: date-time
                              readOnly: true
                            modifiedBy:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Entity who modified this Entity
                                  readOnly: true
                            optlock:
                              description: |
                                The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                              type: integer
                    - description: An UpdatableEntity that also has a name and a description
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                - allOf:
                    - allOf:
                        - allOf:
                            - description: An object that contains the informations needed to create an Entity
                              type: object
                            - description: An object that contains the informations needed to create an Updatable Entity
                              type: object
                        - description: An object that contains the informations needed to create a Named Entity
                          type: object
                          properties:
                            name:
                              description: The name of the Entity
                              type: string
                            description:
                              description: The description of the Entity
                              type: string
                          required:
                            - name
                    - type: object
                      properties:
                        status:
                          type: string
                          enum:
                            - ENABLED
                            - DISABLED
                        displayName:
                          type: string
                        headPortrait:
                          type: string
                        email:
                          type: string
                          format: email
                        phoneNumber:
                          type: string
                        userType:
                          type: string
                          enum:
                            - DEVICE
                            - INTERNAL
                            - EXTERNAL
                        externalId:
                          type: string
                        expirationDate:
                          type: string
                          format: date-time
                      example:
                        name: admin
                        status: ENABLED
                        displayName: Donald Duck
                        email: admin@izhiju.cn
                        phoneNumber: '15997988498'
                        userType: INTERNAL
                        expirationDate: '2019-31-12T00:00:00.000Z'
                        headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                - type: object
                  example:
                    type: user
                    id: AQ
                    scopeId: AQ
                    createdOn: '2019-09-10T15:08:54.781Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-10T15:08:54.781Z'
                    modifiedBy: AQ
                    optlock: 0
                    name: admin
                    displayName: Sysadmin
                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                    email: kapua-sys@eclipse.org
                    phoneNumber: +1 555 123 4567
                    status: ENABLED
                    userType: INTERNAL
            example:
              type: user
              optlock: 2
              name: donald-duck
              displayName: Donald Duck
              email: donald.duck@duckburg.org
              phoneNumber: +1 (555) 816 1851
              status: ENABLED
              userType: INTERNAL
        required: true
      responses:
        '200':
          description: The details of the updated User
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - allOf:
                      - allOf:
                          - allOf:
                              - description: An object that contains the informations needed to create an Entity
                                type: object
                              - description: An object that contains the informations needed to create an Updatable Entity
                                type: object
                          - description: An object that contains the informations needed to create a Named Entity
                            type: object
                            properties:
                              name:
                                description: The name of the Entity
                                type: string
                              description:
                                description: The description of the Entity
                                type: string
                            required:
                              - name
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - ENABLED
                              - DISABLED
                          displayName:
                            type: string
                          headPortrait:
                            type: string
                          email:
                            type: string
                            format: email
                          phoneNumber:
                            type: string
                          userType:
                            type: string
                            enum:
                              - DEVICE
                              - INTERNAL
                              - EXTERNAL
                          externalId:
                            type: string
                          expirationDate:
                            type: string
                            format: date-time
                        example:
                          name: admin
                          status: ENABLED
                          displayName: Donald Duck
                          email: admin@izhiju.cn
                          phoneNumber: '15997988498'
                          userType: INTERNAL
                          expirationDate: '2019-31-12T00:00:00.000Z'
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                  - type: object
                    example:
                      type: user
                      id: AQ
                      scopeId: AQ
                      createdOn: '2019-09-10T15:08:54.781Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-10T15:08:54.781Z'
                      modifiedBy: AQ
                      optlock: 0
                      name: admin
                      displayName: Sysadmin
                      headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                      email: kapua-sys@eclipse.org
                      phoneNumber: +1 555 123 4567
                      status: ENABLED
                      userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - User
      summary: Delete a single User
      operationId: userDelete
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: userId
          in: path
          description: The ID of the User on which to perform the operation
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          required: true
      responses:
        '204':
          description: The User has been deleted
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/users/_count':
    post:
      tags:
        - User
      summary: Count the Users
      operationId: userCount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/users/_query':
    post:
      tags:
        - User
      summary: Query the Users
      operationId: userQuery
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The result of the query
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          allOf:
                            - allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - description: An UpdatableEntity that also has a name and a description
                                  type: object
                                  properties:
                                    name:
                                      description: The name of the Entity
                                      type: string
                                    description:
                                      description: The description of the Entity
                                      type: string
                            - allOf:
                                - allOf:
                                    - allOf:
                                        - description: An object that contains the informations needed to create an Entity
                                          type: object
                                        - description: An object that contains the informations needed to create an Updatable Entity
                                          type: object
                                    - description: An object that contains the informations needed to create a Named Entity
                                      type: object
                                      properties:
                                        name:
                                          description: The name of the Entity
                                          type: string
                                        description:
                                          description: The description of the Entity
                                          type: string
                                      required:
                                        - name
                                - type: object
                                  properties:
                                    status:
                                      type: string
                                      enum:
                                        - ENABLED
                                        - DISABLED
                                    displayName:
                                      type: string
                                    headPortrait:
                                      type: string
                                    email:
                                      type: string
                                      format: email
                                    phoneNumber:
                                      type: string
                                    userType:
                                      type: string
                                      enum:
                                        - DEVICE
                                        - INTERNAL
                                        - EXTERNAL
                                    externalId:
                                      type: string
                                    expirationDate:
                                      type: string
                                      format: date-time
                                  example:
                                    name: admin
                                    status: ENABLED
                                    displayName: Donald Duck
                                    email: admin@izhiju.cn
                                    phoneNumber: '15997988498'
                                    userType: INTERNAL
                                    expirationDate: '2019-31-12T00:00:00.000Z'
                                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                            - type: object
                              example:
                                type: user
                                id: AQ
                                scopeId: AQ
                                createdOn: '2019-09-10T15:08:54.781Z'
                                createdBy: AQ
                                modifiedOn: '2019-09-10T15:08:54.781Z'
                                modifiedBy: AQ
                                optlock: 0
                                name: admin
                                displayName: Sysadmin
                                headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                                email: kapua-sys@eclipse.org
                                phoneNumber: +1 555 123 4567
                                status: ENABLED
                                userType: INTERNAL
                    example:
                      type: userListResult
                      limitExceeded: false
                      size: 2
                      users:
                        - type: user
                          id: AQ
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:54.781Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:54.781Z'
                          modifiedBy: AQ
                          optlock: 0
                          name: kapua-sys
                          displayName: Kapua Sysadmin
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                          email: kapua-sys@eclipse.org
                          phoneNumber: +1 555 123 4567
                          status: ENABLED
                          userType: INTERNAL
                        - type: user
                          id: Ag
                          scopeId: AQ
                          createdOn: '2019-09-10T15:08:54.781Z'
                          createdBy: AQ
                          modifiedOn: '2019-09-10T15:08:54.781Z'
                          modifiedBy: AQ
                          optlock: 0
                          name: kapua-broker
                          displayName: Kapua Broker
                          email: kapua-broker@eclipse.org
                          phoneNumber: +1 555 123 4567
                          status: ENABLED
                          userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/loginaction/check':
    get:
      tags:
        - ZJ-Login actions
      summary: Check the user if exist
      operationId: userCheck
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: username
          in: query
          description: The user name to check
          schema:
            type: string
      responses:
        '200':
          description: 用户是否存在的结果
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  code:
                    type: string
                    description: An human readable error code that can be used to
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/loginaction/register':
    post:
      tags:
        - ZJ-Login actions
      summary: 用户注册，通过用户名和密码
      operationId: register
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: password
          in: query
          description: The user password you want set.
          schema:
            type: string
      requestBody:
        description: An object containing the properties for the new User to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: An object that contains the informations needed to create an Entity
                          type: object
                        - description: An object that contains the informations needed to create an Updatable Entity
                          type: object
                    - description: An object that contains the informations needed to create a Named Entity
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                      required:
                        - name
                - type: object
                  properties:
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    displayName:
                      type: string
                    headPortrait:
                      type: string
                    email:
                      type: string
                      format: email
                    phoneNumber:
                      type: string
                    userType:
                      type: string
                      enum:
                        - DEVICE
                        - INTERNAL
                        - EXTERNAL
                    externalId:
                      type: string
                    expirationDate:
                      type: string
                      format: date-time
                  example:
                    name: admin
                    status: ENABLED
                    displayName: Donald Duck
                    email: admin@izhiju.cn
                    phoneNumber: '15997988498'
                    userType: INTERNAL
                    expirationDate: '2019-31-12T00:00:00.000Z'
                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
            examples:
              minimal:
                description: Create an User providing only the required information (name)
                value:
                  name: username
                  phoneNumber: '15997988498'
              complete:
                description: Create an User providing all the information
                value:
                  name: admin
                  status: ENABLED
                  displayName: Donald Duck
                  email: admin@izhiju.cn
                  phoneNumber: '15997988498'
                  userType: INTERNAL
                  expirationDate: '2019-31-12T00:00:00.000Z'
                  headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
      responses:
        '200':
          description: The User that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - allOf:
                      - allOf:
                          - allOf:
                              - description: An object that contains the informations needed to create an Entity
                                type: object
                              - description: An object that contains the informations needed to create an Updatable Entity
                                type: object
                          - description: An object that contains the informations needed to create a Named Entity
                            type: object
                            properties:
                              name:
                                description: The name of the Entity
                                type: string
                              description:
                                description: The description of the Entity
                                type: string
                            required:
                              - name
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - ENABLED
                              - DISABLED
                          displayName:
                            type: string
                          headPortrait:
                            type: string
                          email:
                            type: string
                            format: email
                          phoneNumber:
                            type: string
                          userType:
                            type: string
                            enum:
                              - DEVICE
                              - INTERNAL
                              - EXTERNAL
                          externalId:
                            type: string
                          expirationDate:
                            type: string
                            format: date-time
                        example:
                          name: admin
                          status: ENABLED
                          displayName: Donald Duck
                          email: admin@izhiju.cn
                          phoneNumber: '15997988498'
                          userType: INTERNAL
                          expirationDate: '2019-31-12T00:00:00.000Z'
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                  - type: object
                    example:
                      type: user
                      id: AQ
                      scopeId: AQ
                      createdOn: '2019-09-10T15:08:54.781Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-10T15:08:54.781Z'
                      modifiedBy: AQ
                      optlock: 0
                      name: admin
                      displayName: Sysadmin
                      headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                      email: kapua-sys@eclipse.org
                      phoneNumber: +1 555 123 4567
                      status: ENABLED
                      userType: INTERNAL
              examples:
                minimal:
                  description: An User created with only the required information (username)
                  value:
                    type: user
                    id: TvnAZL6Zzu0
                    scopeId: AQ
                    createdOn: '2019-09-11T09:07:09.853Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-11T09:07:09.853Z'
                    modifiedBy: AQ
                    optlock: 1
                    name: new-user
                    status: ENABLED
                    userType: INTERNAL
                complete:
                  description: An User created providing all the information
                  value:
                    type: user
                    id: AQ
                    scopeId: AQ
                    createdOn: '2019-09-10T15:08:54.781Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-10T15:08:54.781Z'
                    modifiedBy: AQ
                    optlock: 0
                    name: admin
                    displayName: Sysadmin
                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                    email: kapua-sys@eclipse.org
                    phoneNumber: +1 555 123 4567
                    status: ENABLED
                    userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/loginaction/resetpwd':
    put:
      tags:
        - ZJ-Login actions
      summary: Reset the user's password
      operationId: passwordReset
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: username
          in: query
          description: The user name to check
          schema:
            type: string
        - name: newPassword
          in: query
          description: the new password of the user.
          schema:
            type: string
        - name: deviceId
          in: query
          description: 设备id号
          schema:
            type: string
      responses:
        '200':
          description: 密码是否修改成功。
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  code:
                    type: string
                    description: An human readable error code that can be used to
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/loginaction/user/userinfo':
    get:
      tags:
        - ZJ-Login actions
      summary: 获取当前登陆的用户信息
      operationId: userInfo
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      responses:
        '200':
          description: The User that has just been login
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - allOf:
                      - allOf:
                          - allOf:
                              - description: An object that contains the informations needed to create an Entity
                                type: object
                              - description: An object that contains the informations needed to create an Updatable Entity
                                type: object
                          - description: An object that contains the informations needed to create a Named Entity
                            type: object
                            properties:
                              name:
                                description: The name of the Entity
                                type: string
                              description:
                                description: The description of the Entity
                                type: string
                            required:
                              - name
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - ENABLED
                              - DISABLED
                          displayName:
                            type: string
                          headPortrait:
                            type: string
                          email:
                            type: string
                            format: email
                          phoneNumber:
                            type: string
                          userType:
                            type: string
                            enum:
                              - DEVICE
                              - INTERNAL
                              - EXTERNAL
                          externalId:
                            type: string
                          expirationDate:
                            type: string
                            format: date-time
                        example:
                          name: admin
                          status: ENABLED
                          displayName: Donald Duck
                          email: admin@izhiju.cn
                          phoneNumber: '15997988498'
                          userType: INTERNAL
                          expirationDate: '2019-31-12T00:00:00.000Z'
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                  - type: object
                    example:
                      type: user
                      id: AQ
                      scopeId: AQ
                      createdOn: '2019-09-10T15:08:54.781Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-10T15:08:54.781Z'
                      modifiedBy: AQ
                      optlock: 0
                      name: admin
                      displayName: Sysadmin
                      headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                      email: kapua-sys@eclipse.org
                      phoneNumber: +1 555 123 4567
                      status: ENABLED
                      userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - ZJ-Login actions
      summary: 更新当前登陆的用户信息
      operationId: userUpdate
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
      requestBody:
        description: An object containing the properties for the new User to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: An object that contains the informations needed to create an Entity
                          type: object
                        - description: An object that contains the informations needed to create an Updatable Entity
                          type: object
                    - description: An object that contains the informations needed to create a Named Entity
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                      required:
                        - name
                - type: object
                  properties:
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    displayName:
                      type: string
                    headPortrait:
                      type: string
                    email:
                      type: string
                      format: email
                    phoneNumber:
                      type: string
                    userType:
                      type: string
                      enum:
                        - DEVICE
                        - INTERNAL
                        - EXTERNAL
                    externalId:
                      type: string
                    expirationDate:
                      type: string
                      format: date-time
                  example:
                    name: admin
                    status: ENABLED
                    displayName: Donald Duck
                    email: admin@izhiju.cn
                    phoneNumber: '15997988498'
                    userType: INTERNAL
                    expirationDate: '2019-31-12T00:00:00.000Z'
                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
            examples:
              minimal:
                description: Create an User providing only the required information (name)
                value:
                  name: new-user
              complete:
                description: Create an User providing all the information
                value:
                  name: admin
                  status: ENABLED
                  displayName: Donald Duck
                  email: admin@izhiju.cn
                  phoneNumber: '15997988498'
                  userType: INTERNAL
                  expirationDate: '2019-31-12T00:00:00.000Z'
                  headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
        required: true
      responses:
        '200':
          description: The User that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - allOf:
                      - allOf:
                          - allOf:
                              - description: An object that contains the informations needed to create an Entity
                                type: object
                              - description: An object that contains the informations needed to create an Updatable Entity
                                type: object
                          - description: An object that contains the informations needed to create a Named Entity
                            type: object
                            properties:
                              name:
                                description: The name of the Entity
                                type: string
                              description:
                                description: The description of the Entity
                                type: string
                            required:
                              - name
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - ENABLED
                              - DISABLED
                          displayName:
                            type: string
                          headPortrait:
                            type: string
                          email:
                            type: string
                            format: email
                          phoneNumber:
                            type: string
                          userType:
                            type: string
                            enum:
                              - DEVICE
                              - INTERNAL
                              - EXTERNAL
                          externalId:
                            type: string
                          expirationDate:
                            type: string
                            format: date-time
                        example:
                          name: admin
                          status: ENABLED
                          displayName: Donald Duck
                          email: admin@izhiju.cn
                          phoneNumber: '15997988498'
                          userType: INTERNAL
                          expirationDate: '2019-31-12T00:00:00.000Z'
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                  - type: object
                    example:
                      type: user
                      id: AQ
                      scopeId: AQ
                      createdOn: '2019-09-10T15:08:54.781Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-10T15:08:54.781Z'
                      modifiedBy: AQ
                      optlock: 0
                      name: admin
                      displayName: Sysadmin
                      headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                      email: kapua-sys@eclipse.org
                      phoneNumber: +1 555 123 4567
                      status: ENABLED
                      userType: INTERNAL
              examples:
                minimal:
                  description: An User created with only the required information (username)
                  value:
                    type: user
                    id: TvnAZL6Zzu0
                    scopeId: AQ
                    createdOn: '2019-09-11T09:07:09.853Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-11T09:07:09.853Z'
                    modifiedBy: AQ
                    optlock: 1
                    name: new-user
                    status: ENABLED
                    userType: INTERNAL
                complete:
                  description: An User created providing all the information
                  value:
                    type: user
                    id: AQ
                    scopeId: AQ
                    createdOn: '2019-09-10T15:08:54.781Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-10T15:08:54.781Z'
                    modifiedBy: AQ
                    optlock: 0
                    name: admin
                    displayName: Sysadmin
                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                    email: kapua-sys@eclipse.org
                    phoneNumber: +1 555 123 4567
                    status: ENABLED
                    userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/loginaction/user/password':
    put:
      tags:
        - ZJ-Login actions
      summary: 更新用户密码
      operationId: userPassword
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: oldPassword
          in: query
          description: 输入旧密码
          schema:
            type: string
        - name: newPassword
          in: query
          description: the new password of the user.
          schema:
            type: string
      responses:
        '200':
          description: The User that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - allOf:
                      - allOf:
                          - allOf:
                              - description: An object that contains the informations needed to create an Entity
                                type: object
                              - description: An object that contains the informations needed to create an Updatable Entity
                                type: object
                          - description: An object that contains the informations needed to create a Named Entity
                            type: object
                            properties:
                              name:
                                description: The name of the Entity
                                type: string
                              description:
                                description: The description of the Entity
                                type: string
                            required:
                              - name
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - ENABLED
                              - DISABLED
                          displayName:
                            type: string
                          headPortrait:
                            type: string
                          email:
                            type: string
                            format: email
                          phoneNumber:
                            type: string
                          userType:
                            type: string
                            enum:
                              - DEVICE
                              - INTERNAL
                              - EXTERNAL
                          externalId:
                            type: string
                          expirationDate:
                            type: string
                            format: date-time
                        example:
                          name: admin
                          status: ENABLED
                          displayName: Donald Duck
                          email: admin@izhiju.cn
                          phoneNumber: '15997988498'
                          userType: INTERNAL
                          expirationDate: '2019-31-12T00:00:00.000Z'
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                  - type: object
                    example:
                      type: user
                      id: AQ
                      scopeId: AQ
                      createdOn: '2019-09-10T15:08:54.781Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-10T15:08:54.781Z'
                      modifiedBy: AQ
                      optlock: 0
                      name: admin
                      displayName: Sysadmin
                      headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                      email: kapua-sys@eclipse.org
                      phoneNumber: +1 555 123 4567
                      status: ENABLED
                      userType: INTERNAL
              examples:
                minimal:
                  description: An User created with only the required information (username)
                  value:
                    type: user
                    id: TvnAZL6Zzu0
                    scopeId: AQ
                    createdOn: '2019-09-11T09:07:09.853Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-11T09:07:09.853Z'
                    modifiedBy: AQ
                    optlock: 1
                    name: new-user
                    status: ENABLED
                    userType: INTERNAL
                complete:
                  description: An User created providing all the information
                  value:
                    type: user
                    id: AQ
                    scopeId: AQ
                    createdOn: '2019-09-10T15:08:54.781Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-10T15:08:54.781Z'
                    modifiedBy: AQ
                    optlock: 0
                    name: admin
                    displayName: Sysadmin
                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                    email: kapua-sys@eclipse.org
                    phoneNumber: +1 555 123 4567
                    status: ENABLED
                    userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/loginaction/regbymobile':
    post:
      tags:
        - ZJ-Login actions
      summary: registry by mobile
      description: Returns the AccessToken specified by the  path parameter.
      operationId: regbymobile
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: password
          in: query
          description: 'The password of the requested '
          required: true
          schema:
            type: string
        - name: smscode
          in: query
          description: 'The smscode of the phoneNumber '
          required: true
          schema:
            type: string
      requestBody:
        description: An object containing the properties for the new User to be created
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - allOf:
                        - description: An object that contains the informations needed to create an Entity
                          type: object
                        - description: An object that contains the informations needed to create an Updatable Entity
                          type: object
                    - description: An object that contains the informations needed to create a Named Entity
                      type: object
                      properties:
                        name:
                          description: The name of the Entity
                          type: string
                        description:
                          description: The description of the Entity
                          type: string
                      required:
                        - name
                - type: object
                  properties:
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    displayName:
                      type: string
                    headPortrait:
                      type: string
                    email:
                      type: string
                      format: email
                    phoneNumber:
                      type: string
                    userType:
                      type: string
                      enum:
                        - DEVICE
                        - INTERNAL
                        - EXTERNAL
                    externalId:
                      type: string
                    expirationDate:
                      type: string
                      format: date-time
                  example:
                    name: admin
                    status: ENABLED
                    displayName: Donald Duck
                    email: admin@izhiju.cn
                    phoneNumber: '15997988498'
                    userType: INTERNAL
                    expirationDate: '2019-31-12T00:00:00.000Z'
                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
            examples:
              minimal:
                description: Create an User providing only the required information (name)
                value:
                  name: 15997988498
                  phoneNumber: 15997988498
              complete:
                description: Create an User providing all the information
                value:
                  name: admin
                  status: ENABLED
                  displayName: Donald Duck
                  email: admin@izhiju.cn
                  phoneNumber: '15997988498'
                  userType: INTERNAL
                  expirationDate: '2019-31-12T00:00:00.000Z'
                  headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
        required: true
      responses:
        '200':
          description: The User that has just been created
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - description: An UpdatableEntity that also has a name and a description
                        type: object
                        properties:
                          name:
                            description: The name of the Entity
                            type: string
                          description:
                            description: The description of the Entity
                            type: string
                  - allOf:
                      - allOf:
                          - allOf:
                              - description: An object that contains the informations needed to create an Entity
                                type: object
                              - description: An object that contains the informations needed to create an Updatable Entity
                                type: object
                          - description: An object that contains the informations needed to create a Named Entity
                            type: object
                            properties:
                              name:
                                description: The name of the Entity
                                type: string
                              description:
                                description: The description of the Entity
                                type: string
                            required:
                              - name
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - ENABLED
                              - DISABLED
                          displayName:
                            type: string
                          headPortrait:
                            type: string
                          email:
                            type: string
                            format: email
                          phoneNumber:
                            type: string
                          userType:
                            type: string
                            enum:
                              - DEVICE
                              - INTERNAL
                              - EXTERNAL
                          externalId:
                            type: string
                          expirationDate:
                            type: string
                            format: date-time
                        example:
                          name: admin
                          status: ENABLED
                          displayName: Donald Duck
                          email: admin@izhiju.cn
                          phoneNumber: '15997988498'
                          userType: INTERNAL
                          expirationDate: '2019-31-12T00:00:00.000Z'
                          headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                  - type: object
                    example:
                      type: user
                      id: AQ
                      scopeId: AQ
                      createdOn: '2019-09-10T15:08:54.781Z'
                      createdBy: AQ
                      modifiedOn: '2019-09-10T15:08:54.781Z'
                      modifiedBy: AQ
                      optlock: 0
                      name: admin
                      displayName: Sysadmin
                      headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                      email: kapua-sys@eclipse.org
                      phoneNumber: +1 555 123 4567
                      status: ENABLED
                      userType: INTERNAL
              examples:
                minimal:
                  description: An User created with only the required information (username)
                  value:
                    type: user
                    id: TvnAZL6Zzu0
                    scopeId: AQ
                    createdOn: '2019-09-11T09:07:09.853Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-11T09:07:09.853Z'
                    modifiedBy: AQ
                    optlock: 1
                    name: new-user
                    status: ENABLED
                    userType: INTERNAL
                complete:
                  description: An User created providing all the information
                  value:
                    type: user
                    id: AQ
                    scopeId: AQ
                    createdOn: '2019-09-10T15:08:54.781Z'
                    createdBy: AQ
                    modifiedOn: '2019-09-10T15:08:54.781Z'
                    modifiedBy: AQ
                    optlock: 0
                    name: admin
                    displayName: Sysadmin
                    headPortrait: 'https://dev.izhiju.cn/tenant/zhiju/site/assets/images/logo.png'
                    email: kapua-sys@eclipse.org
                    phoneNumber: +1 555 123 4567
                    status: ENABLED
                    userType: INTERNAL
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/loginaction/{phoneNumber}/{key}':
    get:
      tags:
        - ZJ-Login actions
      summary: get the yzm
      description: Returns the User specified by the  path parameter.
      operationId: getmobilecode
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: phoneNumber
          in: path
          description: 'The phoneNumber of the requested '
          required: true
          schema:
            type: string
        - name: key
          in: path
          description: 'The key of the requested '
          required: true
          schema:
            type: string
        - name: product
          in: query
          description: 'The product of the requested '
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            text/plain:
              schema:
                type: string
  '/{scopeId}/loginaction/totalcount/{phoneNumber}':
    get:
      tags:
        - ZJ-Login actions
      operationId: phoneNumbercount
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: phoneNumber
          in: path
          description: 'The phoneNumber of the requested '
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          headers: {}
          content:
            text/plain:
              schema:
                type: string
  /weathers/location:
    get:
      tags:
        - Zj-weathers
      summary: Get weathers by location
      operationId: getWeathersByLocation
      parameters:
        - name: countryCode
          in: query
          description: 'The country code of the requested Weather,cn is china, jp is Japen ,us is america'
          schema:
            type: string
        - name: city
          in: query
          required: true
          description: The city of the requested Weather
          schema:
            type: string
        - name: unit
          in: query
          description: the unit of temp (c or f)
          schema:
            type: string
        - name: language
          in: query
          description: 'The city''s language, en is english,zh is chinese'
          schema:
            type: string
        - name: deviceId
          in: query
          required: true
          description: 'The request device id, mac address or sn'
          schema:
            type: string
      responses:
        '200':
          description: The weather of the city.
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      city:
                        type: string
                      country:
                        type: string
                      items:
                        type: array
                        xml:
                          wrapped: true
                        items:
                          xml:
                            name: item
                          type: object
                          description: one day of the weather.
                          properties:
                            day:
                              type: string
                              xml:
                                attribute: true
                            date:
                              type: string
                              format: date-time
                              xml:
                                attribute: true
                            low:
                              type: integer
                              format: int32
                              xml:
                                attribute: true
                            high:
                              type: integer
                              format: int32
                              xml:
                                attribute: true
                            text:
                              type: string
                              xml:
                                attribute: true
                            code:
                              type: integer
                              format: int32
                              xml:
                                attribute: true
                      direction:
                        type: string
                      text:
                        type: string
                      day:
                        type: string
                      lowTemp:
                        type: string
                      region:
                        type: string
                      highTemp:
                        type: string
                      humidity:
                        type: string
                      windSpeed:
                        type: string
                      pubdate:
                        type: string
                      cityChinese:
                        type: string
                      nowTemp:
                        type: string
                      nowText:
                        type: string
                      nowWeatherCode:
                        type: string
                      date:
                        type: string
                      type:
                        type: string
                    xml:
                      name: zhijuWeather
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  /geocitys/city/byname:
    get:
      tags:
        - ZJ-GeoCity
      summary: Get citys by name
      description: Get citys by name.
      operationId: Get citys by name
      parameters:
        - name: cityname
          in: query
          description: The city name.
          required: false
          schema:
            type: string
        - name: locate
          in: query
          description: 'The language locate of the requested default is en (en,zh).'
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  geoNameId:
                    type: string
                  subdivision1Name:
                    type: string
                  cityName:
                    type: string
                  countryName:
                    type: string
                  localeCode:
                    type: string
                  continentCode:
                    type: string
                  continentName:
                    type: string
                  countryIsoCode:
                    type: string
                  subdivision2Name:
                    type: string
                  metroCode:
                    type: string
                  subdivision1IsoCode:
                    type: string
                  subdivision2IsoCode:
                    type: string
                  timeZone:
                    type: string
                  type:
                    type: string
                xml:
                  name: GeoCity
            application/xml:
              schema:
                type: object
                properties:
                  geoNameId:
                    type: string
                  subdivision1Name:
                    type: string
                  cityName:
                    type: string
                  countryName:
                    type: string
                  localeCode:
                    type: string
                  continentCode:
                    type: string
                  continentName:
                    type: string
                  countryIsoCode:
                    type: string
                  subdivision2Name:
                    type: string
                  metroCode:
                    type: string
                  subdivision1IsoCode:
                    type: string
                  subdivision2IsoCode:
                    type: string
                  timeZone:
                    type: string
                  type:
                    type: string
                xml:
                  name: GeoCity
  /geocitys/countrys:
    get:
      tags:
        - ZJ-GeoCity
      summary: Gets all countrys of the world
      description: Gets all countrys of the world
      operationId: Gets all countrys of the world
      parameters:
        - name: locate
          in: query
          description: 'The language locate of the requested default is en (en,zh).'
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        geoNameId:
                          type: string
                        subdivision1Name:
                          type: string
                        cityName:
                          type: string
                        countryName:
                          type: string
                        localeCode:
                          type: string
                        continentCode:
                          type: string
                        continentName:
                          type: string
                        countryIsoCode:
                          type: string
                        subdivision2Name:
                          type: string
                        metroCode:
                          type: string
                        subdivision1IsoCode:
                          type: string
                        subdivision2IsoCode:
                          type: string
                        timeZone:
                          type: string
                        type:
                          type: string
                  size:
                    type: integer
                    format: int32
                xml:
                  name: geoCityListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        geoNameId:
                          type: string
                        subdivision1Name:
                          type: string
                        cityName:
                          type: string
                        countryName:
                          type: string
                        localeCode:
                          type: string
                        continentCode:
                          type: string
                        continentName:
                          type: string
                        countryIsoCode:
                          type: string
                        subdivision2Name:
                          type: string
                        metroCode:
                          type: string
                        subdivision1IsoCode:
                          type: string
                        subdivision2IsoCode:
                          type: string
                        timeZone:
                          type: string
                        type:
                          type: string
                  size:
                    type: integer
                    format: int32
                xml:
                  name: geoCityListResult
  /geocitys/myip:
    get:
      tags:
        - ZJ-GeoCity
      summary: Gets ip address of localhost
      description: Gets ip address of localhost
      operationId: Gets ip address of localhost
      responses:
        '200':
          description: successful operation
          content:
            text/plain:
              schema:
                type: string
  /geocitys/subdivisions:
    get:
      tags:
        - ZJ-GeoCity
      summary: Gets all countrys subdivition.
      description: Gets all countrys subdivition.
      operationId: Gets all countrys subdivition.
      parameters:
        - name: countryCode
          in: query
          description: The country iso code.
          required: false
          schema:
            type: string
        - name: locate
          in: query
          description: 'The language locate of the requested default is en (en,zh).'
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        geoNameId:
                          type: string
                        subdivision1Name:
                          type: string
                        cityName:
                          type: string
                        countryName:
                          type: string
                        localeCode:
                          type: string
                        continentCode:
                          type: string
                        continentName:
                          type: string
                        countryIsoCode:
                          type: string
                        subdivision2Name:
                          type: string
                        metroCode:
                          type: string
                        subdivision1IsoCode:
                          type: string
                        subdivision2IsoCode:
                          type: string
                        timeZone:
                          type: string
                        type:
                          type: string
                  size:
                    type: integer
                    format: int32
                xml:
                  name: geoCityListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        geoNameId:
                          type: string
                        subdivision1Name:
                          type: string
                        cityName:
                          type: string
                        countryName:
                          type: string
                        localeCode:
                          type: string
                        continentCode:
                          type: string
                        continentName:
                          type: string
                        countryIsoCode:
                          type: string
                        subdivision2Name:
                          type: string
                        metroCode:
                          type: string
                        subdivision1IsoCode:
                          type: string
                        subdivision2IsoCode:
                          type: string
                        timeZone:
                          type: string
                        type:
                          type: string
                  size:
                    type: integer
                    format: int32
                xml:
                  name: geoCityListResult
  /geocitys/citys:
    get:
      tags:
        - ZJ-GeoCity
      summary: Gets all countrys subdivition citys.
      description: Gets all countrys subdivition citys.
      operationId: Gets all countrys subdivition citys.
      parameters:
        - name: countryCode
          in: query
          description: The country iso code.
          required: false
          schema:
            type: string
        - name: subdivcode
          in: query
          description: The subdivision code. like chinas province
          required: false
          schema:
            type: string
        - name: locate
          in: query
          description: 'The language locate of the requested default is en (en,zh).'
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        geoNameId:
                          type: string
                        subdivision1Name:
                          type: string
                        cityName:
                          type: string
                        countryName:
                          type: string
                        localeCode:
                          type: string
                        continentCode:
                          type: string
                        continentName:
                          type: string
                        countryIsoCode:
                          type: string
                        subdivision2Name:
                          type: string
                        metroCode:
                          type: string
                        subdivision1IsoCode:
                          type: string
                        subdivision2IsoCode:
                          type: string
                        timeZone:
                          type: string
                        type:
                          type: string
                  size:
                    type: integer
                    format: int32
                xml:
                  name: geoCityListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        geoNameId:
                          type: string
                        subdivision1Name:
                          type: string
                        cityName:
                          type: string
                        countryName:
                          type: string
                        localeCode:
                          type: string
                        continentCode:
                          type: string
                        continentName:
                          type: string
                        countryIsoCode:
                          type: string
                        subdivision2Name:
                          type: string
                        metroCode:
                          type: string
                        subdivision1IsoCode:
                          type: string
                        subdivision2IsoCode:
                          type: string
                        timeZone:
                          type: string
                        type:
                          type: string
                  size:
                    type: integer
                    format: int32
                xml:
                  name: geoCityListResult
  '/geocitys/city/{geonameid}':
    get:
      tags:
        - ZJ-GeoCity
      summary: Gets city by id
      description: Gets city by id.
      operationId: Gets city by id.
      parameters:
        - name: geonameid
          in: path
          description: The citys geoname id.
          required: true
          schema:
            type: string
        - name: locate
          in: query
          description: 'The language locate of the requested default is en (en,zh).'
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  geoNameId:
                    type: string
                  subdivision1Name:
                    type: string
                  cityName:
                    type: string
                  countryName:
                    type: string
                  localeCode:
                    type: string
                  continentCode:
                    type: string
                  continentName:
                    type: string
                  countryIsoCode:
                    type: string
                  subdivision2Name:
                    type: string
                  metroCode:
                    type: string
                  subdivision1IsoCode:
                    type: string
                  subdivision2IsoCode:
                    type: string
                  timeZone:
                    type: string
                  type:
                    type: string
                xml:
                  name: GeoCity
            application/xml:
              schema:
                type: object
                properties:
                  geoNameId:
                    type: string
                  subdivision1Name:
                    type: string
                  cityName:
                    type: string
                  countryName:
                    type: string
                  localeCode:
                    type: string
                  continentCode:
                    type: string
                  continentName:
                    type: string
                  countryIsoCode:
                    type: string
                  subdivision2Name:
                    type: string
                  metroCode:
                    type: string
                  subdivision1IsoCode:
                    type: string
                  subdivision2IsoCode:
                    type: string
                  timeZone:
                    type: string
                  type:
                    type: string
                xml:
                  name: GeoCity
  /geocitys/city/byip:
    get:
      tags:
        - ZJ-GeoCity
      summary: Get citys by ip
      description: Get citys by name ip.
      operationId: Get citys by ip
      parameters:
        - name: ip
          in: query
          description: The city name.
          required: false
          schema:
            type: string
        - name: locate
          in: query
          description: 'The language locate of the requested default is en (en,zh).'
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  geoNameId:
                    type: string
                  subdivision1Name:
                    type: string
                  cityName:
                    type: string
                  countryName:
                    type: string
                  localeCode:
                    type: string
                  continentCode:
                    type: string
                  continentName:
                    type: string
                  countryIsoCode:
                    type: string
                  subdivision2Name:
                    type: string
                  metroCode:
                    type: string
                  subdivision1IsoCode:
                    type: string
                  subdivision2IsoCode:
                    type: string
                  timeZone:
                    type: string
                  type:
                    type: string
                xml:
                  name: GeoCity
            application/xml:
              schema:
                type: object
                properties:
                  geoNameId:
                    type: string
                  subdivision1Name:
                    type: string
                  cityName:
                    type: string
                  countryName:
                    type: string
                  localeCode:
                    type: string
                  continentCode:
                    type: string
                  continentName:
                    type: string
                  countryIsoCode:
                    type: string
                  subdivision2Name:
                    type: string
                  metroCode:
                    type: string
                  subdivision1IsoCode:
                    type: string
                  subdivision2IsoCode:
                    type: string
                  timeZone:
                    type: string
                  type:
                    type: string
                xml:
                  name: GeoCity
  /geocitys/country/geonameid:
    get:
      tags:
        - ZJ-GeoCity
      summary: Get country by geobameid
      description: Get country by geobameid
      operationId: Get country by geobameid
      parameters:
        - name: geonameid
          in: query
          description: The country geobameid.
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  geoNameId:
                    type: string
                  countryName:
                    type: string
                  localeCode:
                    type: string
                  continentCode:
                    type: string
                  continentName:
                    type: string
                  countryIsoCode:
                    type: string
                  continentNameZh:
                    type: string
                  countryNameZh:
                    type: string
                  type:
                    type: string
                xml:
                  name: GeoCountry
            application/xml:
              schema:
                type: object
                properties:
                  geoNameId:
                    type: string
                  countryName:
                    type: string
                  localeCode:
                    type: string
                  continentCode:
                    type: string
                  continentName:
                    type: string
                  countryIsoCode:
                    type: string
                  continentNameZh:
                    type: string
                  countryNameZh:
                    type: string
                  type:
                    type: string
                xml:
                  name: GeoCountry
  /geocitys/country/continentcode:
    get:
      tags:
        - ZJ-GeoCity
      summary: Gets all countrys continentCode.
      description: Gets all countrys continentCode.
      operationId: Gets all countrys continentCode.
      parameters:
        - name: continentCode
          in: query
          description: The country continentCode.
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        geoNameId:
                          type: string
                        countryName:
                          type: string
                        localeCode:
                          type: string
                        continentCode:
                          type: string
                        continentName:
                          type: string
                        countryIsoCode:
                          type: string
                        continentNameZh:
                          type: string
                        countryNameZh:
                          type: string
                        type:
                          type: string
                  size:
                    type: integer
                    format: int32
                xml:
                  name: geoCountryListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        geoNameId:
                          type: string
                        countryName:
                          type: string
                        localeCode:
                          type: string
                        continentCode:
                          type: string
                        continentName:
                          type: string
                        countryIsoCode:
                          type: string
                        continentNameZh:
                          type: string
                        countryNameZh:
                          type: string
                        type:
                          type: string
                  size:
                    type: integer
                    format: int32
                xml:
                  name: geoCountryListResult
  '/globalcitys/{cityEnglish}':
    get:
      tags:
        - ZJ-Global Citys
      summary: Gets the globalcity by cityEnglish
      description: Gets the globalcity specified by the cityEnglish path parameter
      operationId: Gets the globalcity by cityEnglish
      parameters:
        - name: cityEnglish
          in: path
          description: The cityEnglish of the requested globalcity.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    pattern: '[A-Za-z0-9-_=]+'
                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                  countryCode:
                    type: string
                  city:
                    type: string
                  country:
                    type: string
                  administrativeAttribution1:
                    type: string
                  administrativeAttribution1English:
                    type: string
                  cityId:
                    type: string
                  cityEngLish:
                    type: string
                  administrativeAttribution2:
                    type: string
                  administrativeAttribution2English:
                    type: string
                  shiQu:
                    type: string
                  cityLevel:
                    type: string
                  type:
                    type: string
                xml:
                  name: city
            application/xml:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    pattern: '[A-Za-z0-9-_=]+'
                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                  countryCode:
                    type: string
                  city:
                    type: string
                  country:
                    type: string
                  administrativeAttribution1:
                    type: string
                  administrativeAttribution1English:
                    type: string
                  cityId:
                    type: string
                  cityEngLish:
                    type: string
                  administrativeAttribution2:
                    type: string
                  administrativeAttribution2English:
                    type: string
                  shiQu:
                    type: string
                  cityLevel:
                    type: string
                  type:
                    type: string
                xml:
                  name: city
  '/{scopeId}/zjuserdevicers':
    get:
      tags:
        - ZJ-Userdevice binding process
      summary: get an ZjUserDevice
      description: Creates a new ZjUserDevice based on the information provided in ZjUserDeviceCreator parameter.
      operationId: findZjUserDevice
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which count of the ZjUserDevice
          required: true
          schema:
            type: string
            default: _
        - name: userId
          in: query
          description: the userId of the userDevice's user
          required: false
          schema:
            type: string
        - name: clientId
          in: query
          description: 'the clientId of the device of the user used. like mac address(AA:BB:CC:DD:EE:FF)'
          required: false
          schema:
            type: string
        - name: relation
          in: query
          description: the relationship of the user to the device (example)
          schema:
            type: string
            enum:
              - owner
              - friend
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        deviceId:
                          type: string
                        unionId:
                          type: string
                        userName:
                          type: string
                        userType:
                          type: string
                        headPortrait:
                          type: string
                        relationship:
                          type: string
                        nickName:
                          type: string
                        devNick:
                          type: string
                        userAcl:
                          type: string
                        priority:
                          type: integer
                          format: int32
                        type:
                          type: string
                        filter:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  limitExceeded:
                    type: boolean
                  size:
                    type: integer
                    format: int32
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - ZJ-Userdevice binding process
      summary: Create an ZjUserDevice
      description: Creates a new ZjUserDevice based on the information provided in ZjUserDeviceCreator parameter.
      operationId: Create an ZjUserDevice
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the ZjUserDevice
          required: true
          schema:
            type: string
            default: _
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                deviceId:
                  type: string
                unionId:
                  type: string
                userType:
                  type: string
                headPortrait:
                  type: string
                relationship:
                  type: string
                nickName:
                  type: string
                devNick:
                  type: string
                userName:
                  type: string
                scopeId:
                  type: string
                userAcl:
                  type: string
                filter:
                  type: string
                priority:
                  type: integer
                  format: int32
              xml:
                name: ZjUserDevicerCreator
          application/xml:
            schema:
              type: object
              properties:
                deviceId:
                  type: string
                unionId:
                  type: string
                userType:
                  type: string
                headPortrait:
                  type: string
                relationship:
                  type: string
                nickName:
                  type: string
                devNick:
                  type: string
                userName:
                  type: string
                scopeId:
                  type: string
                userAcl:
                  type: string
                filter:
                  type: string
                priority:
                  type: integer
                  format: int32
              xml:
                name: ZjUserDevicerCreator
        description: Provides the information for the new ZjUserDevice to be created
        required: true
      responses:
        '200':
          description: |-
            'code: (可根据以下返回编码做判断，编码请忽略大小写判断)
             UserNotExist: 用户不存在
             DeviceIdNotExist:没找到对应的设备
             Success:设备分享成功
             ownerIsBinding: 主人已绑定
             IsNotOwner: 非主人无权绑定
             OwnerExist:主人已存在，无需重复绑定
             UserBindingExist:用户已绑定，无需重复操作。
             OwnerBindingSuccess:绑定设备成功，恭喜你成为主人。'
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
            application/xml:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/{userDeviceId}':
    put:
      tags:
        - ZJ-Userdevice binding process
      summary: Update an ZjUserDevice
      description: Updates a new ZjUserDevice based on the information provided in the ZjUserDevice parameter.
      operationId: Update an ZjUserDevice
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested ZjUserDevice
          required: true
          schema:
            type: string
            default: _
        - name: userDeviceId
          in: path
          description: The userDeviceId of the requested ZjUserDevice
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                deviceId:
                  type: string
                unionId:
                  type: string
                userName:
                  type: string
                userType:
                  type: string
                headPortrait:
                  type: string
                relationship:
                  type: string
                nickName:
                  type: string
                devNick:
                  type: string
                userAcl:
                  type: string
                priority:
                  type: integer
                  format: int32
                type:
                  type: string
                filter:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                modifiedBy:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
          application/xml:
            schema:
              type: object
              properties:
                deviceId:
                  type: string
                unionId:
                  type: string
                userName:
                  type: string
                userType:
                  type: string
                headPortrait:
                  type: string
                relationship:
                  type: string
                nickName:
                  type: string
                devNick:
                  type: string
                userAcl:
                  type: string
                priority:
                  type: integer
                  format: int32
                type:
                  type: string
                filter:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                modifiedBy:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
        description: The modified zjUserDevicer whose attributes needs to be updated
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  deviceId:
                    type: string
                  unionId:
                    type: string
                  userName:
                    type: string
                  userType:
                    type: string
                  headPortrait:
                    type: string
                  relationship:
                    type: string
                  nickName:
                    type: string
                  devNick:
                    type: string
                  userAcl:
                    type: string
                  priority:
                    type: integer
                    format: int32
                  type:
                    type: string
                  filter:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
            application/xml:
              schema:
                type: object
                properties:
                  deviceId:
                    type: string
                  unionId:
                    type: string
                  userName:
                    type: string
                  userType:
                    type: string
                  headPortrait:
                    type: string
                  relationship:
                    type: string
                  nickName:
                    type: string
                  devNick:
                    type: string
                  userAcl:
                    type: string
                  priority:
                    type: integer
                    format: int32
                  type:
                    type: string
                  filter:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/getdevicesuserlist':
    get:
      tags:
        - ZJ-Userdevice binding process
      summary: Get an ZjUserDevice list
      description: Returns a list of user and device binding relationships based on deviceId
      operationId: Get an ZjUserDevice list
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId  of the requested ZjUserDevice.
          required: true
          schema:
            type: string
            default: _
        - name: deviceId
          in: query
          description: The deviceId of the requested ZjUserDevice
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        deviceId:
                          type: string
                        unionId:
                          type: string
                        userName:
                          type: string
                        userType:
                          type: string
                        headPortrait:
                          type: string
                        relationship:
                          type: string
                        nickName:
                          type: string
                        devNick:
                          type: string
                        userAcl:
                          type: string
                        priority:
                          type: integer
                          format: int32
                        type:
                          type: string
                        filter:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  limitExceeded:
                    type: boolean
                  size:
                    type: integer
                    format: int32
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        deviceId:
                          type: string
                        unionId:
                          type: string
                        userName:
                          type: string
                        userType:
                          type: string
                        headPortrait:
                          type: string
                        relationship:
                          type: string
                        nickName:
                          type: string
                        devNick:
                          type: string
                        userAcl:
                          type: string
                        priority:
                          type: integer
                          format: int32
                        type:
                          type: string
                        filter:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  limitExceeded:
                    type: boolean
                  size:
                    type: integer
                    format: int32
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/userdevices':
    get:
      tags:
        - ZJ-Userdevice binding process
      summary: Get an ZjUserDevice list
      description: Return a list of Zjuser devices
      operationId: getuserDeviceIdS
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested ZjUserDevice.
          required: true
          schema:
            type: string
            default: _
        - name: userId
          in: query
          description: The userId  of the requested ZjUserDevice
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        deviceId:
                          type: string
                        unionId:
                          type: string
                        userName:
                          type: string
                        userType:
                          type: string
                        headPortrait:
                          type: string
                        relationship:
                          type: string
                        nickName:
                          type: string
                        devNick:
                          type: string
                        userAcl:
                          type: string
                        priority:
                          type: integer
                          format: int32
                        type:
                          type: string
                        filter:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  limitExceeded:
                    type: boolean
                  size:
                    type: integer
                    format: int32
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/deviceinfo':
    get:
      tags:
        - ZJ-Userdevice binding process
      summary: Get DeviceId Details
      description: 'Returns whether the device is registered, the registered device information is returned to null, and the device is not registered.'
      operationId: Get DeviceId Details
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId  of the requested UserDevice.
          required: true
          schema:
            type: string
            default: _
        - name: deviceId
          in: query
          description: The DeviceId of the requested UserDevice
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                properties:
                  groupId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the Access Group to which this Device is assigned to
                  clientId:
                    type: string
                    readOnly: true
                    description: The Kura Client ID of this device
                  connectionId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the Connection of this Device
                        readOnly: true
                  connection:
                    allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - CONNECTED
                              - DISCONNECTED
                              - MISSING
                              - 'NULL'
                          clientId:
                            type: string
                          userId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          allowUserChange:
                            type: boolean
                          userCouplingMode:
                            type: string
                            enum:
                              - INHERITED
                              - LOOSE
                              - STRICT
                          reservedUserId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          protocol:
                            type: string
                          clientIp:
                            type: string
                          serverIp:
                            type: string
                            readOnly: true
                        example:
                          type: deviceConnection
                          id: Gd1BfeWwh3s
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:32.101Z'
                          createdBy: Ag
                          modifiedOn: '2019-09-13T08:04:49.927Z'
                          modifiedBy: Ag
                          optlock: 17
                          status: CONNECTED
                          clientId: Client-Id-1
                          userId: Ag
                          allowUserChange: false
                          userCouplingMode: INHERITED
                          protocol: MQTT
                          clientIp: 'tcp://172.21.0.1:44400'
                          serverIp: broker
                  status:
                    type: string
                    enum:
                      - ENABLED
                      - DISABLED
                  displayName:
                    description: The Kura Display Name of this Device
                    type: string
                  lastEventId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the last recorded Event from this Device
                        readOnly: true
                  lastEvent:
                    allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - type: object
                        properties:
                          sentOn:
                            type: string
                            format: date-time
                          receivedOn:
                            type: string
                            format: date-time
                          position:
                            type: object
                            properties:
                              latitude:
                                type: number
                                format: double
                              longitude:
                                type: number
                                format: double
                              altitude:
                                type: number
                                format: double
                              precision:
                                type: number
                                format: double
                              heading:
                                type: number
                                format: double
                              speed:
                                type: number
                                format: double
                              timestamp:
                                type: string
                                format: date-time
                              satellites:
                                type: integer
                                format: int32
                              status:
                                type: integer
                                format: int32
                          resource:
                            type: string
                          action:
                            type: string
                            enum:
                              - READ
                              - CREATE
                              - WRITE
                              - DELETE
                              - OPTIONS
                              - EXECUTE
                          responseCode:
                            type: string
                            enum:
                              - ACCEPTED
                              - BAD_REQUEST
                              - NOT_FOUND
                              - INTERNAL_ERROR
                          eventMessage:
                            type: string
                        example:
                          id: YYHQ2i1S-P0
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:37.392Z'
                          createdBy: Ag
                          deviceId: WyczTs_GuDM
                          receivedOn: '2019-09-12T09:04:32.646Z'
                          position:
                            altitude: 0
                            latitude: 0
                            longitude: 0
                          resource: BIRTH
                          action: CREATE
                          responseCode: ACCEPTED
                          eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit #1 SMP Tue Jul 2 22:58:16 UTC 2019~~partNumber=ESF-Docker-RHEL~~serialNumber=ESF-Docker-RHEL~~totalMemory=1023488~~uptime=187894320'
                  serialNumber:
                    description: The Serial Number of this Device
                    type: string
                  modelId:
                    description: The Model ID (not an Kapua ID) of this Device
                    type: string
                  modelName:
                    description: The Model Name of this Device
                    type: string
                  imei:
                    description: The IMEI Code of this Device
                    type: string
                  imsi:
                    description: The IMSI Code of this Device
                    type: string
                  iccid:
                    description: The ICCID Code of this Device
                    type: string
                  biosVersion:
                    description: The BIOS Version running on this Device
                    type: string
                  firmwareVersion:
                    description: The Firmware Version of this Device
                    type: string
                  osVersion:
                    description: The OS Version running on this Device
                    type: string
                  jvmVersion:
                    description: The JVM Version running on this Device
                    type: string
                  osgiFrameworkVersion:
                    description: The OSGi Framework Version running on this Device
                    type: string
                  applicationFrameworkVersion:
                    description: The Application Framework Version running on this Device
                    type: string
                  connectionInterface:
                    description: The Primary Connection Interface Name of this Device
                    type: string
                  connectionIp:
                    description: The IP Address of the Primary Connection Interface on this Device
                    type: string
                  applicationIdentifiers:
                    description: A string listing all the Kura Applications running on this Device
                    type: string
                  acceptEncoding:
                    description: The MIME Encoding accepted by this Device
                    type: string
                  customAttribute1:
                    description: A Custom Attirbute of this Device - 1
                    type: string
                  customAttribute2:
                    description: A Custom Attirbute of this Device - 2
                    type: string
                  customAttribute3:
                    description: A Custom Attirbute of this Device - 3
                    type: string
                  customAttribute4:
                    description: A Custom Attirbute of this Device - 4
                    type: string
                  customAttribute5:
                    description: A Custom Attirbute of this Device - 5
                    type: string
                  tagIds:
                    type: array
                    items:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                example:
                  type: device
                  id: dIVxI5QpFUI
                  scopeId: AQ
                  createdOn: '2019-09-12T12:08:12.179Z'
                  createdBy: AQ
                  modifiedOn: '2019-09-12T12:08:12.179Z'
                  modifiedBy: AQ
                  optlock: 1
                  clientId: testDevice
                  status: ENABLED
                  displayName: Test Device
                  serialNumber: 1234567890
                  modelId: Test Model
                  biosVersion: N/A
                  firmwareVersion: N/A
                  osVersion: 3.13.0-93-generic
                  jvmVersion: 24.111-b01 mixed mode
                  osgiFrameworkVersion: 1.7.0
                  acceptEncoding: gzip
                  tagIds: []
            application/xml:
              schema:
                properties:
                  groupId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the Access Group to which this Device is assigned to
                  clientId:
                    type: string
                    readOnly: true
                    description: The Kura Client ID of this device
                  connectionId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the Connection of this Device
                        readOnly: true
                  connection:
                    allOf:
                      - allOf:
                          - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                            type: object
                            properties:
                              id:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity
                                    readOnly: true
                              scopeId:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Scope containing the Entity
                                    readOnly: true
                              createdOn:
                                description: The date and time when this entity was created
                                type: string
                                format: date-time
                                readOnly: true
                              createdBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who created this Entity
                                    readOnly: true
                          - description: An Entity that also supports edits and versioning
                            type: object
                            properties:
                              modifiedOn:
                                description: The date and time when this entity was modified
                                type: string
                                format: date-time
                                readOnly: true
                              modifiedBy:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                  - description: The ID of the Entity who modified this Entity
                                    readOnly: true
                              optlock:
                                description: |
                                  The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                  See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                type: integer
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - CONNECTED
                              - DISCONNECTED
                              - MISSING
                              - 'NULL'
                          clientId:
                            type: string
                          userId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          allowUserChange:
                            type: boolean
                          userCouplingMode:
                            type: string
                            enum:
                              - INHERITED
                              - LOOSE
                              - STRICT
                          reservedUserId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          protocol:
                            type: string
                          clientIp:
                            type: string
                          serverIp:
                            type: string
                            readOnly: true
                        example:
                          type: deviceConnection
                          id: Gd1BfeWwh3s
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:32.101Z'
                          createdBy: Ag
                          modifiedOn: '2019-09-13T08:04:49.927Z'
                          modifiedBy: Ag
                          optlock: 17
                          status: CONNECTED
                          clientId: Client-Id-1
                          userId: Ag
                          allowUserChange: false
                          userCouplingMode: INHERITED
                          protocol: MQTT
                          clientIp: 'tcp://172.21.0.1:44400'
                          serverIp: broker
                  status:
                    type: string
                    enum:
                      - ENABLED
                      - DISABLED
                  displayName:
                    description: The Kura Display Name of this Device
                    type: string
                  lastEventId:
                    allOf:
                      - type: string
                        pattern: '[A-Za-z0-9-_=]+'
                        description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      - description: The ID of the last recorded Event from this Device
                        readOnly: true
                  lastEvent:
                    allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - type: object
                        properties:
                          sentOn:
                            type: string
                            format: date-time
                          receivedOn:
                            type: string
                            format: date-time
                          position:
                            type: object
                            properties:
                              latitude:
                                type: number
                                format: double
                              longitude:
                                type: number
                                format: double
                              altitude:
                                type: number
                                format: double
                              precision:
                                type: number
                                format: double
                              heading:
                                type: number
                                format: double
                              speed:
                                type: number
                                format: double
                              timestamp:
                                type: string
                                format: date-time
                              satellites:
                                type: integer
                                format: int32
                              status:
                                type: integer
                                format: int32
                          resource:
                            type: string
                          action:
                            type: string
                            enum:
                              - READ
                              - CREATE
                              - WRITE
                              - DELETE
                              - OPTIONS
                              - EXECUTE
                          responseCode:
                            type: string
                            enum:
                              - ACCEPTED
                              - BAD_REQUEST
                              - NOT_FOUND
                              - INTERNAL_ERROR
                          eventMessage:
                            type: string
                        example:
                          id: YYHQ2i1S-P0
                          scopeId: AQ
                          createdOn: '2019-09-12T09:04:37.392Z'
                          createdBy: Ag
                          deviceId: WyczTs_GuDM
                          receivedOn: '2019-09-12T09:04:32.646Z'
                          position:
                            altitude: 0
                            latitude: 0
                            longitude: 0
                          resource: BIRTH
                          action: CREATE
                          responseCode: ACCEPTED
                          eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit #1 SMP Tue Jul 2 22:58:16 UTC 2019~~partNumber=ESF-Docker-RHEL~~serialNumber=ESF-Docker-RHEL~~totalMemory=1023488~~uptime=187894320'
                  serialNumber:
                    description: The Serial Number of this Device
                    type: string
                  modelId:
                    description: The Model ID (not an Kapua ID) of this Device
                    type: string
                  modelName:
                    description: The Model Name of this Device
                    type: string
                  imei:
                    description: The IMEI Code of this Device
                    type: string
                  imsi:
                    description: The IMSI Code of this Device
                    type: string
                  iccid:
                    description: The ICCID Code of this Device
                    type: string
                  biosVersion:
                    description: The BIOS Version running on this Device
                    type: string
                  firmwareVersion:
                    description: The Firmware Version of this Device
                    type: string
                  osVersion:
                    description: The OS Version running on this Device
                    type: string
                  jvmVersion:
                    description: The JVM Version running on this Device
                    type: string
                  osgiFrameworkVersion:
                    description: The OSGi Framework Version running on this Device
                    type: string
                  applicationFrameworkVersion:
                    description: The Application Framework Version running on this Device
                    type: string
                  connectionInterface:
                    description: The Primary Connection Interface Name of this Device
                    type: string
                  connectionIp:
                    description: The IP Address of the Primary Connection Interface on this Device
                    type: string
                  applicationIdentifiers:
                    description: A string listing all the Kura Applications running on this Device
                    type: string
                  acceptEncoding:
                    description: The MIME Encoding accepted by this Device
                    type: string
                  customAttribute1:
                    description: A Custom Attirbute of this Device - 1
                    type: string
                  customAttribute2:
                    description: A Custom Attirbute of this Device - 2
                    type: string
                  customAttribute3:
                    description: A Custom Attirbute of this Device - 3
                    type: string
                  customAttribute4:
                    description: A Custom Attirbute of this Device - 4
                    type: string
                  customAttribute5:
                    description: A Custom Attirbute of this Device - 5
                    type: string
                  tagIds:
                    type: array
                    items:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                example:
                  type: device
                  id: dIVxI5QpFUI
                  scopeId: AQ
                  createdOn: '2019-09-12T12:08:12.179Z'
                  createdBy: AQ
                  modifiedOn: '2019-09-12T12:08:12.179Z'
                  modifiedBy: AQ
                  optlock: 1
                  clientId: testDevice
                  status: ENABLED
                  displayName: Test Device
                  serialNumber: 1234567890
                  modelId: Test Model
                  biosVersion: N/A
                  firmwareVersion: N/A
                  osVersion: 3.13.0-93-generic
                  jvmVersion: 24.111-b01 mixed mode
                  osgiFrameworkVersion: 1.7.0
                  acceptEncoding: gzip
                  tagIds: []
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/bindrequest':
    post:
      tags:
        - ZJ-Userdevice binding process
      summary: Friend Application
      description: Guest requests host to add equipment
      operationId: Friend Application
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the ZjUserDevice
          required: true
          schema:
            type: string
            default: _
        - name: userId
          in: query
          description: Fill in the userID of a friend
          required: true
          schema:
            type: string
        - name: clientId
          in: query
          description: 'Fill in clientId of the device like (AA:BB:CC:DD:EE:FF)'
          required: true
          schema:
            type: string
        - name: userName
          in: query
          description: Fill in the userName of a friend
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  deviceId:
                    type: string
                  unionId:
                    type: string
                  userName:
                    type: string
                  userType:
                    type: string
                  headPortrait:
                    type: string
                  relationship:
                    type: string
                  nickName:
                    type: string
                  devNick:
                    type: string
                  userAcl:
                    type: string
                  priority:
                    type: integer
                    format: int32
                  type:
                    type: string
                  filter:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
            application/xml:
              schema:
                type: object
                properties:
                  deviceId:
                    type: string
                  unionId:
                    type: string
                  userName:
                    type: string
                  userType:
                    type: string
                  headPortrait:
                    type: string
                  relationship:
                    type: string
                  nickName:
                    type: string
                  devNick:
                    type: string
                  userAcl:
                    type: string
                  priority:
                    type: integer
                    format: int32
                  type:
                    type: string
                  filter:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/deviceconnection':
    get:
      tags:
        - ZJ-Userdevice binding process
      summary: Gets the DeviceConnection status
      description: Return to the current DeviceConnections Status
      operationId: deviceConnectionSimples Query
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: clientId
          in: query
          description: The client id to filter results.
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                        type: object
                        properties:
                          id:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity
                                readOnly: true
                          scopeId:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Scope containing the Entity
                                readOnly: true
                          createdOn:
                            description: The date and time when this entity was created
                            type: string
                            format: date-time
                            readOnly: true
                          createdBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who created this Entity
                                readOnly: true
                      - description: An Entity that also supports edits and versioning
                        type: object
                        properties:
                          modifiedOn:
                            description: The date and time when this entity was modified
                            type: string
                            format: date-time
                            readOnly: true
                          modifiedBy:
                            allOf:
                              - type: string
                                pattern: '[A-Za-z0-9-_=]+'
                                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                              - description: The ID of the Entity who modified this Entity
                                readOnly: true
                          optlock:
                            description: |
                              The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                              See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                            type: integer
                  - type: object
                    properties:
                      status:
                        type: string
                        enum:
                          - CONNECTED
                          - DISCONNECTED
                          - MISSING
                          - 'NULL'
                      clientId:
                        type: string
                      userId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      allowUserChange:
                        type: boolean
                      userCouplingMode:
                        type: string
                        enum:
                          - INHERITED
                          - LOOSE
                          - STRICT
                      reservedUserId:
                        allOf:
                          - type: string
                            pattern: '[A-Za-z0-9-_=]+'
                            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                      protocol:
                        type: string
                      clientIp:
                        type: string
                      serverIp:
                        type: string
                        readOnly: true
                    example:
                      type: deviceConnection
                      id: Gd1BfeWwh3s
                      scopeId: AQ
                      createdOn: '2019-09-12T09:04:32.101Z'
                      createdBy: Ag
                      modifiedOn: '2019-09-13T08:04:49.927Z'
                      modifiedBy: Ag
                      optlock: 17
                      status: CONNECTED
                      clientId: Client-Id-1
                      userId: Ag
                      allowUserChange: false
                      userCouplingMode: INHERITED
                      protocol: MQTT
                      clientIp: 'tcp://172.21.0.1:44400'
                      serverIp: broker
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/{deviceId}/{userId}':
    delete:
      tags:
        - ZJ-Userdevice binding process
      summary: Delete an ZjUserDevice
      description: Deletes the ZjUserDevice specified by the deviceId and unionId and ScopeIdpath parameter.
      operationId: Delete an ZjUserDevice
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the zjUserDevicer to delete.
          required: true
          schema:
            type: string
            default: _
        - name: deviceId
          in: path
          description: The deviceId of the zjUserDevicer to be deleted
          required: true
          schema:
            type: string
        - name: userId
          in: path
          description: The userId of the zjUserDevicer to be deleted
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/checkid':
    post:
      tags:
        - ZJ-Userdevice binding process
      summary: check registered device
      description: check registered device
      operationId: checkDevices
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the ZjUserDevice
          required: true
          schema:
            type: string
            default: _
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - description: An object that contains the informations needed to create an Entity
                      type: object
                    - description: An object that contains the informations needed to create an Updatable Entity
                      type: object
                - type: object
                  properties:
                    groupId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the Access Group to which this Device is assigned to
                    clientId:
                      type: string
                      readOnly: true
                      description: The Kura Client ID of this device
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    lastEventId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the last recorded Event from this Device
                          readOnly: true
                    displayName:
                      description: The Kura Display Name of this Device
                      type: string
                    serialNumber:
                      description: The Serial Number of this Device
                      type: string
                    modelId:
                      description: The Model ID (not an Kapua ID) of this Device
                      type: string
                    modelName:
                      description: The Model Name of this Device
                      type: string
                    imei:
                      description: The IMEI Code of this Device
                      type: string
                    imsi:
                      description: The IMSI Code of this Device
                      type: string
                    iccid:
                      description: The ICCID Code of this Device
                      type: string
                    biosVersion:
                      description: The BIOS Version running on this Device
                      type: string
                    firmwareVersion:
                      description: The Firmware Version of this Device
                      type: string
                    osVersion:
                      description: The OS Version running on this Device
                      type: string
                    jvmVersion:
                      description: The JVM Version running on this Device
                      type: string
                    osgiFrameworkVersion:
                      description: The OSGi Framework Version running on this Device
                      type: string
                    applicationFrameworkVersion:
                      description: The Application Framework Version running on this Device
                      type: string
                    connectionInterface:
                      description: The Primary Connection Interface Name of this Device
                      type: string
                    connectionIp:
                      description: The IP Address of the Primary Connection Interface on this Device
                      type: string
                    applicationIdentifiers:
                      description: A string listing all the Kura Applications running on this Device
                      type: string
                    acceptEncoding:
                      description: The MIME Encoding accepted by this Device
                      type: string
                    customAttribute1:
                      description: A Custom Attirbute of this Device - 1
                      type: string
                    customAttribute2:
                      description: A Custom Attirbute of this Device - 2
                      type: string
                    customAttribute3:
                      description: A Custom Attirbute of this Device - 3
                      type: string
                    customAttribute4:
                      description: A Custom Attirbute of this Device - 4
                      type: string
                    customAttribute5:
                      description: A Custom Attirbute of this Device - 5
                      type: string
                  required:
                    - clientId
                  example:
                    clientId: testDevice
                    status: ENABLED
                    displayName: Test Device
                    serialNumber: 1234567890
                    modelId: Test Model
                    biosVersion: N/A
                    firmwareVersion: N/A
                    osVersion: 3.13.0-93-generic
                    jvmVersion: 24.111-b01 mixed mode
                    osgiFrameworkVersion: 1.7.0
                    acceptEncoding: gzip
                    deviceCredentialsMode: LOOSE
          application/xml:
            schema:
              allOf:
                - allOf:
                    - description: An object that contains the informations needed to create an Entity
                      type: object
                    - description: An object that contains the informations needed to create an Updatable Entity
                      type: object
                - type: object
                  properties:
                    groupId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the Access Group to which this Device is assigned to
                    clientId:
                      type: string
                      readOnly: true
                      description: The Kura Client ID of this device
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    lastEventId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the last recorded Event from this Device
                          readOnly: true
                    displayName:
                      description: The Kura Display Name of this Device
                      type: string
                    serialNumber:
                      description: The Serial Number of this Device
                      type: string
                    modelId:
                      description: The Model ID (not an Kapua ID) of this Device
                      type: string
                    modelName:
                      description: The Model Name of this Device
                      type: string
                    imei:
                      description: The IMEI Code of this Device
                      type: string
                    imsi:
                      description: The IMSI Code of this Device
                      type: string
                    iccid:
                      description: The ICCID Code of this Device
                      type: string
                    biosVersion:
                      description: The BIOS Version running on this Device
                      type: string
                    firmwareVersion:
                      description: The Firmware Version of this Device
                      type: string
                    osVersion:
                      description: The OS Version running on this Device
                      type: string
                    jvmVersion:
                      description: The JVM Version running on this Device
                      type: string
                    osgiFrameworkVersion:
                      description: The OSGi Framework Version running on this Device
                      type: string
                    applicationFrameworkVersion:
                      description: The Application Framework Version running on this Device
                      type: string
                    connectionInterface:
                      description: The Primary Connection Interface Name of this Device
                      type: string
                    connectionIp:
                      description: The IP Address of the Primary Connection Interface on this Device
                      type: string
                    applicationIdentifiers:
                      description: A string listing all the Kura Applications running on this Device
                      type: string
                    acceptEncoding:
                      description: The MIME Encoding accepted by this Device
                      type: string
                    customAttribute1:
                      description: A Custom Attirbute of this Device - 1
                      type: string
                    customAttribute2:
                      description: A Custom Attirbute of this Device - 2
                      type: string
                    customAttribute3:
                      description: A Custom Attirbute of this Device - 3
                      type: string
                    customAttribute4:
                      description: A Custom Attirbute of this Device - 4
                      type: string
                    customAttribute5:
                      description: A Custom Attirbute of this Device - 5
                      type: string
                  required:
                    - clientId
                  example:
                    clientId: testDevice
                    status: ENABLED
                    displayName: Test Device
                    serialNumber: 1234567890
                    modelId: Test Model
                    biosVersion: N/A
                    firmwareVersion: N/A
                    osVersion: 3.13.0-93-generic
                    jvmVersion: 24.111-b01 mixed mode
                    osgiFrameworkVersion: 1.7.0
                    acceptEncoding: gzip
                    deviceCredentialsMode: LOOSE
        description: Provides the information for the new ZjUserDevice to be created
        required: true
      responses:
        '200':
          description: |-
            'code值意义:
             param_error,参数错误，
             ids_used,id组已使用，
             ids_valid，id正确可用，
             ids_not_match，id不匹配, ids_not_match_all两个id不匹配，ids_not_match_mac mac地址不匹配，ids_not_match_sj深居id不匹配
             ids_not_exist,该IDs组不存在'
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
            application/xml:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/addid':
    post:
      tags:
        - ZJ-Userdevice binding process
      summary: 添加设备id组
      description: 添加设备id信息，clientid 填yekerID，serialNumber填mac地址，displayName填shenju ID
      operationId: addDevices
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the ZjUserDevice
          required: true
          schema:
            type: string
            default: _
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - description: An object that contains the informations needed to create an Entity
                      type: object
                    - description: An object that contains the informations needed to create an Updatable Entity
                      type: object
                - type: object
                  properties:
                    groupId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the Access Group to which this Device is assigned to
                    clientId:
                      type: string
                      readOnly: true
                      description: The Kura Client ID of this device
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    lastEventId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the last recorded Event from this Device
                          readOnly: true
                    displayName:
                      description: The Kura Display Name of this Device
                      type: string
                    serialNumber:
                      description: The Serial Number of this Device
                      type: string
                    modelId:
                      description: The Model ID (not an Kapua ID) of this Device
                      type: string
                    modelName:
                      description: The Model Name of this Device
                      type: string
                    imei:
                      description: The IMEI Code of this Device
                      type: string
                    imsi:
                      description: The IMSI Code of this Device
                      type: string
                    iccid:
                      description: The ICCID Code of this Device
                      type: string
                    biosVersion:
                      description: The BIOS Version running on this Device
                      type: string
                    firmwareVersion:
                      description: The Firmware Version of this Device
                      type: string
                    osVersion:
                      description: The OS Version running on this Device
                      type: string
                    jvmVersion:
                      description: The JVM Version running on this Device
                      type: string
                    osgiFrameworkVersion:
                      description: The OSGi Framework Version running on this Device
                      type: string
                    applicationFrameworkVersion:
                      description: The Application Framework Version running on this Device
                      type: string
                    connectionInterface:
                      description: The Primary Connection Interface Name of this Device
                      type: string
                    connectionIp:
                      description: The IP Address of the Primary Connection Interface on this Device
                      type: string
                    applicationIdentifiers:
                      description: A string listing all the Kura Applications running on this Device
                      type: string
                    acceptEncoding:
                      description: The MIME Encoding accepted by this Device
                      type: string
                    customAttribute1:
                      description: A Custom Attirbute of this Device - 1
                      type: string
                    customAttribute2:
                      description: A Custom Attirbute of this Device - 2
                      type: string
                    customAttribute3:
                      description: A Custom Attirbute of this Device - 3
                      type: string
                    customAttribute4:
                      description: A Custom Attirbute of this Device - 4
                      type: string
                    customAttribute5:
                      description: A Custom Attirbute of this Device - 5
                      type: string
                  required:
                    - clientId
                  example:
                    clientId: testDevice
                    status: ENABLED
                    displayName: Test Device
                    serialNumber: 1234567890
                    modelId: Test Model
                    biosVersion: N/A
                    firmwareVersion: N/A
                    osVersion: 3.13.0-93-generic
                    jvmVersion: 24.111-b01 mixed mode
                    osgiFrameworkVersion: 1.7.0
                    acceptEncoding: gzip
                    deviceCredentialsMode: LOOSE
          application/xml:
            schema:
              allOf:
                - allOf:
                    - description: An object that contains the informations needed to create an Entity
                      type: object
                    - description: An object that contains the informations needed to create an Updatable Entity
                      type: object
                - type: object
                  properties:
                    groupId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the Access Group to which this Device is assigned to
                    clientId:
                      type: string
                      readOnly: true
                      description: The Kura Client ID of this device
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    lastEventId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the last recorded Event from this Device
                          readOnly: true
                    displayName:
                      description: The Kura Display Name of this Device
                      type: string
                    serialNumber:
                      description: The Serial Number of this Device
                      type: string
                    modelId:
                      description: The Model ID (not an Kapua ID) of this Device
                      type: string
                    modelName:
                      description: The Model Name of this Device
                      type: string
                    imei:
                      description: The IMEI Code of this Device
                      type: string
                    imsi:
                      description: The IMSI Code of this Device
                      type: string
                    iccid:
                      description: The ICCID Code of this Device
                      type: string
                    biosVersion:
                      description: The BIOS Version running on this Device
                      type: string
                    firmwareVersion:
                      description: The Firmware Version of this Device
                      type: string
                    osVersion:
                      description: The OS Version running on this Device
                      type: string
                    jvmVersion:
                      description: The JVM Version running on this Device
                      type: string
                    osgiFrameworkVersion:
                      description: The OSGi Framework Version running on this Device
                      type: string
                    applicationFrameworkVersion:
                      description: The Application Framework Version running on this Device
                      type: string
                    connectionInterface:
                      description: The Primary Connection Interface Name of this Device
                      type: string
                    connectionIp:
                      description: The IP Address of the Primary Connection Interface on this Device
                      type: string
                    applicationIdentifiers:
                      description: A string listing all the Kura Applications running on this Device
                      type: string
                    acceptEncoding:
                      description: The MIME Encoding accepted by this Device
                      type: string
                    customAttribute1:
                      description: A Custom Attirbute of this Device - 1
                      type: string
                    customAttribute2:
                      description: A Custom Attirbute of this Device - 2
                      type: string
                    customAttribute3:
                      description: A Custom Attirbute of this Device - 3
                      type: string
                    customAttribute4:
                      description: A Custom Attirbute of this Device - 4
                      type: string
                    customAttribute5:
                      description: A Custom Attirbute of this Device - 5
                      type: string
                  required:
                    - clientId
                  example:
                    clientId: testDevice
                    status: ENABLED
                    displayName: Test Device
                    serialNumber: 1234567890
                    modelId: Test Model
                    biosVersion: N/A
                    firmwareVersion: N/A
                    osVersion: 3.13.0-93-generic
                    jvmVersion: 24.111-b01 mixed mode
                    osgiFrameworkVersion: 1.7.0
                    acceptEncoding: gzip
                    deviceCredentialsMode: LOOSE
        description: Provides the information for the new ZjUserDevice to be created
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
            application/xml:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/regdevice':
    post:
      tags:
        - ZJ-Userdevice binding process
      summary: check registered device
      description: check registered device
      operationId: regDevicerInfo
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the ZjUserDevice
          required: true
          schema:
            type: string
            default: _
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - description: An object that contains the informations needed to create an Entity
                      type: object
                    - description: An object that contains the informations needed to create an Updatable Entity
                      type: object
                - type: object
                  properties:
                    groupId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the Access Group to which this Device is assigned to
                    clientId:
                      type: string
                      readOnly: true
                      description: The Kura Client ID of this device
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    lastEventId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the last recorded Event from this Device
                          readOnly: true
                    displayName:
                      description: The Kura Display Name of this Device
                      type: string
                    serialNumber:
                      description: The Serial Number of this Device
                      type: string
                    modelId:
                      description: The Model ID (not an Kapua ID) of this Device
                      type: string
                    modelName:
                      description: The Model Name of this Device
                      type: string
                    imei:
                      description: The IMEI Code of this Device
                      type: string
                    imsi:
                      description: The IMSI Code of this Device
                      type: string
                    iccid:
                      description: The ICCID Code of this Device
                      type: string
                    biosVersion:
                      description: The BIOS Version running on this Device
                      type: string
                    firmwareVersion:
                      description: The Firmware Version of this Device
                      type: string
                    osVersion:
                      description: The OS Version running on this Device
                      type: string
                    jvmVersion:
                      description: The JVM Version running on this Device
                      type: string
                    osgiFrameworkVersion:
                      description: The OSGi Framework Version running on this Device
                      type: string
                    applicationFrameworkVersion:
                      description: The Application Framework Version running on this Device
                      type: string
                    connectionInterface:
                      description: The Primary Connection Interface Name of this Device
                      type: string
                    connectionIp:
                      description: The IP Address of the Primary Connection Interface on this Device
                      type: string
                    applicationIdentifiers:
                      description: A string listing all the Kura Applications running on this Device
                      type: string
                    acceptEncoding:
                      description: The MIME Encoding accepted by this Device
                      type: string
                    customAttribute1:
                      description: A Custom Attirbute of this Device - 1
                      type: string
                    customAttribute2:
                      description: A Custom Attirbute of this Device - 2
                      type: string
                    customAttribute3:
                      description: A Custom Attirbute of this Device - 3
                      type: string
                    customAttribute4:
                      description: A Custom Attirbute of this Device - 4
                      type: string
                    customAttribute5:
                      description: A Custom Attirbute of this Device - 5
                      type: string
                  required:
                    - clientId
                  example:
                    clientId: testDevice
                    status: ENABLED
                    displayName: Test Device
                    serialNumber: 1234567890
                    modelId: Test Model
                    biosVersion: N/A
                    firmwareVersion: N/A
                    osVersion: 3.13.0-93-generic
                    jvmVersion: 24.111-b01 mixed mode
                    osgiFrameworkVersion: 1.7.0
                    acceptEncoding: gzip
                    deviceCredentialsMode: LOOSE
          application/xml:
            schema:
              allOf:
                - allOf:
                    - description: An object that contains the informations needed to create an Entity
                      type: object
                    - description: An object that contains the informations needed to create an Updatable Entity
                      type: object
                - type: object
                  properties:
                    groupId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the Access Group to which this Device is assigned to
                    clientId:
                      type: string
                      readOnly: true
                      description: The Kura Client ID of this device
                    status:
                      type: string
                      enum:
                        - ENABLED
                        - DISABLED
                    lastEventId:
                      allOf:
                        - type: string
                          pattern: '[A-Za-z0-9-_=]+'
                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                        - description: The ID of the last recorded Event from this Device
                          readOnly: true
                    displayName:
                      description: The Kura Display Name of this Device
                      type: string
                    serialNumber:
                      description: The Serial Number of this Device
                      type: string
                    modelId:
                      description: The Model ID (not an Kapua ID) of this Device
                      type: string
                    modelName:
                      description: The Model Name of this Device
                      type: string
                    imei:
                      description: The IMEI Code of this Device
                      type: string
                    imsi:
                      description: The IMSI Code of this Device
                      type: string
                    iccid:
                      description: The ICCID Code of this Device
                      type: string
                    biosVersion:
                      description: The BIOS Version running on this Device
                      type: string
                    firmwareVersion:
                      description: The Firmware Version of this Device
                      type: string
                    osVersion:
                      description: The OS Version running on this Device
                      type: string
                    jvmVersion:
                      description: The JVM Version running on this Device
                      type: string
                    osgiFrameworkVersion:
                      description: The OSGi Framework Version running on this Device
                      type: string
                    applicationFrameworkVersion:
                      description: The Application Framework Version running on this Device
                      type: string
                    connectionInterface:
                      description: The Primary Connection Interface Name of this Device
                      type: string
                    connectionIp:
                      description: The IP Address of the Primary Connection Interface on this Device
                      type: string
                    applicationIdentifiers:
                      description: A string listing all the Kura Applications running on this Device
                      type: string
                    acceptEncoding:
                      description: The MIME Encoding accepted by this Device
                      type: string
                    customAttribute1:
                      description: A Custom Attirbute of this Device - 1
                      type: string
                    customAttribute2:
                      description: A Custom Attirbute of this Device - 2
                      type: string
                    customAttribute3:
                      description: A Custom Attirbute of this Device - 3
                      type: string
                    customAttribute4:
                      description: A Custom Attirbute of this Device - 4
                      type: string
                    customAttribute5:
                      description: A Custom Attirbute of this Device - 5
                      type: string
                  required:
                    - clientId
                  example:
                    clientId: testDevice
                    status: ENABLED
                    displayName: Test Device
                    serialNumber: 1234567890
                    modelId: Test Model
                    biosVersion: N/A
                    firmwareVersion: N/A
                    osVersion: 3.13.0-93-generic
                    jvmVersion: 24.111-b01 mixed mode
                    osgiFrameworkVersion: 1.7.0
                    acceptEncoding: gzip
                    deviceCredentialsMode: LOOSE
        description: Provides the information for the new ZjUserDevice to be created
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
            application/xml:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/zjuserdevicers/ids':
    get:
      tags:
        - ZJ-Userdevice binding process
      summary: Get all the Devices
      operationId: deviceList
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: tagId
          in: query
          description: The tag id to filter results
          schema:
            type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
        - name: clientId
          in: query
          description: The client id to filter results
          schema:
            type: string
        - name: status
          in: query
          description: The device status to filter results
          schema:
            type: string
            enum:
              - ENABLED
              - DISABLED
        - name: fetchAttributes
          in: query
          schema:
            type: array
            items:
              type: string
              enum:
                - connection
                - lastEvent
        - name: askTotalCount
          in: query
          description: 'If true, the total count of the entities matching the query will be included in the result set'
          schema:
            type: boolean
            default: false
        - name: sortParam
          in: query
          description: The name of the parameter that will be used as a sorting key
          schema:
            type: string
        - name: sortDir
          in: query
          description: 'The sort direction. Can be ASCENDING (default), DESCENDING. Case-insensitive.'
          schema:
            type: string
            enum:
              - ASCENDING
              - DESCENDING
            default: ASCENDING
        - name: limit
          in: query
          description: A Limit on the result size. The result set will not contain more items than this number
          schema:
            type: integer
            default: 50
        - name: offset
          in: query
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: The list of the Devices available in the Scope
          content:
            application/json:
              schema:
                allOf:
                  - description: A container for all the Entities List
                    type: object
                    properties:
                      limitExceeded:
                        description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
                        type: boolean
                      size:
                        description: The size of the list containing the items
                        type: integer
                      totalCount:
                        description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
                        type: integer
                    required:
                      - limitedExceeded
                      - size
                  - type: object
                    properties:
                      items:
                        type: array
                        items:
                          properties:
                            groupId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Access Group to which this Device is assigned to
                            clientId:
                              type: string
                              readOnly: true
                              description: The Kura Client ID of this device
                            connectionId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the Connection of this Device
                                  readOnly: true
                            connection:
                              allOf:
                                - allOf:
                                    - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                      type: object
                                      properties:
                                        id:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity
                                              readOnly: true
                                        scopeId:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Scope containing the Entity
                                              readOnly: true
                                        createdOn:
                                          description: The date and time when this entity was created
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        createdBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who created this Entity
                                              readOnly: true
                                    - description: An Entity that also supports edits and versioning
                                      type: object
                                      properties:
                                        modifiedOn:
                                          description: The date and time when this entity was modified
                                          type: string
                                          format: date-time
                                          readOnly: true
                                        modifiedBy:
                                          allOf:
                                            - type: string
                                              pattern: '[A-Za-z0-9-_=]+'
                                              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                            - description: The ID of the Entity who modified this Entity
                                              readOnly: true
                                        optlock:
                                          description: |
                                            The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                                            See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                                          type: integer
                                - type: object
                                  properties:
                                    status:
                                      type: string
                                      enum:
                                        - CONNECTED
                                        - DISCONNECTED
                                        - MISSING
                                        - 'NULL'
                                    clientId:
                                      type: string
                                    userId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    allowUserChange:
                                      type: boolean
                                    userCouplingMode:
                                      type: string
                                      enum:
                                        - INHERITED
                                        - LOOSE
                                        - STRICT
                                    reservedUserId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                    protocol:
                                      type: string
                                    clientIp:
                                      type: string
                                    serverIp:
                                      type: string
                                      readOnly: true
                                  example:
                                    type: deviceConnection
                                    id: Gd1BfeWwh3s
                                    scopeId: AQ
                                    createdOn: '2019-09-12T09:04:32.101Z'
                                    createdBy: Ag
                                    modifiedOn: '2019-09-13T08:04:49.927Z'
                                    modifiedBy: Ag
                                    optlock: 17
                                    status: CONNECTED
                                    clientId: Client-Id-1
                                    userId: Ag
                                    allowUserChange: false
                                    userCouplingMode: INHERITED
                                    protocol: MQTT
                                    clientIp: 'tcp://172.21.0.1:44400'
                                    serverIp: broker
                            status:
                              type: string
                              enum:
                                - ENABLED
                                - DISABLED
                            displayName:
                              description: The Kura Display Name of this Device
                              type: string
                            lastEventId:
                              allOf:
                                - type: string
                                  pattern: '[A-Za-z0-9-_=]+'
                                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                - description: The ID of the last recorded Event from this Device
                                  readOnly: true
                            lastEvent:
                              allOf:
                                - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
                                  type: object
                                  properties:
                                    id:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity
                                          readOnly: true
                                    scopeId:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Scope containing the Entity
                                          readOnly: true
                                    createdOn:
                                      description: The date and time when this entity was created
                                      type: string
                                      format: date-time
                                      readOnly: true
                                    createdBy:
                                      allOf:
                                        - type: string
                                          pattern: '[A-Za-z0-9-_=]+'
                                          description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                                        - description: The ID of the Entity who created this Entity
                                          readOnly: true
                                - type: object
                                  properties:
                                    sentOn:
                                      type: string
                                      format: date-time
                                    receivedOn:
                                      type: string
                                      format: date-time
                                    position:
                                      type: object
                                      properties:
                                        latitude:
                                          type: number
                                          format: double
                                        longitude:
                                          type: number
                                          format: double
                                        altitude:
                                          type: number
                                          format: double
                                        precision:
                                          type: number
                                          format: double
                                        heading:
                                          type: number
                                          format: double
                                        speed:
                                          type: number
                                          format: double
                                        timestamp:
                                          type: string
                                          format: date-time
                                        satellites:
                                          type: integer
                                          format: int32
                                        status:
                                          type: integer
                                          format: int32
                                    resource:
                                      type: string
                                    action:
                                      type: string
                                      enum:
                                        - READ
                                        - CREATE
                                        - WRITE
                                        - DELETE
                                        - OPTIONS
                                        - EXECUTE
                                    responseCode:
                                      type: string
                                      enum:
                                        - ACCEPTED
                                        - BAD_REQUEST
                                        - NOT_FOUND
                                        - INTERNAL_ERROR
                                    eventMessage:
                                      type: string
                                  example:
                                    id: YYHQ2i1S-P0
                                    scopeId: AQ
                                    createdOn: '2019-09-12T09:04:37.392Z'
                                    createdBy: Ag
                                    deviceId: WyczTs_GuDM
                                    receivedOn: '2019-09-12T09:04:32.646Z'
                                    position:
                                      altitude: 0
                                      latitude: 0
                                      longitude: 0
                                    resource: BIRTH
                                    action: CREATE
                                    responseCode: ACCEPTED
                                    eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit #1 SMP Tue Jul 2 22:58:16 UTC 2019~~partNumber=ESF-Docker-RHEL~~serialNumber=ESF-Docker-RHEL~~totalMemory=1023488~~uptime=187894320'
                            serialNumber:
                              description: The Serial Number of this Device
                              type: string
                            modelId:
                              description: The Model ID (not an Kapua ID) of this Device
                              type: string
                            modelName:
                              description: The Model Name of this Device
                              type: string
                            imei:
                              description: The IMEI Code of this Device
                              type: string
                            imsi:
                              description: The IMSI Code of this Device
                              type: string
                            iccid:
                              description: The ICCID Code of this Device
                              type: string
                            biosVersion:
                              description: The BIOS Version running on this Device
                              type: string
                            firmwareVersion:
                              description: The Firmware Version of this Device
                              type: string
                            osVersion:
                              description: The OS Version running on this Device
                              type: string
                            jvmVersion:
                              description: The JVM Version running on this Device
                              type: string
                            osgiFrameworkVersion:
                              description: The OSGi Framework Version running on this Device
                              type: string
                            applicationFrameworkVersion:
                              description: The Application Framework Version running on this Device
                              type: string
                            connectionInterface:
                              description: The Primary Connection Interface Name of this Device
                              type: string
                            connectionIp:
                              description: The IP Address of the Primary Connection Interface on this Device
                              type: string
                            applicationIdentifiers:
                              description: A string listing all the Kura Applications running on this Device
                              type: string
                            acceptEncoding:
                              description: The MIME Encoding accepted by this Device
                              type: string
                            customAttribute1:
                              description: A Custom Attirbute of this Device - 1
                              type: string
                            customAttribute2:
                              description: A Custom Attirbute of this Device - 2
                              type: string
                            customAttribute3:
                              description: A Custom Attirbute of this Device - 3
                              type: string
                            customAttribute4:
                              description: A Custom Attirbute of this Device - 4
                              type: string
                            customAttribute5:
                              description: A Custom Attirbute of this Device - 5
                              type: string
                            tagIds:
                              type: array
                              items:
                                allOf:
                                  - type: string
                                    pattern: '[A-Za-z0-9-_=]+'
                                    description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                          example:
                            type: device
                            id: dIVxI5QpFUI
                            scopeId: AQ
                            createdOn: '2019-09-12T12:08:12.179Z'
                            createdBy: AQ
                            modifiedOn: '2019-09-12T12:08:12.179Z'
                            modifiedBy: AQ
                            optlock: 1
                            clientId: testDevice
                            status: ENABLED
                            displayName: Test Device
                            serialNumber: 1234567890
                            modelId: Test Model
                            biosVersion: N/A
                            firmwareVersion: N/A
                            osVersion: 3.13.0-93-generic
                            jvmVersion: 24.111-b01 mixed mode
                            osgiFrameworkVersion: 1.7.0
                            acceptEncoding: gzip
                            tagIds: []
              examples:
                standard:
                  value:
                    type: deviceListResult
                    limitExceeded: false
                    size: 1
                    items:
                      - type: device
                        id: WyczTs_GuDM
                        scopeId: AQ
                        createdOn: 2019-09-12T09:04:37.315Z
                        createdBy: Ag
                        modifiedOn: 2019-09-12T09:04:37.603Z
                        modifiedBy: Ag
                        optlock: 2
                        clientId: Client-Id-1
                        connectionId: Gd1BfeWwh3s
                        status: ENABLED
                        displayName: null
                        lastEventId: YYHQ2i1S-P0
                        serialNumber: ESF-Docker-RHEL
                        modelId: ESF-Docker-RHEL
                        modelName: ESF-Docker-RHEL
                        biosVersion: N/A
                        firmwareVersion: N/A
                        osVersion: 4.9.184-linuxkit
                        jvmVersion: 25.161-b12 mixed mode
                        osgiFrameworkVersion: 1.8.0
                        applicationFrameworkVersion: ESF_6.0.0
                        connectionInterface: 'lo (00:00:00:00:00:00)'
                        connectionIp: 127.0.0.1
                        applicationIdentifiers: heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1
                        acceptEncoding: gzip
                        tagIds: []
                with-fetch-attributes:
                  value:
                    type: deviceListResult
                    limitExceeded: false
                    size: 1
                    items:
                      - type: device
                        id: WyczTs_GuDM
                        scopeId: AQ
                        createdOn: 2019-09-12T09:04:37.315Z
                        createdBy: Ag
                        modifiedOn: 2019-09-12T09:04:37.603Z
                        modifiedBy: Ag
                        optlock: 2
                        clientId: Client-Id-1
                        connectionId: Gd1BfeWwh3s
                        connection:
                          id: Gd1BfeWwh3s
                          scopeId: AQ
                          createdOn: 2019-09-12T09:04:32.101Z
                          createdBy: Ag
                          modifiedOn: 2019-09-12T09:04:32.101Z
                          modifiedBy: Ag
                          optlock: 1
                          status: CONNECTED
                          clientId: Client-Id-1
                          userId: Ag
                          allowUserChange: false
                          userCouplingMode: INHERITED
                          protocol: MQTT
                          clientIp: 'tcp://172.21.0.1:59596'
                          serverIp: broker
                        status: ENABLED
                        displayName: null
                        lastEventId: YYHQ2i1S-P0
                        lastEvent:
                          id: YYHQ2i1S-P0
                          scopeId: AQ
                          createdOn: 2019-09-12T09:04:37.392Z
                          createdBy: Ag
                          deviceId: WyczTs_GuDM
                          receivedOn: 2019-09-12T09:04:32.646Z
                          position:
                            altitude: 0
                            latitude: 0
                            longitude: 0
                          resource: BIRTH
                          action: CREATE
                          responseCode: ACCEPTED
                          eventMessage: 'acceptEncoding=gzip~~applicationFramework=Kura~~applicationFrameworkVersion=ESF_6.0.0~~applicationIdentifiers=heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1~~availableProcessors=4~~bios=N/A~~biosVersion=N/A~~connectionInterface=lo (00:00:00:00:00:00)~~connectionIp=127.0.0.1~~containerFramework=Eclipse~~containerFrameworkVersion=1.8.0~~displayName=~~firmware=N/A~~firmwareVersion=N/A~~jvm=Java HotSpot(TM) 64-Bit Server VM~~jvmProfile=Java(TM) SE Runtime Environment 1.8.0_161-b12~~jvmVersion=25.161-b12 mixed mode~~modelId=ESF-Docker-RHEL~~modelName=ESF-Docker-RHEL~~os=Linux~~osArch=amd64~~osVersion=4.9.184-linuxkit'
                        serialNumber: ESF-Docker-RHEL
                        modelId: ESF-Docker-RHEL
                        modelName: ESF-Docker-RHEL
                        biosVersion: N/A
                        firmwareVersion: N/A
                        osVersion: 4.9.184-linuxkit
                        jvmVersion: 25.161-b12 mixed mode
                        osgiFrameworkVersion: 1.8.0
                        applicationFrameworkVersion: ESF_6.0.0
                        connectionInterface: 'lo (00:00:00:00:00:00)'
                        connectionIp: 127.0.0.1
                        applicationIdentifiers: heaterPROV-V2DEPLOY-V2VPNCLIENT-V2CONF-V1CERT-V1ASSET-V1CMD-V1
                        acceptEncoding: gzip
                        tagIds: []
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/rooms':
    get:
      tags:
        - ZJ-Meeting Room
      summary: Gets the Room list in the scope
      description: Returns the list of all the Room associated to the current selected scope.
      operationId: Room Query
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: name
          in: query
          description: The name  to filter results.
          required: false
          schema:
            type: string
        - name: deviceId
          in: query
          description: The deviceId  to filter results.
          required: false
          schema:
            type: string
        - name: floor
          in: query
          description: The floor  to filter results.
          required: false
          schema:
            type: string
        - name: offset
          in: query
          description: The result set offset.
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: limit
          in: query
          description: The result set limit.
          required: false
          schema:
            type: integer
            format: int32
            default: 50
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        headUrl:
                          type: string
                        deviceId:
                          type: string
                        position:
                          type: string
                        nickname:
                          type: string
                        floor:
                          type: string
                        roomType:
                          type: integer
                          format: int32
                        capacity:
                          type: integer
                          format: int32
                        photoUrl:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        name:
                          type: string
                        description:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        modifiedBy:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      headUrl:
                        type: string
                      deviceId:
                        type: string
                      position:
                        type: string
                      nickname:
                        type: string
                      floor:
                        type: string
                      roomType:
                        type: integer
                        format: int32
                      capacity:
                        type: integer
                        format: int32
                      photoUrl:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      name:
                        type: string
                      description:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      modifiedBy:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: room
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: roomListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        headUrl:
                          type: string
                        deviceId:
                          type: string
                        position:
                          type: string
                        nickname:
                          type: string
                        floor:
                          type: string
                        roomType:
                          type: integer
                          format: int32
                        capacity:
                          type: integer
                          format: int32
                        photoUrl:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        name:
                          type: string
                        description:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        modifiedBy:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      headUrl:
                        type: string
                      deviceId:
                        type: string
                      position:
                        type: string
                      nickname:
                        type: string
                      floor:
                        type: string
                      roomType:
                        type: integer
                        format: int32
                      capacity:
                        type: integer
                        format: int32
                      photoUrl:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      name:
                        type: string
                      description:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      modifiedBy:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: room
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: roomListResult
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - ZJ-Meeting Room
      summary: Create an Room
      description: Creates a new Room based on the information provided in RoomCreator parameter.
      operationId: createRoom
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the Room
          required: true
          schema:
            type: string
            default: _
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              type: object
              properties:
                headUrl:
                  type: string
                deviceId:
                  type: string
                position:
                  type: string
                nickname:
                  type: string
                floor:
                  type: string
                roomType:
                  type: integer
                  format: int32
                capacity:
                  type: integer
                  format: int32
                photoUrl:
                  type: string
                size:
                  type: integer
                  format: int32
                name:
                  type: string
                description:
                  type: string
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                scopeId:
                  type: string
              xml:
                name: roomCreator
          application/xml:
            schema:
              type: object
              properties:
                headUrl:
                  type: string
                deviceId:
                  type: string
                position:
                  type: string
                nickname:
                  type: string
                floor:
                  type: string
                roomType:
                  type: integer
                  format: int32
                capacity:
                  type: integer
                  format: int32
                photoUrl:
                  type: string
                size:
                  type: integer
                  format: int32
                name:
                  type: string
                description:
                  type: string
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                scopeId:
                  type: string
              xml:
                name: roomCreator
        description: Provides the information for the new Room to be created
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  headUrl:
                    type: string
                  deviceId:
                    type: string
                  position:
                    type: string
                  nickname:
                    type: string
                  floor:
                    type: string
                  roomType:
                    type: integer
                    format: int32
                  capacity:
                    type: integer
                    format: int32
                  photoUrl:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: room
            application/xml:
              schema:
                type: object
                properties:
                  headUrl:
                    type: string
                  deviceId:
                    type: string
                  position:
                    type: string
                  nickname:
                    type: string
                  floor:
                    type: string
                  roomType:
                    type: integer
                    format: int32
                  capacity:
                    type: integer
                    format: int32
                  photoUrl:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: room
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/rooms/import':
    post:
      tags:
        - ZJ-Meeting Room
      summary: Create an Room by import data
      description: Creates a new Room based on the information provided in Room parameter.
      operationId: importCreateRoom
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the Room
          required: true
          schema:
            type: string
            default: _
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              type: object
              properties:
                headUrl:
                  type: string
                deviceId:
                  type: string
                position:
                  type: string
                nickname:
                  type: string
                floor:
                  type: string
                roomType:
                  type: integer
                  format: int32
                capacity:
                  type: integer
                  format: int32
                photoUrl:
                  type: string
                type:
                  type: string
                size:
                  type: integer
                  format: int32
                name:
                  type: string
                description:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                modifiedBy:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: room
          application/xml:
            schema:
              type: object
              properties:
                headUrl:
                  type: string
                deviceId:
                  type: string
                position:
                  type: string
                nickname:
                  type: string
                floor:
                  type: string
                roomType:
                  type: integer
                  format: int32
                capacity:
                  type: integer
                  format: int32
                photoUrl:
                  type: string
                type:
                  type: string
                size:
                  type: integer
                  format: int32
                name:
                  type: string
                description:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                modifiedBy:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: room
        description: Provides the information for the new Room to be created
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  headUrl:
                    type: string
                  deviceId:
                    type: string
                  position:
                    type: string
                  nickname:
                    type: string
                  floor:
                    type: string
                  roomType:
                    type: integer
                    format: int32
                  capacity:
                    type: integer
                    format: int32
                  photoUrl:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: room
            application/xml:
              schema:
                type: object
                properties:
                  headUrl:
                    type: string
                  deviceId:
                    type: string
                  position:
                    type: string
                  nickname:
                    type: string
                  floor:
                    type: string
                  roomType:
                    type: integer
                    format: int32
                  capacity:
                    type: integer
                    format: int32
                  photoUrl:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: room
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/rooms/{roomId}':
    get:
      tags:
        - ZJ-Meeting Room
      summary: Get an Room
      description: Returns the Room specified by the "Id" path parameter.
      operationId: find Room
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested Room.
          required: true
          schema:
            type: string
            default: _
        - name: roomId
          in: path
          description: The id of the requested Room
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  headUrl:
                    type: string
                  deviceId:
                    type: string
                  position:
                    type: string
                  nickname:
                    type: string
                  floor:
                    type: string
                  roomType:
                    type: integer
                    format: int32
                  capacity:
                    type: integer
                    format: int32
                  photoUrl:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: room
            application/xml:
              schema:
                type: object
                properties:
                  headUrl:
                    type: string
                  deviceId:
                    type: string
                  position:
                    type: string
                  nickname:
                    type: string
                  floor:
                    type: string
                  roomType:
                    type: integer
                    format: int32
                  capacity:
                    type: integer
                    format: int32
                  photoUrl:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: room
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - ZJ-Meeting Room
      summary: Update an Room
      description: Updates a new Room based on the information provided in the Room parameter.
      operationId: update Room
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested Room.
          required: true
          schema:
            type: string
            default: _
        - name: roomId
          in: path
          description: The id of the requested Room
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              type: object
              properties:
                headUrl:
                  type: string
                deviceId:
                  type: string
                position:
                  type: string
                nickname:
                  type: string
                floor:
                  type: string
                roomType:
                  type: integer
                  format: int32
                capacity:
                  type: integer
                  format: int32
                photoUrl:
                  type: string
                type:
                  type: string
                size:
                  type: integer
                  format: int32
                name:
                  type: string
                description:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                modifiedBy:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: room
          application/xml:
            schema:
              type: object
              properties:
                headUrl:
                  type: string
                deviceId:
                  type: string
                position:
                  type: string
                nickname:
                  type: string
                floor:
                  type: string
                roomType:
                  type: integer
                  format: int32
                capacity:
                  type: integer
                  format: int32
                photoUrl:
                  type: string
                type:
                  type: string
                size:
                  type: integer
                  format: int32
                name:
                  type: string
                description:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                modifiedBy:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: room
        description: The modified Room whose attributes needs to be updated
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  headUrl:
                    type: string
                  deviceId:
                    type: string
                  position:
                    type: string
                  nickname:
                    type: string
                  floor:
                    type: string
                  roomType:
                    type: integer
                    format: int32
                  capacity:
                    type: integer
                    format: int32
                  photoUrl:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: room
            application/xml:
              schema:
                type: object
                properties:
                  headUrl:
                    type: string
                  deviceId:
                    type: string
                  position:
                    type: string
                  nickname:
                    type: string
                  floor:
                    type: string
                  roomType:
                    type: integer
                    format: int32
                  capacity:
                    type: integer
                    format: int32
                  photoUrl:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: room
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - ZJ-Meeting Room
      summary: Delete an Room
      description: Deletes the Room specified by the "id" path parameter.
      operationId: detele Room and mid
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the Room to delete.
          required: true
          schema:
            type: string
            default: _
        - name: roomId
          in: path
          description: The id of the Room to be deleted
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/rooms/_count':
    post:
      tags:
        - ZJ-Meeting Room
      summary: Counts the Room
      description: Counts the Room with the given Room Query parameter returning the number of matching Room
      operationId: Room Count
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to count results
          required: true
          schema:
            type: string
            default: _
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
            application/xml:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/rooms/_query':
    post:
      tags:
        - ZJ-Meeting Room
      summary: Queries the Room
      description: Queries the Room with the given RoomQuery parameter returning all matching Rooms
      operationId: Room ListResultQuery
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        headUrl:
                          type: string
                        deviceId:
                          type: string
                        position:
                          type: string
                        nickname:
                          type: string
                        floor:
                          type: string
                        roomType:
                          type: integer
                          format: int32
                        capacity:
                          type: integer
                          format: int32
                        photoUrl:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        name:
                          type: string
                        description:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        modifiedBy:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      headUrl:
                        type: string
                      deviceId:
                        type: string
                      position:
                        type: string
                      nickname:
                        type: string
                      floor:
                        type: string
                      roomType:
                        type: integer
                        format: int32
                      capacity:
                        type: integer
                        format: int32
                      photoUrl:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      name:
                        type: string
                      description:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      modifiedBy:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: room
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: roomListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        headUrl:
                          type: string
                        deviceId:
                          type: string
                        position:
                          type: string
                        nickname:
                          type: string
                        floor:
                          type: string
                        roomType:
                          type: integer
                          format: int32
                        capacity:
                          type: integer
                          format: int32
                        photoUrl:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        name:
                          type: string
                        description:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        modifiedBy:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      headUrl:
                        type: string
                      deviceId:
                        type: string
                      position:
                        type: string
                      nickname:
                        type: string
                      floor:
                        type: string
                      roomType:
                        type: integer
                        format: int32
                      capacity:
                        type: integer
                        format: int32
                      photoUrl:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      name:
                        type: string
                      description:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      modifiedBy:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: room
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: roomListResult
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/meetings':
    get:
      tags:
        - ZJ-Meeting Meetings
      summary: Gets the Meeting list in the scope
      description: Returns the list of all the meeting associated to the current selected scope.
      operationId: meetingSimpleQuery
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: name
          in: query
          description: The meeting name to filter results.
          required: false
          schema:
            type: string
        - name: roomId
          in: query
          description: The meeting roomId to filter results.
          required: false
          schema:
            type: string
        - name: startReservedDate
          in: query
          description: The meeting reserved start Date to filter results.
          required: false
          schema:
            type: string
        - name: endReservedDate
          in: query
          description: The meeting reserved end Date to filter results.
          required: false
          schema:
            type: string
        - name: offset
          in: query
          description: The result set offset.
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: limit
          in: query
          description: The result set limit.
          required: false
          schema:
            type: integer
            format: int32
            default: 50
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        meetingTheme:
                          type: string
                        endTime:
                          type: integer
                          format: int32
                        reservedPerson:
                          type: string
                        meetingType:
                          type: string
                        masterId:
                          type: string
                        masterName:
                          type: string
                        meetingContent:
                          type: string
                        roomId:
                          type: string
                        roomName:
                          type: string
                        reservedStartDate:
                          type: string
                        reservedEndDate:
                          type: string
                        startTime:
                          type: integer
                          format: int32
                        status:
                          type: integer
                          format: int32
                        type:
                          type: string
                        name:
                          type: string
                        description:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        modifiedBy:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      meetingTheme:
                        type: string
                      endTime:
                        type: integer
                        format: int32
                      reservedPerson:
                        type: string
                      meetingType:
                        type: string
                      masterId:
                        type: string
                      masterName:
                        type: string
                      meetingContent:
                        type: string
                      roomId:
                        type: string
                      roomName:
                        type: string
                      reservedStartDate:
                        type: string
                      reservedEndDate:
                        type: string
                      startTime:
                        type: integer
                        format: int32
                      status:
                        type: integer
                        format: int32
                      type:
                        type: string
                      name:
                        type: string
                      description:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      modifiedBy:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: meeting
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: MeetingListResult
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - ZJ-Meeting Meetings
      summary: Create an Meeting
      description: Creates a new Meeting based on the information provided in MeetingCreator parameter.
      operationId: create Meeting
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the Meeting
          required: true
          schema:
            type: string
            default: _
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              type: object
              properties:
                meetingTheme:
                  type: string
                endTime:
                  type: integer
                  format: int32
                reservedPerson:
                  type: string
                meetingType:
                  type: string
                masterId:
                  type: string
                masterName:
                  type: string
                meetingContent:
                  type: string
                roomId:
                  type: string
                roomName:
                  type: string
                reservedStartDate:
                  type: string
                reservedEndDate:
                  type: string
                status:
                  type: integer
                  format: int32
                startTime:
                  type: integer
                  format: int32
                name:
                  type: string
                description:
                  type: string
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                scopeId:
                  type: string
              xml:
                name: meetingCreator
        description: Provides the information for the new Meeting to be created
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  meetingTheme:
                    type: string
                  endTime:
                    type: integer
                    format: int32
                  reservedPerson:
                    type: string
                  meetingType:
                    type: string
                  masterId:
                    type: string
                  masterName:
                    type: string
                  meetingContent:
                    type: string
                  roomId:
                    type: string
                  roomName:
                    type: string
                  reservedStartDate:
                    type: string
                  reservedEndDate:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  status:
                    type: integer
                    format: int32
                  type:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: meeting
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/meetings/adapter':
    post:
      tags:
        - ZJ-Meeting Meetings
      summary: update meeting info by cmobile adapter
      description: update meeting info by cmobile adapter
      operationId: meetingAdapter
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the Meeting
          required: true
          schema:
            type: string
            default: _
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              type: object
              properties:
                ID:
                  type: string
                  description: the meeting id by name
                operation:
                  type: string
                  description: create 添加，update 修改 cancel 取消
                ORG_NAME:
                  type: string
                  description: apartment "综合部"
                APPLY_USER_ID:
                  type: string
                  description: 提交预约用户id 03900277
                APPLY_USER_NAME:
                  type: string
                  description: commit user name
                APPLY_TIME:
                  type: string
                  description: 'time of aplly 2017-12-14 23:51:39'
                MEETINGROOM_NAME:
                  type: string
                  description: meeting room name
                MEETINGROOM_ID:
                  type: string
                  description: meeting room id
                MEETING_THEME:
                  type: string
                  description: meeting theme
                START_TIME:
                  type: string
                  description: meeting start time
                END_TIME:
                  type: string
                  description: meeting end time
                MEETING_HOST_ID:
                  type: string
                  description: 主持人id
                MEETING_HOST_NAME:
                  type: string
                  description: 主持人名
                MEETING_CONTENT:
                  type: string
                  description: 会议内容
                MEETING_TYPE:
                  type: string
                  description: 会议类型
              example:
                ID: '666'
                operation: create
                ORG_NAME: testa
                APPLY_USER_ID: AQ
                APPLY_USER_NAME: user
                APPLY_TIME: '2020-04-02 10:48:43'
                MEETINGROOM_NAME: room
                MEETINGROOM_ID: '971320077038140579'
                MEETING_THEME: theme of meeting
                START_TIME: '2020-04-02 10:48:43'
                END_TIME: '2020-04-02 10:48:43'
                MEETING_HOST_ID: AQ
                MEETING_HOST_NAME: aaa
                MEETING_CONTENT: test content
                MEETING_TYPE: '0'
        description: Provides the information for the new Meeting to be created
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/meetings/{meetingId}':
    get:
      tags:
        - ZJ-Meeting Meetings
      summary: get an Meeting by id
      description: Get a Meeting based on the information provided in the Meeting parameter.
      operationId: get Meeting
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested Meeting.
          required: true
          schema:
            type: string
            default: _
        - name: meetingId
          in: path
          description: The id of the requested meeting
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  meetingTheme:
                    type: string
                  endTime:
                    type: integer
                    format: int32
                  reservedPerson:
                    type: string
                  meetingType:
                    type: string
                  masterId:
                    type: string
                  masterName:
                    type: string
                  meetingContent:
                    type: string
                  roomId:
                    type: string
                  roomName:
                    type: string
                  reservedStartDate:
                    type: string
                  reservedEndDate:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  status:
                    type: integer
                    format: int32
                  type:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: meeting
      security:
        - kapuaAccessToken: []
    put:
      tags:
        - ZJ-Meeting Meetings
      summary: Update an Meeting
      description: Updates a new Meeting based on the information provided in the Meeting parameter.
      operationId: update Meeting
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested Meeting.
          required: true
          schema:
            type: string
            default: _
        - name: meetingId
          in: path
          description: The id of the requested Meeting
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  meetingTheme:
                    type: string
                  endTime:
                    type: integer
                    format: int32
                  reservedPerson:
                    type: string
                  meetingType:
                    type: string
                  masterId:
                    type: string
                  masterName:
                    type: string
                  meetingContent:
                    type: string
                  roomId:
                    type: string
                  roomName:
                    type: string
                  reservedStartDate:
                    type: string
                  reservedEndDate:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  status:
                    type: integer
                    format: int32
                  type:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: meeting
      security:
        - kapuaAccessToken: []
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              type: object
              properties:
                meetingTheme:
                  type: string
                endTime:
                  type: integer
                  format: int32
                reservedPerson:
                  type: string
                meetingType:
                  type: string
                masterId:
                  type: string
                masterName:
                  type: string
                meetingContent:
                  type: string
                roomId:
                  type: string
                roomName:
                  type: string
                reservedStartDate:
                  type: string
                reservedEndDate:
                  type: string
                startTime:
                  type: integer
                  format: int32
                status:
                  type: integer
                  format: int32
                type:
                  type: string
                name:
                  type: string
                description:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                modifiedBy:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: meeting
        description: The modified Meeting whose attributes needs to be updated
        required: true
    delete:
      tags:
        - ZJ-Meeting Meetings
      summary: Delete an Meeting
      description: Deletes the Meeting specified by the "id" path parameter.
      operationId: detele Meeting
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the Meeting to delete.
          required: true
          schema:
            type: string
            default: _
        - name: meetingId
          in: path
          description: The id of the Meeting to be deleted
          required: true
          schema:
            type: string
      responses:
        default:
          description: successful operation
  '/{scopeId}/meetings/{meetingId}/cancel':
    put:
      tags:
        - ZJ-Meeting Meetings
      summary: cancel an Meeting
      description: cancel the Meeting specified by the "id" path parameter.
      operationId: cancelMeeting
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the Meeting to delete.
          required: true
          schema:
            type: string
            default: _
        - name: meetingId
          in: path
          description: The id of the Meeting to be deleted
          required: true
          schema:
            type: string
      responses:
        default:
          description: successful operation
  '/{scopeId}/meetings/_count':
    post:
      tags:
        - ZJ-Meeting Meetings
      summary: Counts the Meeting
      description: Counts the Meeting with the given Meeting Query parameter returning the number of matching Meeting
      operationId: Meeting Count
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to count results
          required: true
          schema:
            type: string
            default: _
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/meetings/_countmeeting':
    get:
      tags:
        - ZJ-Meeting Meetings
      summary: Gets the Meeting count by query
      description: Returns the count of all the meeting associated to the current selected scope.
      operationId: _countmeeting
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: name
          in: query
          description: The meeting name to filter results.
          required: false
          schema:
            type: string
        - name: roomId
          in: query
          description: The meeting roomId to filter results.
          required: false
          schema:
            type: string
        - name: startReservedDate
          in: query
          description: The meeting reserved start Date to filter results.
          required: false
          schema:
            type: string
        - name: endReservedDate
          in: query
          description: The meeting reserved end Date to filter results.
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/meetings/_query':
    post:
      tags:
        - ZJ-Meeting Meetings
      summary: Queries the Meetings
      description: Queries the Meetings with the given MeetingQuery parameter returning all matching Meetings
      operationId: meetingQuery
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        meetingTheme:
                          type: string
                        endTime:
                          type: integer
                          format: int32
                        reservedPerson:
                          type: string
                        meetingType:
                          type: string
                        masterId:
                          type: string
                        masterName:
                          type: string
                        meetingContent:
                          type: string
                        roomId:
                          type: string
                        roomName:
                          type: string
                        reservedStartDate:
                          type: string
                        reservedEndDate:
                          type: string
                        startTime:
                          type: integer
                          format: int32
                        status:
                          type: integer
                          format: int32
                        type:
                          type: string
                        name:
                          type: string
                        description:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        modifiedBy:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      meetingTheme:
                        type: string
                      endTime:
                        type: integer
                        format: int32
                      reservedPerson:
                        type: string
                      meetingType:
                        type: string
                      masterId:
                        type: string
                      masterName:
                        type: string
                      meetingContent:
                        type: string
                      roomId:
                        type: string
                      roomName:
                        type: string
                      reservedStartDate:
                        type: string
                      reservedEndDate:
                        type: string
                      startTime:
                        type: integer
                        format: int32
                      status:
                        type: integer
                        format: int32
                      type:
                        type: string
                      name:
                        type: string
                      description:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      modifiedBy:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: meeting
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: MeetingListResult
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  /qrcodes/getpic:
    get:
      tags:
        - ZJ-Qrcodes
      summary: Queries the QrcodeAPI
      description: 'Queries the QrcodeAPI with the given content,width  parameter returning all matching QrcodeAPI'
      operationId: Queries the getCodePic
      parameters:
        - name: content
          in: query
          description: The content in which to create the QrcodeAPI
          required: true
          schema:
            type: string
        - name: width
          in: query
          description: Provides the widths for the new QrcodeAPI to be created
          required: true
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: successful operation
          content:
            image/jpg:
              schema:
                type: object
  /wxqrcodes/getpic:
    get:
      tags:
        - ZJ-Qrcodes
      summary: Queries the QrcodeAPI
      description: 'Queries the QrcodeAPI with the given content,width  parameter returning all matching QrcodeAPI'
      operationId: Queries the QrcodeAPI
      parameters:
        - name: width
          in: query
          description: Provides the widths for the new WxQrcodesAPI to be created
          required: true
          schema:
            type: integer
            format: int32
        - name: sceneId
          in: query
          description: Provides the sceneId for the new WxQrcodesAPI to be created
          required: true
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: successful operation
          content:
            image/jpg:
              schema:
                type: object
  '/{scopeId}/appinfos':
    get:
      tags:
        - ZJ-AppInfos
      summary: Gets the AppInfo list in the scope
      description: Returns the list of all the AppInfo associated to the current selected scope.
      operationId: AppInfoQuery
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: name
          in: query
          description: The AppVersion version to filter results.
          required: false
          schema:
            type: string
        - name: offset
          in: query
          description: The result set offset.
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: limit
          in: query
          description: The result set limit.
          required: false
          schema:
            type: integer
            format: int32
            default: 50
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        packagename:
                          type: string
                        image:
                          type: string
                        types:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      packagename:
                        type: string
                      image:
                        type: string
                      types:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      description:
                        type: string
                      name:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appInfo
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appInfoListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        packagename:
                          type: string
                        image:
                          type: string
                        types:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      packagename:
                        type: string
                      image:
                        type: string
                      types:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      description:
                        type: string
                      name:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appInfo
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appInfoListResult
    post:
      tags:
        - ZJ-AppInfos
      summary: Create an AppInfo
      description: Creates a new AppInfo based on the information provided in AppInfoCreator parameter.
      operationId: create AppInfo
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the AppInfo
          required: true
          schema:
            type: string
            default: _
      responses:
        '200':
          description: successful operation
          content:
            application/xml:
              schema:
                type: object
                properties:
                  packagename:
                    type: string
                  image:
                    type: string
                  types:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appInfo
            application/json:
              schema:
                type: object
                properties:
                  packagename:
                    type: string
                  image:
                    type: string
                  types:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appInfo
      requestBody:
        content:
          application/xml:
            schema:
              type: object
              properties:
                packagename:
                  type: string
                image:
                  type: string
                types:
                  type: string
                comment:
                  type: string
                description:
                  type: string
                name:
                  type: string
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                scopeId:
                  type: string
              xml:
                name: appInfoCreator
          application/json:
            schema:
              type: object
              properties:
                packagename:
                  type: string
                image:
                  type: string
                types:
                  type: string
                comment:
                  type: string
                description:
                  type: string
                name:
                  type: string
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                scopeId:
                  type: string
              xml:
                name: appInfoCreator
        description: Provides the information for the new AppInfo to be created
        required: true
  '/{scopeId}/appinfos/{appInfoId}':
    get:
      tags:
        - ZJ-AppInfos
      summary: Get an appInfo
      description: Returns the AppInfo specified by the "appInfoId" path parameter.
      operationId: 'Get appInfoId '
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested AppInfo.
          required: true
          schema:
            type: string
            default: _
        - name: appInfoId
          in: path
          description: The id of the requested AppInfo
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  packagename:
                    type: string
                  image:
                    type: string
                  types:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appInfo
            application/xml:
              schema:
                type: object
                properties:
                  packagename:
                    type: string
                  image:
                    type: string
                  types:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appInfo
    put:
      tags:
        - ZJ-AppInfos
      summary: Update an AppInfo
      description: Updates a new AppInfo based on the information provided in the AppInfo parameter.
      operationId: update AppInfo
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested AppVersion.
          required: true
          schema:
            type: string
            default: _
        - name: appInfoId
          in: path
          description: The id of the requested AppInfo
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/xml:
              schema:
                type: object
                properties:
                  packagename:
                    type: string
                  image:
                    type: string
                  types:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appInfo
            application/json:
              schema:
                type: object
                properties:
                  packagename:
                    type: string
                  image:
                    type: string
                  types:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appInfo
      requestBody:
        content:
          application/xml:
            schema:
              type: object
              properties:
                packagename:
                  type: string
                image:
                  type: string
                types:
                  type: string
                comment:
                  type: string
                type:
                  type: string
                description:
                  type: string
                name:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                modifiedBy:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: appInfo
          application/json:
            schema:
              type: object
              properties:
                packagename:
                  type: string
                image:
                  type: string
                types:
                  type: string
                comment:
                  type: string
                type:
                  type: string
                description:
                  type: string
                name:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                modifiedBy:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: appInfo
        description: The modified AppInfo whose attributes needs to be updated
        required: true
    delete:
      tags:
        - ZJ-AppInfos
      summary: Delete an AppInfo
      description: Deletes the AppInfo specified by the "appInfoId" path parameter.
      operationId: deleteAppVersion
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the Account to delete.
          required: true
          schema:
            type: string
            default: _
        - name: appInfoId
          in: path
          description: The id of the Account to be deleted
          required: true
          schema:
            type: string
      responses:
        default:
          description: successful operation
  '/{scopeId}/appinfos/scopeId/packagename/{packageName}':
    get:
      tags:
        - ZJ-AppInfos
      summary: Get an AppInfo
      description: Returns the AppInfo specified by the "packageName" path parameter.
      operationId: findByPackageName
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested AppInfo.
          required: true
          schema:
            type: string
            default: _
        - name: packageName
          in: path
          description: The packageName of the requested AppInfo
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  packagename:
                    type: string
                  image:
                    type: string
                  types:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appInfo
            application/xml:
              schema:
                type: object
                properties:
                  packagename:
                    type: string
                  image:
                    type: string
                  types:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appInfo
  '/{scopeId}/appinfos/scopeId/name/{name}':
    get:
      tags:
        - ZJ-AppInfos
      summary: Get an AppInfoListResult by name
      description: Returns the AppInfoListResult specified by the "name" path parameter.
      operationId: findByName
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested AppInfoListResult.
          required: true
          schema:
            type: string
            default: _
        - name: name
          in: path
          description: The name of the requested AppInfoListResult
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        packagename:
                          type: string
                        image:
                          type: string
                        types:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      packagename:
                        type: string
                      image:
                        type: string
                      types:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      description:
                        type: string
                      name:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appInfo
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appInfoListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        packagename:
                          type: string
                        image:
                          type: string
                        types:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      packagename:
                        type: string
                      image:
                        type: string
                      types:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      description:
                        type: string
                      name:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appInfo
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appInfoListResult
  '/{scopeId}/appinfos/_count':
    post:
      tags:
        - ZJ-AppInfos
      summary: Counts the appInfo
      description: Counts the appInfo with the given appInfoQuery parameter returning the number of matching appInfo
      operationId: appInfoCount
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to count results
          required: true
          schema:
            type: string
            default: _
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
  '/{scopeId}/appinfos/_query':
    post:
      tags:
        - ZJ-AppInfos
      summary: Queries the AppInfo
      description: Queries the AppInfo with the given AppInfoQuery parameter returning all matching AppInfos
      operationId: appInfoQuery
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
      responses:
        '200':
          description: successful operation
          content:
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        packagename:
                          type: string
                        image:
                          type: string
                        types:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      packagename:
                        type: string
                      image:
                        type: string
                      types:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      description:
                        type: string
                      name:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appInfo
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appInfoListResult
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        packagename:
                          type: string
                        image:
                          type: string
                        types:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      packagename:
                        type: string
                      image:
                        type: string
                      types:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      description:
                        type: string
                      name:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appInfo
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appInfoListResult
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
  '/{scopeId}/appversions':
    get:
      tags:
        - ZJ-AppVersions
      summary: Gets the appVersion list in the scope
      description: Returns the list of all the appVersion associated to the current selected scope.
      operationId: appVersionQuery
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: packagename
          in: query
          description: The AppVersion version to filter results.
          required: false
          schema:
            type: string
        - name: offset
          in: query
          description: The result set offset.
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: limit
          in: query
          description: The result set limit.
          required: false
          schema:
            type: integer
            format: int32
            default: 50
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        code:
                          type: string
                        url:
                          type: string
                        packagename:
                          type: string
                        types:
                          type: string
                        md5:
                          type: string
                        revision:
                          type: string
                        forversion:
                          type: string
                        version:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      code:
                        type: string
                      url:
                        type: string
                      packagename:
                        type: string
                      types:
                        type: string
                      md5:
                        type: string
                      revision:
                        type: string
                      forversion:
                        type: string
                      version:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersion
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        code:
                          type: string
                        url:
                          type: string
                        packagename:
                          type: string
                        types:
                          type: string
                        md5:
                          type: string
                        revision:
                          type: string
                        forversion:
                          type: string
                        version:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      code:
                        type: string
                      url:
                        type: string
                      packagename:
                        type: string
                      types:
                        type: string
                      md5:
                        type: string
                      revision:
                        type: string
                      forversion:
                        type: string
                      version:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersion
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionListResult
      security:
        - kapuaAccessToken: []
    post:
      tags:
        - ZJ-AppVersions
      summary: Create an AppVersion
      description: Creates a new AppVersion based on the information provided in AppVersionCreator parameter.
      operationId: Create an AppVersion
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the AppVersion
          required: true
          schema:
            type: string
            default: _
      responses:
        '200':
          description: successful operation
          content:
            application/xml:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  url:
                    type: string
                  packagename:
                    type: string
                  types:
                    type: string
                  md5:
                    type: string
                  revision:
                    type: string
                  forversion:
                    type: string
                  version:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersion
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  url:
                    type: string
                  packagename:
                    type: string
                  types:
                    type: string
                  md5:
                    type: string
                  revision:
                    type: string
                  forversion:
                    type: string
                  version:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersion
      security:
        - kapuaAccessToken: []
      requestBody:
        content:
          application/xml:
            schema:
              type: object
              properties:
                code:
                  type: string
                url:
                  type: string
                packagename:
                  type: string
                types:
                  type: string
                md5:
                  type: string
                revision:
                  type: string
                forversion:
                  type: string
                version:
                  type: string
                comment:
                  type: string
                size:
                  type: integer
                  format: int32
                scopeId:
                  type: string
              xml:
                name: appVersionCreator
          application/json:
            schema:
              type: object
              properties:
                code:
                  type: string
                url:
                  type: string
                packagename:
                  type: string
                types:
                  type: string
                md5:
                  type: string
                revision:
                  type: string
                forversion:
                  type: string
                version:
                  type: string
                comment:
                  type: string
                size:
                  type: integer
                  format: int32
                scopeId:
                  type: string
              xml:
                name: appVersionCreator
        description: Provides the information for the new AppVersion to be created
        required: true
  '/{scopeId}/appversions/{appVersionId}':
    put:
      tags:
        - ZJ-AppVersions
      summary: Update an AppVersion
      description: Updates a new AppVersion based on the information provided in the AppVersion parameter.
      operationId: UpdateAppVersionId
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested AppVersion.
          required: true
          schema:
            type: string
            default: _
        - name: appVersionId
          in: path
          description: The id of the requested AppVersion
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/xml:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  url:
                    type: string
                  packagename:
                    type: string
                  types:
                    type: string
                  md5:
                    type: string
                  revision:
                    type: string
                  forversion:
                    type: string
                  version:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersion
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  url:
                    type: string
                  packagename:
                    type: string
                  types:
                    type: string
                  md5:
                    type: string
                  revision:
                    type: string
                  forversion:
                    type: string
                  version:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersion
      security:
        - kapuaAccessToken: []
      requestBody:
        content:
          application/xml:
            schema:
              type: object
              properties:
                code:
                  type: string
                url:
                  type: string
                packagename:
                  type: string
                types:
                  type: string
                md5:
                  type: string
                revision:
                  type: string
                forversion:
                  type: string
                version:
                  type: string
                comment:
                  type: string
                type:
                  type: string
                size:
                  type: integer
                  format: int32
                modifiedOn:
                  type: string
                  format: date-time
                modifiedBy:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: appVersion
          application/json:
            schema:
              type: object
              properties:
                code:
                  type: string
                url:
                  type: string
                packagename:
                  type: string
                types:
                  type: string
                md5:
                  type: string
                revision:
                  type: string
                forversion:
                  type: string
                version:
                  type: string
                comment:
                  type: string
                type:
                  type: string
                size:
                  type: integer
                  format: int32
                modifiedOn:
                  type: string
                  format: date-time
                modifiedBy:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: appVersion
        description: The modified AppVersion whose attributes needs to be updated
        required: true
    delete:
      tags:
        - ZJ-AppVersions
      summary: Delete an AppVersion
      description: Deletes the AppVersion specified by the "appVersionId" path parameter.
      operationId: deleteAppVersions
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the Account to delete.
          required: true
          schema:
            type: string
            default: _
        - name: appVersionId
          in: path
          description: The id of the Account to be deleted
          required: true
          schema:
            type: string
      responses:
        default:
          description: successful operation
      security:
        - kapuaAccessToken: []
  '/{scopeId}/appversions/update':
    get:
      tags:
        - ZJ-AppVersions
      summary: Get an AppVersion
      description: 'Returns the AppVersion specified by the "packagename,version" path parameter.'
      operationId: appVersions Update
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested ApiInfo.
          required: true
          schema:
            type: string
            default: _
        - name: package
          in: query
          description: The pName of the requested ApiInfo
          required: false
          schema:
            type: string
        - name: version
          in: query
          description: The version of the requested ApiInfo
          required: false
          schema:
            type: string
        - name: deviceid
          in: query
          description: The pName of the requested ApiInfo
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  url:
                    type: string
                  packagename:
                    type: string
                  types:
                    type: string
                  md5:
                    type: string
                  revision:
                    type: string
                  forversion:
                    type: string
                  version:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersion
            application/xml:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  url:
                    type: string
                  packagename:
                    type: string
                  types:
                    type: string
                  md5:
                    type: string
                  revision:
                    type: string
                  forversion:
                    type: string
                  version:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersion
      security:
        - kapuaAccessToken: []
  '/{scopeId}/appversions/{version}':
    get:
      tags:
        - ZJ-AppVersions
      summary: Gets the appVersion list in the scope ByPackagename and version
      description: Returns the list of all the appVersion associated to the current selected scope.
      operationId: appVersionQueryByPackagename and version
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: packagename
          in: query
          description: The AppVersion version to filter results.
          required: true
          schema:
            type: string
        - name: version
          in: path
          description: The AppVersion version to filter results.
          required: true
          schema:
            type: string
        - name: offset
          in: query
          description: The result set offset.
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: limit
          in: query
          description: The result set limit.
          required: false
          schema:
            type: integer
            format: int32
            default: 50
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        code:
                          type: string
                        url:
                          type: string
                        packagename:
                          type: string
                        types:
                          type: string
                        md5:
                          type: string
                        revision:
                          type: string
                        forversion:
                          type: string
                        version:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      code:
                        type: string
                      url:
                        type: string
                      packagename:
                        type: string
                      types:
                        type: string
                      md5:
                        type: string
                      revision:
                        type: string
                      forversion:
                        type: string
                      version:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersion
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        code:
                          type: string
                        url:
                          type: string
                        packagename:
                          type: string
                        types:
                          type: string
                        md5:
                          type: string
                        revision:
                          type: string
                        forversion:
                          type: string
                        version:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      code:
                        type: string
                      url:
                        type: string
                      packagename:
                        type: string
                      types:
                        type: string
                      md5:
                        type: string
                      revision:
                        type: string
                      forversion:
                        type: string
                      version:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersion
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionListResult
      security:
        - kapuaAccessToken: []
  '/{scopeId}/appversions/appversions/{packageName}':
    get:
      tags:
        - ZJ-AppVersions
      summary: Get an AppVersion
      description: Returns the AppVersion specified by the "packageName" path parameter.
      operationId: findByPackageNames
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested AppVersion.
          required: true
          schema:
            type: string
            default: _
        - name: packageName
          in: path
          description: The packageName of the requested AppVersion
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  url:
                    type: string
                  packagename:
                    type: string
                  types:
                    type: string
                  md5:
                    type: string
                  revision:
                    type: string
                  forversion:
                    type: string
                  version:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersion
            application/xml:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  url:
                    type: string
                  packagename:
                    type: string
                  types:
                    type: string
                  md5:
                    type: string
                  revision:
                    type: string
                  forversion:
                    type: string
                  version:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersion
      security:
        - kapuaAccessToken: []
  '/{scopeId}/appversions/appversions/{packageName}/{version}':
    get:
      tags:
        - ZJ-AppVersions
      summary: Get an AppVersionListResult
      description: Returns the AppVersionListResult specified by the  path parameter.
      operationId: findByPackAndVersion
      parameters:
        - name: scopeId
          in: path
          description: 'The ScopeId of the requested '
          required: true
          schema:
            type: string
            default: _
        - name: packageName
          in: path
          description: 'The packageName of the requested '
          required: true
          schema:
            type: string
        - name: version
          in: path
          description: 'The version of the requested '
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        code:
                          type: string
                        url:
                          type: string
                        packagename:
                          type: string
                        types:
                          type: string
                        md5:
                          type: string
                        revision:
                          type: string
                        forversion:
                          type: string
                        version:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      code:
                        type: string
                      url:
                        type: string
                      packagename:
                        type: string
                      types:
                        type: string
                      md5:
                        type: string
                      revision:
                        type: string
                      forversion:
                        type: string
                      version:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersion
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        code:
                          type: string
                        url:
                          type: string
                        packagename:
                          type: string
                        types:
                          type: string
                        md5:
                          type: string
                        revision:
                          type: string
                        forversion:
                          type: string
                        version:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      code:
                        type: string
                      url:
                        type: string
                      packagename:
                        type: string
                      types:
                        type: string
                      md5:
                        type: string
                      revision:
                        type: string
                      forversion:
                        type: string
                      version:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersion
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionListResult
      security:
        - kapuaAccessToken: []
  '/{scopeId}/appversions/find/{appVersionId}':
    get:
      tags:
        - ZJ-AppVersions
      summary: Get an AppVersion
      description: Returns the AppVersion specified by the "appVersionId" path parameter.
      operationId: appVersionId
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested AppInfo.
          required: true
          schema:
            type: string
            default: _
        - name: appVersionId
          in: path
          description: The id of the requested AppInfo
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  url:
                    type: string
                  packagename:
                    type: string
                  types:
                    type: string
                  md5:
                    type: string
                  revision:
                    type: string
                  forversion:
                    type: string
                  version:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersion
            application/xml:
              schema:
                type: object
                properties:
                  code:
                    type: string
                  url:
                    type: string
                  packagename:
                    type: string
                  types:
                    type: string
                  md5:
                    type: string
                  revision:
                    type: string
                  forversion:
                    type: string
                  version:
                    type: string
                  comment:
                    type: string
                  type:
                    type: string
                  size:
                    type: integer
                    format: int32
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersion
      security:
        - kapuaAccessToken: []
  '/{scopeId}/appversions/_count':
    post:
      tags:
        - ZJ-AppVersions
      summary: Counts the AppVersion
      description: Counts the AppVersion with the given AppVersionQuery parameter returning the number of matching AppVersion
      operationId: AppVersionCount
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to count results
          required: true
          schema:
            type: string
            default: _
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
  '/{scopeId}/appversions/count/{packagename}':
    get:
      tags:
        - ZJ-AppVersions
      summary: Get an count by packagename and scopeId
      description: Returns the Integer by the  path parameter.
      operationId: getCountByPackagename
      parameters:
        - name: scopeId
          in: path
          description: 'The ScopeId of the requested '
          required: true
          schema:
            type: string
            default: _
        - name: packagename
          in: path
          description: 'The packageName of the requested '
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
      security:
        - kapuaAccessToken: []
  '/{scopeId}/appversions/_query':
    post:
      tags:
        - ZJ-AppVersions
      summary: Queries the AppVersion
      description: Queries the AppVersion with the given AppVersionQuery parameter returning all matching AppVersions
      operationId: appVersion the Query
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        code:
                          type: string
                        url:
                          type: string
                        packagename:
                          type: string
                        types:
                          type: string
                        md5:
                          type: string
                        revision:
                          type: string
                        forversion:
                          type: string
                        version:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      code:
                        type: string
                      url:
                        type: string
                      packagename:
                        type: string
                      types:
                        type: string
                      md5:
                        type: string
                      revision:
                        type: string
                      forversion:
                        type: string
                      version:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersion
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionListResult
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        code:
                          type: string
                        url:
                          type: string
                        packagename:
                          type: string
                        types:
                          type: string
                        md5:
                          type: string
                        revision:
                          type: string
                        forversion:
                          type: string
                        version:
                          type: string
                        comment:
                          type: string
                        type:
                          type: string
                        size:
                          type: integer
                          format: int32
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      code:
                        type: string
                      url:
                        type: string
                      packagename:
                        type: string
                      types:
                        type: string
                      md5:
                        type: string
                      revision:
                        type: string
                      forversion:
                        type: string
                      version:
                        type: string
                      comment:
                        type: string
                      type:
                        type: string
                      size:
                        type: integer
                        format: int32
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersion
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionListResult
  '/{scopeId}/appranges':
    post:
      tags:
        - ZJ-AppRange
      summary: Create an AppRange
      description: Creates a new AppRange based on the information provided in AppRangeCreator parameter.
      operationId: createRange
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the AppRange
          required: true
          schema:
            type: string
            default: _
      responses:
        '200':
          description: successful operation
          content:
            application/xml:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  expirationDate:
                    type: string
                    format: date-time
                  types:
                    type: string
                  range:
                    type: string
                  geoNameId:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appRange
            application/json:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  expirationDate:
                    type: string
                    format: date-time
                  types:
                    type: string
                  range:
                    type: string
                  geoNameId:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appRange
      requestBody:
        content:
          application/xml:
            schema:
              type: object
              properties:
                endTime:
                  type: integer
                  format: int32
                expirationDate:
                  type: string
                  format: date-time
                types:
                  type: string
                range:
                  type: string
                geoNameId:
                  type: string
                startTime:
                  type: integer
                  format: int32
                description:
                  type: string
                name:
                  type: string
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                scopeId:
                  type: string
              xml:
                name: appRangeCreator
          application/json:
            schema:
              type: object
              properties:
                endTime:
                  type: integer
                  format: int32
                expirationDate:
                  type: string
                  format: date-time
                types:
                  type: string
                range:
                  type: string
                geoNameId:
                  type: string
                startTime:
                  type: integer
                  format: int32
                description:
                  type: string
                name:
                  type: string
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                scopeId:
                  type: string
              xml:
                name: appRangeCreator
        description: Provides the information for the new AppRange to be created
        required: true
  '/{scopeId}/appranges/{appRangeId}':
    get:
      tags:
        - ZJ-AppRange
      summary: Get an appRange
      description: Returns the AppRange specified by the "appRangeId" path parameter.
      operationId: findRange
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested AppRange.
          required: true
          schema:
            type: string
            default: _
        - name: appRangeId
          in: path
          description: The id of the requested AppRange
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  expirationDate:
                    type: string
                    format: date-time
                  types:
                    type: string
                  range:
                    type: string
                  geoNameId:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appRange
            application/xml:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  expirationDate:
                    type: string
                    format: date-time
                  types:
                    type: string
                  range:
                    type: string
                  geoNameId:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appRange
    put:
      tags:
        - ZJ-AppRange
      summary: Update an AppRange
      description: Updates a new AppRange based on the information provided in the AppRange parameter.
      operationId: updateRange
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested AppRange.
          required: true
          schema:
            type: string
            default: _
        - name: appRangeId
          in: path
          description: The id of the requested AppRange
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  expirationDate:
                    type: string
                    format: date-time
                  types:
                    type: string
                  range:
                    type: string
                  geoNameId:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appRange
            application/xml:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  expirationDate:
                    type: string
                    format: date-time
                  types:
                    type: string
                  range:
                    type: string
                  geoNameId:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appRange
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                endTime:
                  type: integer
                  format: int32
                expirationDate:
                  type: string
                  format: date-time
                types:
                  type: string
                range:
                  type: string
                geoNameId:
                  type: string
                startTime:
                  type: integer
                  format: int32
                type:
                  type: string
                description:
                  type: string
                name:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                modifiedBy:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: appRange
          application/xml:
            schema:
              type: object
              properties:
                endTime:
                  type: integer
                  format: int32
                expirationDate:
                  type: string
                  format: date-time
                types:
                  type: string
                range:
                  type: string
                geoNameId:
                  type: string
                startTime:
                  type: integer
                  format: int32
                type:
                  type: string
                description:
                  type: string
                name:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                modifiedBy:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: appRange
        description: The modified AppRange whose attributes needs to be updated
        required: true
    delete:
      tags:
        - ZJ-AppRange
      summary: Delete an AppRange
      description: Deletes the AppRange specified by the "appRangeId" path parameter.
      operationId: deteleRange
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the Account to delete.
          required: true
          schema:
            type: string
            default: _
        - name: appRangeId
          in: path
          description: The id of the Account to be deleted
          required: true
          schema:
            type: string
      responses:
        default:
          description: successful operation
  '/{scopeId}/appranges/appRangeModePaging':
    get:
      tags:
        - ZJ-AppRange
      summary: Gets the AppVersionRangeModel list in the scope
      description: Returns the list of all the AppVersionRangeModel associated to the current selected scope.
      operationId: appVersionRangePagingQuery
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: offset
          in: query
          description: The result set offset.
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: limit
          in: query
          description: The result set limit.
          required: false
          schema:
            type: integer
            format: int32
            default: 50
        - name: name
          in: query
          description: The result set name.
          required: false
          schema:
            type: string
        - name: mac
          in: query
          description: The result set mac.
          required: false
          schema:
            type: string
        - name: locate
          in: query
          description: 'The language locate of the requested default is zh (en,zh).'
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  range:
                    type: string
                  geoNameId:
                    type: string
                  subdivision1Name:
                    type: string
                  cityName:
                    type: string
                  countryName:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appRangeModel
            application/xml:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  range:
                    type: string
                  geoNameId:
                    type: string
                  subdivision1Name:
                    type: string
                  cityName:
                    type: string
                  countryName:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appRangeModel
  '/{scopeId}/appranges/_count':
    post:
      tags:
        - ZJ-AppRange
      summary: Counts the appRange
      description: Counts the appRange with the given appRangeQuery parameter returning the number of matching appRange
      operationId: appRangeCount
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to count results
          required: true
          schema:
            type: string
            default: _
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                description: The count of the available Entities
                content:
                  application/json:
                    schema:
                      type: object
                      properties:
                        count:
                          type: integer
                          description: The total count of the Entities available in the Scope
            application/xml:
              schema:
                description: The count of the available Entities
                content:
                  application/json:
                    schema:
                      type: object
                      properties:
                        count:
                          type: integer
                          description: The total count of the Entities available in the Scope
  '/{scopeId}/appVersionRange':
    get:
      tags:
        - ZJ-AppVersionRange
      summary: Gets the appVersionRangeId list in the scope
      description: Returns the list of all the appVersionRangeId associated to the current selected scope.
      operationId: AppVersionRangesQuery
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: name
          in: query
          description: The AppRange  to filter results.
          required: false
          schema:
            type: string
        - name: offset
          in: query
          description: The result set offset.
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: limit
          in: query
          description: The result set limit.
          required: false
          schema:
            type: integer
            format: int32
            default: 50
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        versionid:
                          type: string
                        rangeid:
                          type: string
                        type:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      versionid:
                        type: string
                      rangeid:
                        type: string
                      type:
                        type: string
                      description:
                        type: string
                      name:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersionRange
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionRangeListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        versionid:
                          type: string
                        rangeid:
                          type: string
                        type:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      versionid:
                        type: string
                      rangeid:
                        type: string
                      type:
                        type: string
                      description:
                        type: string
                      name:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersionRange
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionRangeListResult
    post:
      tags:
        - ZJ-AppVersionRange
      summary: Create an AppVersionRange
      description: Creates a new AppVersionRange based on the information provided in AppVersionRangeCreator parameter.
      operationId: createAppVersionRange
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the AppVersionRange
          required: true
          schema:
            type: string
            default: _
      responses:
        '200':
          description: successful operation
          content:
            application/xml:
              schema:
                type: object
                properties:
                  versionid:
                    type: string
                  rangeid:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRange
            application/json:
              schema:
                type: object
                properties:
                  versionid:
                    type: string
                  rangeid:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRange
      requestBody:
        content:
          application/xml:
            schema:
              type: object
              properties:
                versionid:
                  type: string
                rangeid:
                  type: string
                description:
                  type: string
                name:
                  type: string
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                scopeId:
                  type: string
              xml:
                name: appVersionRangeCreator
          application/json:
            schema:
              type: object
              properties:
                versionid:
                  type: string
                rangeid:
                  type: string
                description:
                  type: string
                name:
                  type: string
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                scopeId:
                  type: string
              xml:
                name: appVersionRangeCreator
        description: Provides the information for the new AppVersionRange to be created
        required: true
  '/{scopeId}/appVersionRange/{appVersionRangeId}':
    get:
      tags:
        - ZJ-AppVersionRange
      summary: Get an appVersionRange
      description: Returns the appVersionRange specified by the "appVersionRangeId" path parameter.
      operationId: findappVersionRange
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested appVersionRange.
          required: true
          schema:
            type: string
            default: _
        - name: appVersionRangeId
          in: path
          description: The id of the requested appVersionRange
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  versionid:
                    type: string
                  rangeid:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRange
            application/xml:
              schema:
                type: object
                properties:
                  versionid:
                    type: string
                  rangeid:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRange
    put:
      tags:
        - ZJ-AppVersionRange
      summary: Update an AppVersionRange
      description: Updates a new AppVersionRange based on the information provided in the AppRange parameter.
      operationId: updateAppVersionRange
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested AppVersionRange.
          required: true
          schema:
            type: string
            default: _
        - name: appVersionRangeId
          in: path
          description: The id of the requested AppVersionRange
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  versionid:
                    type: string
                  rangeid:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRange
            application/xml:
              schema:
                type: object
                properties:
                  versionid:
                    type: string
                  rangeid:
                    type: string
                  type:
                    type: string
                  description:
                    type: string
                  name:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  modifiedBy:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRange
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                versionid:
                  type: string
                rangeid:
                  type: string
                type:
                  type: string
                description:
                  type: string
                name:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                modifiedBy:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: appVersionRange
          application/xml:
            schema:
              type: object
              properties:
                versionid:
                  type: string
                rangeid:
                  type: string
                type:
                  type: string
                description:
                  type: string
                name:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                modifiedBy:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: appVersionRange
        description: The modified AppVersionRange whose attributes needs to be updated
        required: true
    delete:
      tags:
        - ZJ-AppVersionRange
      summary: Delete an AppappVersionRange
      description: Deletes the appVersionRange specified by the "appVersionRangeId" path parameter.
      operationId: deteleappVersionRange
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the Account to delete.
          required: true
          schema:
            type: string
            default: _
        - name: appVersionRangeId
          in: path
          description: The id of the Account to be deleted
          required: true
          schema:
            type: string
      responses:
        default:
          description: successful operation
  '/{scopeId}/appVersionRange/appVersionRangelist':
    get:
      tags:
        - ZJ-AppVersionRange
      summary: Get an appVersionRangelist
      description: Returns the appVersionRangelist specified by the "appVersionRangelist" path parameter.
      operationId: findappVersionRangelist
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to count results
          required: true
          schema:
            type: string
            default: _
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  packagename:
                    type: string
                  range:
                    type: string
                  rangeName:
                    type: string
                  version:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRangeModel
            application/xml:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  packagename:
                    type: string
                  range:
                    type: string
                  rangeName:
                    type: string
                  version:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRangeModel
  '/{scopeId}/appVersionRange/appVersionRangelist/versionid':
    get:
      tags:
        - ZJ-AppVersionRange
      summary: Get an AppVersionRangeModel versionid
      description: Returns the AppVersionRangeModel  versionid specified by thes "AppVersionRangeModel versionid" path parameter.
      operationId: findAppVersionRangeModelListResults versionid
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to count results
          required: true
          schema:
            type: string
            default: _
        - name: versionid
          in: query
          description: The versionid in which to count results
          required: false
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  packagename:
                    type: string
                  range:
                    type: string
                  rangeName:
                    type: string
                  version:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRangeModel
            application/xml:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  packagename:
                    type: string
                  range:
                    type: string
                  rangeName:
                    type: string
                  version:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRangeModel
  '/{scopeId}/appVersionRange/appVersionRangePaging':
    get:
      tags:
        - ZJ-AppVersionRange
      summary: Gets the AppVersionRangeModel list in the scope
      description: Returns the list of all the AppVersionRangeModel associated to the current selected scope.
      operationId: appVersionRangeModelPagingQuery
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: offset
          in: query
          description: The result set offset.
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: limit
          in: query
          description: The result set limit.
          required: false
          schema:
            type: integer
            format: int32
            default: 50
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  packagename:
                    type: string
                  range:
                    type: string
                  rangeName:
                    type: string
                  version:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRangeModel
            application/xml:
              schema:
                type: object
                properties:
                  endTime:
                    type: integer
                    format: int32
                  packagename:
                    type: string
                  range:
                    type: string
                  rangeName:
                    type: string
                  version:
                    type: string
                  startTime:
                    type: integer
                    format: int32
                  type:
                    type: string
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: appVersionRangeModel
  '/{scopeId}/appVersionRange/_count':
    post:
      tags:
        - ZJ-AppVersionRange
      summary: Counts the appVersionRange
      description: Counts the appVersionRange with the given appVersionRangeQuery parameter returning the number of matching appVersionRange
      operationId: appVersionRangeCount
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to count results
          required: true
          schema:
            type: string
            default: _
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: The count of the available Entities
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: The total count of the Entities available in the Scope
  '/{scopeId}/appVersionRange/_query':
    post:
      tags:
        - ZJ-AppVersionRange
      summary: Queries the AppVersionRange
      description: Queries the AppVersionRange with the given AppVersionRangeQuery parameter returning all matching AppVersionRanges
      operationId: AppVersionRangeQuery
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
      requestBody:
        description: An object to specify Query options
        content:
          application/json:
            schema:
              description: A base object for all Queries
              type: object
              properties:
                limit:
                  description: A Limit on the result size. The result set will not contain more items than this number
                  type: integer
                  default: 50
                offset:
                  description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                  type: integer
                  default: 0
                askTotalCount:
                  description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                  type: boolean
                  default: false
              example:
                offset: 0
                limit: 50
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        versionid:
                          type: string
                        rangeid:
                          type: string
                        type:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      versionid:
                        type: string
                      rangeid:
                        type: string
                      type:
                        type: string
                      description:
                        type: string
                      name:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersionRange
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionRangeListResult
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    xml:
                      wrapped: true
                    items:
                      xml:
                        name: item
                      type: object
                      properties:
                        versionid:
                          type: string
                        rangeid:
                          type: string
                        type:
                          type: string
                        description:
                          type: string
                        name:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        modifiedBy:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                  firstItem:
                    type: object
                    properties:
                      versionid:
                        type: string
                      rangeid:
                        type: string
                      type:
                        type: string
                      description:
                        type: string
                      name:
                        type: string
                      modifiedOn:
                        type: string
                        format: date-time
                      modifiedBy:
                        type: string
                      optlock:
                        type: integer
                        format: int32
                      entityAttributes:
                        type: object
                        additionalProperties:
                          type: string
                      entityProperties:
                        type: object
                        additionalProperties:
                          type: string
                      id:
                        type: string
                      scopeId:
                        type: string
                      createdOn:
                        type: string
                        format: date-time
                      createdBy:
                        type: string
                    xml:
                      name: appVersionRange
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: appVersionRangeListResult
  '/{scopeId}/subsets':
    get:
      tags:
        - ZJ-Device subsets
      summary: Gets the gateway subset list in the scope
      description: Returns the list of all the subsets associated to the current selected scope.
      operationId: Subset Query
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to search results.
          required: true
          schema:
            type: string
            default: _
        - name: gatewayId
          in: query
          description: The gateway id  to filter results.
          required: true
          schema:
            type: string
        - name: userId
          in: query
          description: The user id  to filter results.
          required: false
          schema:
            type: string
        - name: name
          in: query
          description: The name  to filter results.
          required: false
          schema:
            type: string
        - name: deviceType
          in: query
          description: The deviceType  to filter results.
        - name: area
          in: query
          description: The area  to filter results.
          required: false
          schema:
            type: string
        - name: offset
          in: query
          description: The result set offset.
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: limit
          in: query
          description: The result set limit.
          required: false
          schema:
            type: integer
            format: int32
            default: 50
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        gatewayId:
                          type: string
                        userId:
                          type: string
                        area:
                          type: string
                        displayName:
                          type: string
                        status:
                          type: string
                        deviceType:
                          type: string
                        subType:
                          type: string
                        icon:
                          type: string
                        description:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        modifiedBy:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                      xml:
                        name: subset
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: subsetListResult
            application/xml:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        gatewayId:
                          type: string
                        userId:
                          type: string
                        area:
                          type: string
                        displayName:
                          type: string
                        status:
                          type: string
                        deviceType:
                          type: string
                        subType:
                          type: string
                        icon:
                          type: string
                        description:
                          type: string
                        optlock:
                          type: integer
                          format: int32
                        entityAttributes:
                          type: object
                          additionalProperties:
                            type: string
                        entityProperties:
                          type: object
                          additionalProperties:
                            type: string
                        modifiedBy:
                          type: string
                        modifiedOn:
                          type: string
                          format: date-time
                        id:
                          type: string
                        scopeId:
                          type: string
                        createdOn:
                          type: string
                          format: date-time
                        createdBy:
                          type: string
                      xml:
                        name: subset
                  limitExceeded:
                    type: boolean
                  empty:
                    type: boolean
                  size:
                    type: integer
                    format: int32
                xml:
                  name: subsetListResult
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - ZJ-Device subsets
      summary: Create the Subset
      description: Creates a new Subset based on the information provided in SubsetCreator
      operationId: createSubset
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId in which to create the Subset
          required: true
          schema:
            type: string
            default: _
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              type: object
              properties:
                name:
                  type: string
                gatewayId:
                  type: string
                userId:
                  type: string
                area:
                  type: string
                displayName:
                  type: string
                status:
                  type: string
                deviceType:
                  type: string
                subType:
                  type: string
                icon:
                  type: string
                description:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                modifiedBy:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: subsetCreator
          application/xml:
            schema:
              type: object
              properties:
                name:
                  type: string
                gatewayId:
                  type: string
                userId:
                  type: string
                area:
                  type: string
                displayName:
                  type: string
                status:
                  type: string
                deviceType:
                  type: string
                subType:
                  type: string
                icon:
                  type: string
                description:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                modifiedBy:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: subsetCreator
        description: Provides the information for the new Subset to be created
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  gatewayId:
                    type: string
                  userId:
                    type: string
                  area:
                    type: string
                  displayName:
                    type: string
                  status:
                    type: string
                  deviceType:
                    type: string
                  subType:
                    type: string
                  icon:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: subset
            application/xml:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  gatewayId:
                    type: string
                  userId:
                    type: string
                  area:
                    type: string
                  displayName:
                    type: string
                  status:
                    type: string
                  deviceType:
                    type: string
                  subType:
                    type: string
                  icon:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: subset
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  '/{scopeId}/subsets/{subsetId}':
    get:
      tags:
        - ZJ-Device subsets
      summary: Get the Subset
      description: Returns the Subset specified by the "Id" path parameter.
      operationId: find Subset
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested Subset.
          required: true
          schema:
            type: string
            default: _
        - name: subsetId
          in: path
          description: The id of the requested Subset
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  gatewayId:
                    type: string
                  userId:
                    type: string
                  area:
                    type: string
                  displayName:
                    type: string
                  status:
                    type: string
                  deviceType:
                    type: string
                  subType:
                    type: string
                  icon:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: subset
            application/xml:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  gatewayId:
                    type: string
                  userId:
                    type: string
                  area:
                    type: string
                  displayName:
                    type: string
                  status:
                    type: string
                  deviceType:
                    type: string
                  subType:
                    type: string
                  icon:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: subset
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    put:
      tags:
        - ZJ-Device subsets
      summary: Update the Subset
      description: Updates a new Subset based on the information provided in the Subset
      operationId: update Subset
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested Subset.
          required: true
          schema:
            type: string
            default: _
        - name: subsetId
          in: path
          description: The id of the requested Subset
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              type: object
              properties:
                name:
                  type: string
                gatewayId:
                  type: string
                userId:
                  type: string
                area:
                  type: string
                displayName:
                  type: string
                status:
                  type: string
                deviceType:
                  type: string
                subType:
                  type: string
                icon:
                  type: string
                description:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                modifiedBy:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: subset
          application/xml:
            schema:
              type: object
              properties:
                name:
                  type: string
                gatewayId:
                  type: string
                userId:
                  type: string
                area:
                  type: string
                displayName:
                  type: string
                status:
                  type: string
                deviceType:
                  type: string
                subType:
                  type: string
                icon:
                  type: string
                description:
                  type: string
                optlock:
                  type: integer
                  format: int32
                entityAttributes:
                  type: object
                  additionalProperties:
                    type: string
                entityProperties:
                  type: object
                  additionalProperties:
                    type: string
                modifiedBy:
                  type: string
                modifiedOn:
                  type: string
                  format: date-time
                id:
                  type: string
                scopeId:
                  type: string
                createdOn:
                  type: string
                  format: date-time
                createdBy:
                  type: string
              xml:
                name: subset
        description: The modified Subset whose attributes needs to be updated
        required: true
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  gatewayId:
                    type: string
                  userId:
                    type: string
                  area:
                    type: string
                  displayName:
                    type: string
                  status:
                    type: string
                  deviceType:
                    type: string
                  subType:
                    type: string
                  icon:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: subset
            application/xml:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  gatewayId:
                    type: string
                  userId:
                    type: string
                  area:
                    type: string
                  displayName:
                    type: string
                  status:
                    type: string
                  deviceType:
                    type: string
                  subType:
                    type: string
                  icon:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: subset
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    post:
      tags:
        - ZJ-Device subsets
      summary: share the Subset
      description: Share a Subset to the other user.
      operationId: sharedSubset
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the requested Subset.
          required: true
          schema:
            type: string
            default: _
        - name: subsetId
          in: path
          description: The id of the requested Subset
          required: true
          schema:
            type: string
        - name: phoneNumber
          in: query
          description: The userName(phoneNumber) of your shared.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  gatewayId:
                    type: string
                  userId:
                    type: string
                  area:
                    type: string
                  displayName:
                    type: string
                  status:
                    type: string
                  deviceType:
                    type: string
                  subType:
                    type: string
                  icon:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: subset
            application/xml:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  gatewayId:
                    type: string
                  userId:
                    type: string
                  area:
                    type: string
                  displayName:
                    type: string
                  status:
                    type: string
                  deviceType:
                    type: string
                  subType:
                    type: string
                  icon:
                    type: string
                  description:
                    type: string
                  optlock:
                    type: integer
                    format: int32
                  entityAttributes:
                    type: object
                    additionalProperties:
                      type: string
                  entityProperties:
                    type: object
                    additionalProperties:
                      type: string
                  modifiedBy:
                    type: string
                  modifiedOn:
                    type: string
                    format: date-time
                  id:
                    type: string
                  scopeId:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: string
                xml:
                  name: subset
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
    delete:
      tags:
        - ZJ-Device subsets
      summary: Delete the Subset
      description: Deletes the Subset specified by the "id" path parameter.
      operationId: detele Subset and mid
      parameters:
        - name: scopeId
          in: path
          description: The ScopeId of the Subset to delete.
          required: true
          schema:
            type: string
            default: _
        - name: subsetId
          in: path
          description: The id of the Subset to be deleted
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
        '401':
          description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
        '403':
          description: The user performing the operation does not have the required permissions
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      permission:
                        description: 'The permission that is required to perform the operation, and that the current user is missing'
                        type: string
        '404':
          description: The desired entity could not be found
          content:
            application/json:
              schema:
                allOf:
                  - description: The base object to represent an Error
                    properties:
                      message:
                        type: string
                        description: An extended description of the error that occurred when performing the operation
                      kapuaErrorCode:
                        type: string
                        description: An human readable error code that can be used to
                  - properties:
                      entityType:
                        description: The type of the entity that could not be found
                        type: string
                      entityId:
                        description: The ID of the entity that could not be found
                        type: string
        '500':
          description: An error occurred while performing the request
          content:
            application/json:
              schema:
                description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
  /public/datetime:
    get:
      tags:
        - ZJ-public api
      summary: Queries the server date time
      description: Queries the server date time
      operationId: getServerDateTime
      parameters:
        - name: deviceId
          in: query
          description: The deviceId of the requester
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            text/plain:
              schema:
                type: string
  '/public/{scopeId}/update':
    get:
      tags:
        - ZJ-public api
      summary: Queries the app lasted version
      description: Queries the server date time
      operationId: getAppLastedVersion
      parameters:
        - name: scopeId
          in: path
          description: |
            The ID of the Scope where to perform the operation.
          schema:
            allOf:
              - type: string
                pattern: '[A-Za-z0-9-_=]+'
                description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
              - default: _
          required: true
        - name: package
          in: query
          description: The namespace of the app
          required: true
          schema:
            type: string
        - name: version
          in: query
          description: The current version of the app
          required: true
          schema:
            type: string
        - name: deviceId
          in: query
          description: The deviceId of the app run in
          required: true
          schema:
            type: string
        - name: key
          in: query
          description: The key to authentication the app
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: string
  /fileuploads/file:
    post:
      tags:
        - ZJ-FileUploads
      summary: apk  uploads
      description: apk uploads.
      operationId: uploadFile
      parameters:
        - name: packagename
          in: query
          description: The packagename of request
          required: true
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                filename:
                  type: string
                  format: binary
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: string
  '/fileuploads/image/{filePath}':
    post:
      tags:
        - ZJ-FileUploads
      summary: Upload a image
      description: Return to the image url link
      operationId: upload image
      parameters:
        - name: filePath
          in: path
          description: The sub path of the upload file
          required: true
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                filename:
                  type: string
                  format: binary
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: string
components:
  parameters:
    scopeId:
      name: scopeId
      in: path
      description: |
        The ID of the Scope where to perform the operation.
      schema:
        allOf:
          - type: string
            pattern: '[A-Za-z0-9-_=]+'
            description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
          - default: _
      required: true
    limit:
      name: limit
      in: query
      description: A Limit on the result size. The result set will not contain more items than this number
      schema:
        type: integer
        default: 50
    offset:
      name: offset
      in: query
      description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
      schema:
        type: integer
        default: 0
    askTotalCount:
      name: askTotalCount
      in: query
      description: 'If true, the total count of the entities matching the query will be included in the result set'
      schema:
        type: boolean
        default: false
    sortParam:
      name: sortParam
      in: query
      description: The name of the parameter that will be used as a sorting key
      schema:
        type: string
    sortDir:
      name: sortDir
      in: query
      description: 'The sort direction. Can be ASCENDING (default), DESCENDING. Case-insensitive.'
      schema:
        type: string
        enum:
          - ASCENDING
          - DESCENDING
        default: ASCENDING
  schemas:
    kapuaId:
      type: string
      pattern: '[A-Za-z0-9-_=]+'
      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
    kapuaEntity:
      description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
      type: object
      properties:
        id:
          allOf:
            - type: string
              pattern: '[A-Za-z0-9-_=]+'
              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
            - description: The ID of the Entity
              readOnly: true
        scopeId:
          allOf:
            - type: string
              pattern: '[A-Za-z0-9-_=]+'
              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
            - description: The ID of the Scope containing the Entity
              readOnly: true
        createdOn:
          description: The date and time when this entity was created
          type: string
          format: date-time
          readOnly: true
        createdBy:
          allOf:
            - type: string
              pattern: '[A-Za-z0-9-_=]+'
              description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
            - description: The ID of the Entity who created this Entity
              readOnly: true
    kapuaUpdatableEntity:
      allOf:
        - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
          type: object
          properties:
            id:
              allOf:
                - type: string
                  pattern: '[A-Za-z0-9-_=]+'
                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                - description: The ID of the Entity
                  readOnly: true
            scopeId:
              allOf:
                - type: string
                  pattern: '[A-Za-z0-9-_=]+'
                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                - description: The ID of the Scope containing the Entity
                  readOnly: true
            createdOn:
              description: The date and time when this entity was created
              type: string
              format: date-time
              readOnly: true
            createdBy:
              allOf:
                - type: string
                  pattern: '[A-Za-z0-9-_=]+'
                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                - description: The ID of the Entity who created this Entity
                  readOnly: true
        - description: An Entity that also supports edits and versioning
          type: object
          properties:
            modifiedOn:
              description: The date and time when this entity was modified
              type: string
              format: date-time
              readOnly: true
            modifiedBy:
              allOf:
                - type: string
                  pattern: '[A-Za-z0-9-_=]+'
                  description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                - description: The ID of the Entity who modified this Entity
                  readOnly: true
            optlock:
              description: |
                The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
              type: integer
    kapuaNamedEntity:
      allOf:
        - allOf:
            - description: 'A standard Entity, that doesn''t support edits and versioning. All the objects (except for Datastore objects) in Kapua are Entities'
              type: object
              properties:
                id:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    - description: The ID of the Entity
                      readOnly: true
                scopeId:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    - description: The ID of the Scope containing the Entity
                      readOnly: true
                createdOn:
                  description: The date and time when this entity was created
                  type: string
                  format: date-time
                  readOnly: true
                createdBy:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    - description: The ID of the Entity who created this Entity
                      readOnly: true
            - description: An Entity that also supports edits and versioning
              type: object
              properties:
                modifiedOn:
                  description: The date and time when this entity was modified
                  type: string
                  format: date-time
                  readOnly: true
                modifiedBy:
                  allOf:
                    - type: string
                      pattern: '[A-Za-z0-9-_=]+'
                      description: 'The standard format for any ID in Kapua. It''s encoded as a [base64url URL- and filename-safe (RFC 4648 §5)](https://tools.ietf.org/html/rfc4648#section-5)'
                    - description: The ID of the Entity who modified this Entity
                      readOnly: true
                optlock:
                  description: |
                    The optlock field is used to detect that this entity has not been modified by someone else. When updating an entity, first do a find to get the latest version of the entity and note the value of the optlock. Then in the update operation, set the optlock value to match the value that you found. If someone else has updated the entity between your find and update operations, the update will fail and the db/server will return an error.\
                    See this [StackOverflow question](http://stackoverflow.com/questions/129329/optimistic-vs-pessimistic-locking) for more information on optimistic locking
                  type: integer
        - description: An UpdatableEntity that also has a name and a description
          type: object
          properties:
            name:
              description: The name of the Entity
              type: string
            description:
              description: The description of the Entity
              type: string
    kapuaQuery:
      description: A base object for all Queries
      type: object
      properties:
        limit:
          description: A Limit on the result size. The result set will not contain more items than this number
          type: integer
          default: 50
        offset:
          description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
          type: integer
          default: 0
        askTotalCount:
          description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
          type: boolean
          default: false
      example:
        offset: 0
        limit: 50
    kapuaEntityCreator:
      description: An object that contains the informations needed to create an Entity
      type: object
    kapuaUpdatableEntityCreator:
      allOf:
        - description: An object that contains the informations needed to create an Entity
          type: object
        - description: An object that contains the informations needed to create an Updatable Entity
          type: object
    kapuaNamedEntityCreator:
      allOf:
        - allOf:
            - description: An object that contains the informations needed to create an Entity
              type: object
            - description: An object that contains the informations needed to create an Updatable Entity
              type: object
        - description: An object that contains the informations needed to create a Named Entity
          type: object
          properties:
            name:
              description: The name of the Entity
              type: string
            description:
              description: The description of the Entity
              type: string
          required:
            - name
    kapuaError:
      description: The base object to represent an Error
      properties:
        message:
          type: string
          description: An extended description of the error that occurred when performing the operation
        kapuaErrorCode:
          type: string
          description: An human readable error code that can be used to
    kapuaListResult:
      description: A container for all the Entities List
      type: object
      properties:
        limitExceeded:
          description: A flag indicating if more results are available but were not returned because of the limit imposed in the query
          type: boolean
        size:
          description: The size of the list containing the items
          type: integer
        totalCount:
          description: The total count of the elements that matched the query. Available only if `askTotalCount` was `true` in the query object.
          type: integer
      required:
        - limitedExceeded
        - size
    kapuaCountResult:
      type: object
      properties:
        count:
          type: integer
          description: The total count of the Entities available in the Scope
  requestBodies:
    kapuaQuery:
      description: An object to specify Query options
      content:
        application/json:
          schema:
            description: A base object for all Queries
            type: object
            properties:
              limit:
                description: A Limit on the result size. The result set will not contain more items than this number
                type: integer
                default: 50
              offset:
                description: 'An Offset on the result size. Used to skip the first `n` items of a result set, with `n` equal to the value of `offset`'
                type: integer
                default: 0
              askTotalCount:
                description: 'A flag to ask the total results count in the response, in addition to the data set as requested with the `offset` and `limit` parameters'
                type: boolean
                default: false
            example:
              offset: 0
              limit: 50
      required: true
  responses:
    countResult:
      description: The count of the available Entities
      content:
        application/json:
          schema:
            type: object
            properties:
              count:
                type: integer
                description: The total count of the Entities available in the Scope
    kapuaError:
      description: An error occurred while performing the request
      content:
        application/json:
          schema:
            description: The base object to represent an Error
            properties:
              message:
                type: string
                description: An extended description of the error that occurred when performing the operation
              kapuaErrorCode:
                type: string
                description: An human readable error code that can be used to
    entityNotFound:
      description: The desired entity could not be found
      content:
        application/json:
          schema:
            allOf:
              - description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
              - properties:
                  entityType:
                    description: The type of the entity that could not be found
                    type: string
                  entityId:
                    description: The ID of the entity that could not be found
                    type: string
    illegalArgument:
      description: An illegal value has been passes to the operation
      content:
        application/json:
          schema:
            allOf:
              - description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
              - properties:
                  argumentName:
                    description: The name of the argument who holds an illegal value
                    type: string
                  argumentValue:
                    description: The illegal value passed to the operation
                    type: string
    illegalNullArgument:
      description: An illegal null argument has been passed to the operation
      content:
        application/json:
          schema:
            allOf:
              - description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
              - properties:
                  argumentName:
                    type: string
                    description: The name of the argument who holds an illegal null value
    subjectUnauthorized:
      description: The user performing the operation does not have the required permissions
      content:
        application/json:
          schema:
            allOf:
              - description: The base object to represent an Error
                properties:
                  message:
                    type: string
                    description: An extended description of the error that occurred when performing the operation
                  kapuaErrorCode:
                    type: string
                    description: An human readable error code that can be used to
              - properties:
                  permission:
                    description: 'The permission that is required to perform the operation, and that the current user is missing'
                    type: string
    unauthenticated:
      description: 'The provided AccessToken could not be found, or no AccessToken has been provided'
  securitySchemes:
    kapuaToken:
      description: 'The default AccessToken Security Scheme. A [JWT](https://jwt.io) is used to represent the claims of a user'
      type: http
      scheme: bearer
      bearerFormat: JWT
security:
  - kapuaToken: []
x-explorer-enabled: false
x-samples-languages:
  - java
  - python
  - node
  - javascript
  - ruby
  - curl
